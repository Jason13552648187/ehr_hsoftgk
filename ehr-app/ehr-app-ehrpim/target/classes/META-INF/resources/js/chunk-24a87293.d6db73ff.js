(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a87293","chunk-2d21a717","chunk-2d21b0a8"],{"10d6":function(e,t,n){"use strict";var a=n("d4ec"),r=n("99de"),i=n("7e84"),o=n("262e"),s=(n("b0c0"),n("2b19"),n("bee2")),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a["a"])(this,e),this.caption="",this.detailType="",this.form=null,this.name="",this.visible=!0,this.isShowCaption=!0,this.caption=Object.is(t.caption,"")?"":t.caption,this.detailType=Object.is(t.detailType,"")?"":t.detailType,this.form=t.form?t.form:{},this.name=Object.is(t.name,"")?"":t.name,this.visible=!!t.visible,this.isShowCaption=!!t.isShowCaption}return Object(s["a"])(e,[{key:"setVisible",value:function(e){this.visible=e}},{key:"setShowCaption",value:function(e){this.isShowCaption=e}}]),e}(),u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),t}(c),g=(n("e25e"),function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).call(this,n)),e.disabled=!1,e.error="",e.enableCond=3,e.disabled=!!n.disabled,e.enableCond=n.enableCond,e}return Object(o["a"])(t,e),Object(s["a"])(t,[{key:"setDisabled",value:function(e){this.disabled=e}},{key:"setError",value:function(e){this.error=e}},{key:"setEnableCond",value:function(e){var t=!0,n=parseInt(e,10),a=!0;t&&(1===n?2===(2&this.enableCond)&&(a=!1):1===(1&this.enableCond)&&(a=!1)),this.setDisabled(a)}}]),t}(c)),l=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).call(this,n)),e.refviewtype="",e.isSaving=!1,e.refViewDirty=!1,e.isSaveSuccess=!1,e.saveRefView=0,e.refviewtype=n.refviewtype,e}return Object(o["a"])(t,e),Object(s["a"])(t,[{key:"onDrDataSaved",value:function(e){this.isSaving=!1,e&&(this.refViewDirty=!1,this.isSaveSuccess=!0),e&&this.form&&this.form.DRUIPartSaveResult()&&this.form.save()}}]),t}(c),d=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).call(this,n)),e.uiActionGroup={},Object.assign(e.uiActionGroup,n.uiActionGroup),e}return Object(o["a"])(t,e),t}(c),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),t}(c),m=(n("4de4"),n("c740"),n("45fc"),n("07ac"),n("2909")),v=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).call(this,n)),e.activiedPage="",e.clickActiviePage="",e.tabPages=[],e.tabPages=Object(m["a"])(n.tabPages),e.tabPages.length>0&&(e.activiedPage=e.tabPages[0].name),e}return Object(o["a"])(t,e),Object(s["a"])(t,[{key:"setActiviePage",value:function(){var e=this;if(this.form){var t=this.form.detailsModel,n=this.tabPages.findIndex((function(n){return Object.is(n.name,e.clickActiviePage)&&Object.is(n.name,e.activiedPage)&&t[n.name].visible}));-1===n&&this.tabPages.some((function(n){return!!t[n.name].visible&&(e.activiedPage=n.name,!0)}))}}},{key:"clickPage",value:function(e){e&&(this.clickActiviePage=e,this.activiedPage=e)}}]),t}(c);n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v}))},4757:function(e,t,n){},5209:function(e,t,n){},"62a7":function(e,t,n){"use strict";var a=n("5209"),r=n.n(a);r.a},"98c7":function(e,t,n){"use strict";n.r(t);var a=n("d4ec"),r=n("99de"),i=n("7e84"),o=n("262e"),s=n("9ab4"),c=n("60a3"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-layout",{attrs:{viewName:"contractsignorgeditview",viewTitle:"法人主体设置编辑视图",className:{"view-container":!0,"default-mode-view":!0,deeditview:!0,"contract-sign-orgedit-view":!0},layoutMode:"VIEW",isShowUserInfo:e.isDefaultView(),openMode:e.openMode},on:{"close-view":function(t){return e.closeView(t)}}},[n("template",{slot:"headerLeft"},[n("div",{staticClass:"view-header-left"},[e.isDefaultView()?n("div",{staticClass:"view-caption"},[e._v(e._s(e.$t(e.model.srfCaption)))]):e._e(),e.isModalView()?n("modal-breadcrumb"):e._e()],1)]),n("template",{slot:"headerRight"},[n("div",{staticClass:"view-header-right"},[n("app-header-menus",{attrs:{toolbarModel:e.toolBarModels,mode:"view",openMode:e.openMode},on:{"menu-click":function(t){return e.toolbar_click(t)}}})],1)]),n("template",{slot:"content"},[n("div",{staticClass:"view-content-wrapper"},[n("view_form",{ref:"form",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,autosave:!1,viewtag:e.viewtag,showBusyIndicator:!0,updateAction:"Update",removeAction:"Remove",loaddraftAction:"GetDraft",loadAction:"Get",createAction:"Create",WFSubmitAction:"",WFStartAction:"",name:"form"},on:{save:function(t){return e.form_save(t)},remove:function(t){return e.form_remove(t)},load:function(t){return e.form_load(t)},closeview:function(t){return e.closeView(t)}}})],1)])],2)},g=[],l=(n("a4d3"),n("4de4"),n("4160"),n("1d1c"),n("7a82"),n("e439"),n("dbb4"),n("2b19"),n("b64b"),n("2ca0"),n("159b"),n("ade3")),d=n("2909"),f=n("bee2"),m=n("2bd2"),v=n("46aa"),p=n("bda1"),h=n("ef3d");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.appEntityService=new p["default"],e.counterServiceArray=[],e.viewtag="cf999616e09e379c2a0a46be3ed99e0b",e.srfparentdata={},e.customViewNavContexts={},e.customViewParams={},e.model={srfCaption:"entities.pimcontractsignorg.views.editview.caption",srfTitle:"entities.pimcontractsignorg.views.editview.title",srfSubTitle:"entities.pimcontractsignorg.views.editview.subtitle",dataInfo:""},e.containerModel={view_toolbar:{name:"toolbar",type:"TOOLBAR"},view_form:{name:"form",type:"FORM"}},e.viewState=new m["a"],e.toolBarModels={tbitem3:{name:"tbitem3",caption:"保存",isShowCaption:!0,isShowIcon:!0,tooltip:"保存",iconcls:"fa fa-save",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"SRFUR__JGLYZPMXME",uiaction:{tag:"Save",target:""},class:""},tbitem4:{name:"tbitem4",caption:"保存并新建",isShowCaption:!0,isShowIcon:!0,tooltip:"保存并新建",iconcls:"sx-tb-saveandnew",icon:"../sasrfex/images/default/icon_saveandnew.png",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"SaveAndNew",target:""},class:""},tbitem5:{name:"tbitem5",caption:"保存并关闭",isShowCaption:!0,isShowIcon:!0,tooltip:"保存并关闭",iconcls:"sx-tb-saveandclose",icon:"../sasrfex/images/default/icon_saveandclose.png",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"SRFUR__JGLYXKML",uiaction:{tag:"SaveAndExit",target:""},class:""},tbitem7:{name:"tbitem7",caption:"删除并关闭",isShowCaption:!0,isShowIcon:!0,tooltip:"删除并关闭",iconcls:"fa fa-remove",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"RemoveAndExit",target:"SINGLEKEY"},class:""},tbitem22:{name:"tbitem22",caption:"帮助",isShowCaption:!0,isShowIcon:!0,tooltip:"帮助",iconcls:"fa fa-question",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"Help",target:""},class:""}},e.engine=new h["a"],e}return Object(o["a"])(t,e),Object(f["a"])(t,[{key:"viewDatasChange",value:function(e){return e}},{key:"engineInit",value:function(){this.engine.init({view:this,form:this.$refs.form,p2k:"0",keyPSDEField:"pimcontractsignorg",majorPSDEField:"contractsignorgname",isLoadDefault:!0})}},{key:"toolbar_click",value:function(e,t){Object.is(e.tag,"tbitem3")&&this.toolbar_tbitem3_click(null,"",t),Object.is(e.tag,"tbitem4")&&this.toolbar_tbitem4_click(null,"",t),Object.is(e.tag,"tbitem5")&&this.toolbar_tbitem5_click(null,"",t),Object.is(e.tag,"tbitem7")&&this.toolbar_tbitem7_click(null,"",t),Object.is(e.tag,"tbitem10")&&this.toolbar_tbitem10_click(null,"",t),Object.is(e.tag,"tbitem15")&&this.toolbar_tbitem15_click(null,"",t),Object.is(e.tag,"tbitem22")&&this.toolbar_tbitem22_click(null,"",t)}},{key:"form_save",value:function(e,t){this.engine.onCtrlEvent("form","save",e)}},{key:"form_remove",value:function(e,t){this.engine.onCtrlEvent("form","remove",e)}},{key:"form_load",value:function(e,t){this.engine.onCtrlEvent("form","load",e)}},{key:"toolbar_tbitem3_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.Save(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem4_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.SaveAndNew(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem5_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.SaveAndExit(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem7_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.RemoveAndExit(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem10_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.ViewWFStep(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem15_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.Print(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"toolbar_tbitem22_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=[],a=null,r={},i={};a=this.$refs.form,a.getDatas&&a.getDatas instanceof Function&&(n=Object(d["a"])(a.getDatas())),e&&(n=[e]),this.Help(n,i,r,t,a,this,"PimContractSignOrg")}},{key:"Save",value:function(e,t,n,a,r,i,o){var s=this;r&&r.save instanceof Function?r.save().then((function(e){e&&200===e.status&&s.$emit("viewdataschange",[y({},e.data)])})):s.save&&s.save instanceof Function&&s.save()}},{key:"SaveAndNew",value:function(e,t,n,a,r,i,o){var s=this;r&&r.saveAndNew instanceof Function&&r.saveAndNew().then((function(e){e&&200===e.status?(s.$emit("viewdataschange",JSON.stringify({status:"success",action:"saveAndNew",data:e.data})),r.autoLoad instanceof Function&&r.autoLoad()):s.$emit("viewdataschange",JSON.stringify({status:"error",action:"saveAndNew"}))}))}},{key:"SaveAndExit",value:function(e,t,n,a,r,i,o){var s=this;r&&r.saveAndExit instanceof Function?r.saveAndExit().then((function(e){e&&200===e.status&&window.parent&&window.parent.postMessage([y({},e.data)],"*")})):s.saveAndExit&&s.saveAndExit instanceof Function&&s.saveAndExit().then((function(e){e&&200===e.status&&window.parent&&window.parent.postMessage([y({},e.data)],"*")}))}},{key:"RemoveAndExit",value:function(e,t,n,a,r,i,o){var s=this;r&&r.removeAndExit instanceof Function?r.removeAndExit().then((function(e){e&&200===e.status&&window.parent&&window.parent.postMessage([y({},e.data)],"*")})):s.removeAndExit&&s.removeAndExit instanceof Function&&s.removeAndExit().then((function(e){e&&200===e.status&&window.parent&&window.parent.postMessage([y({},e.data)],"*")}))}},{key:"ViewWFStep",value:function(e,t,n,a,r,i,o){var s=this;r&&r.wfsubmit instanceof Function&&r.wfsubmit(e).then((function(e){if(e&&200===e.status){var t=e.data;s.viewdata?(s.$emit("viewdataschange",[y({},t)]),s.$emit("close")):s.$tabPageExp&&s.$tabPageExp.onClose(s.$route.fullPath)}}))}},{key:"Print",value:function(e,t,n,a,r,i,o){r&&r.print instanceof Function&&a&&r.print()}},{key:"Help",value:function(e,t,n,a,r,i,o){this.$Notice.error({title:"错误",desc:"帮助未支持"})}},{key:"destroyed",value:function(){var e=this;if(this.viewDefaultUsage){var t=Object.keys(localStorage);t.length>0&&t.forEach((function(t){t.startsWith(e.context.srfsessionid)&&localStorage.removeItem(t)}))}}}]),t}(v["h"]);s["a"]([Object(c["b"])()],O.prototype,"viewDatasChange",null),O=s["a"]([Object(c["a"])({}),v["q"]],O);var w=O,j=w,k=(n("a0e5"),n("2877")),S=Object(k["a"])(j,u,g,!1,null,null,null),E=S.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i-form",{ref:"form",staticClass:"app-form",attrs:{model:this.data,id:"pimcontractsignorg_main"}},[n("input",{staticStyle:{display:"none"}}),n("row",[n("i-col",{directives:[{name:"show",rawName:"v-show",value:e.detailsModel.group1.visible,expression:"detailsModel.group1.visible"}],style:{},attrs:{lg:{span:24,offset:0}}},[n("app-form-group",{attrs:{layoutType:"TABLE_24COL",titleStyle:"",uiActionGroup:e.detailsModel.group1.uiActionGroup,caption:e.$t("entities.pimcontractsignorg.main_form.details.group1"),isShowCaption:!1,uiStyle:"DEFAULT",titleBarCloseMode:0,isInfoGroupMode:!1},on:{groupuiactionclick:function(t){return e.groupUIActionClick(t)}}},[n("row",[n("i-col",{directives:[{name:"show",rawName:"v-show",value:e.detailsModel.ormorgname.visible,expression:"detailsModel.ormorgname.visible"}],style:{},attrs:{lg:{span:8,offset:0}}},[n("app-form-item",{attrs:{name:"ormorgname",itemRules:this.rules.ormorgname,caption:e.$t("entities.pimcontractsignorg.main_form.details.ormorgname"),uiStyle:"DEFAULT",labelWidth:130,isShowCaption:!0,error:e.detailsModel.ormorgname.error,isEmptyCaption:!1,labelPos:"LEFT"}},[n("app-picker",{attrs:{formState:e.formState,data:e.data,context:e.context,viewparams:e.viewparams,localContext:{},localParam:{},disabled:e.detailsModel.ormorgname.disabled,name:"ormorgname",deMajorField:"orgname",deKeyField:"ormorg",service:e.service,acParams:{serviceName:"OrmOrgService",interfaceName:"FetchDefault"},valueitem:"ormorgid",value:e.data.ormorgname,editortype:"",pickupView:{viewname:"ormorgall-level-two-org-pickup-view",title:e.$t("entities.ormorg.views.allleveltwoorgpickupview.title"),deResParameters:[],parameters:[{pathName:"ormorgs",parameterName:"ormorg"},{pathName:"allleveltwoorgpickupview",parameterName:"allleveltwoorgpickupview"}],placement:""}},on:{formitemvaluechange:e.onFormItemValueChange}})],1)],1),n("i-col",{directives:[{name:"show",rawName:"v-show",value:e.detailsModel.ormsignorgname.visible,expression:"detailsModel.ormsignorgname.visible"}],style:{},attrs:{lg:{span:8,offset:0}}},[n("app-form-item",{attrs:{name:"ormsignorgname",itemRules:this.rules.ormsignorgname,caption:e.$t("entities.pimcontractsignorg.main_form.details.ormsignorgname"),uiStyle:"DEFAULT",labelWidth:130,isShowCaption:!0,error:e.detailsModel.ormsignorgname.error,isEmptyCaption:!1,labelPos:"LEFT"}},[n("app-picker",{attrs:{formState:e.formState,data:e.data,context:e.context,viewparams:e.viewparams,localContext:{},localParam:{},disabled:e.detailsModel.ormsignorgname.disabled,name:"ormsignorgname",deMajorField:"ormsignorgname",deKeyField:"ormsignorg",service:e.service,acParams:{serviceName:"OrmSignOrgService",interfaceName:"FetchDefault"},valueitem:"ormsignorgid",value:e.data.ormsignorgname,editortype:"",pickupView:{viewname:"orm-sign-org-pickup-view",title:e.$t("entities.ormsignorg.views.pickupview.title"),deResParameters:[],parameters:[{pathName:"ormsignorgs",parameterName:"ormsignorg"},{pathName:"pickupview",parameterName:"pickupview"}],placement:""}},on:{formitemvaluechange:e.onFormItemValueChange}})],1)],1),n("i-col",{directives:[{name:"show",rawName:"v-show",value:e.detailsModel.isdefaultsignorg.visible,expression:"detailsModel.isdefaultsignorg.visible"}],style:{},attrs:{lg:{span:8,offset:0}}},[n("app-form-item",{attrs:{name:"isdefaultsignorg",itemRules:this.rules.isdefaultsignorg,caption:e.$t("entities.pimcontractsignorg.main_form.details.isdefaultsignorg"),uiStyle:"DEFAULT",labelWidth:130,isShowCaption:!0,error:e.detailsModel.isdefaultsignorg.error,isEmptyCaption:!1,labelPos:"LEFT"}},[n("app-radio-group",{attrs:{data:e.data,context:e.context,viewparams:e.viewparams,disabled:e.detailsModel.isdefaultsignorg.disabled,name:"isdefaultsignorg",localContext:{},localParam:{},tag:"EhrCodeList0400",codelistType:"STATIC"},model:{value:e.data.isdefaultsignorg,callback:function(t){e.$set(e.data,"isdefaultsignorg",t)},expression:"data.isdefaultsignorg"}})],1)],1)],1)],1)],1)],1)],1)},x=[],D=(n("b0c0"),n("d3b7"),n("07ac"),n("4795"),n("96cf"),n("1da1")),N=n("257e"),I=n("d257"),F=n("a8bf"),P=function(){function e(){Object(a["a"])(this,e)}return Object(f["a"])(e,[{key:"getDataItems",value:function(){return[{name:"srfwfmemo",prop:"srfwfmemo",dataType:"TEXT"},{name:"srffrontuf",prop:"srffrontuf",dataType:"TEXT"},{name:"srfupdatedate",prop:"updatedate",dataType:"DATETIME"},{name:"srforikey"},{name:"srfkey",prop:"contractsignorgid",dataType:"GUID"},{name:"srfmajortext",prop:"contractsignorgname",dataType:"TEXT"},{name:"srftempmode"},{name:"srfuf"},{name:"srfdeid"},{name:"srfsourcekey"},{name:"ormorgid",prop:"ormorgid",dataType:"PICKUP"},{name:"ormorgname",prop:"ormorgname",dataType:"PICKUPTEXT"},{name:"ormsignorgid",prop:"ormsignorgid",dataType:"PICKUP"},{name:"ormsignorgname",prop:"ormsignorgname",dataType:"PICKUPTEXT"},{name:"isdefaultsignorg",prop:"isdefaultsignorg",dataType:"NSCODELIST"},{name:"contractsignorgid",prop:"contractsignorgid",dataType:"GUID"},{name:"pimcontractsignorg",prop:"contractsignorgid",dataType:"FONTKEY"}]}}]),e}(),A=n("ed1f"),T=n("bc11"),R=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).call(this,n)),e.appEntityService=new p["default"]({$store:e.getStore()}),e.ormorgService=new A["default"],e.ormsignorgService=new T["default"],e.model=new P,e}return Object(o["a"])(t,e),Object(f["a"])(t,[{key:"setTempMode",value:function(){this.isTempMode=!1}},{key:"doItems",value:function(e,t,n){return new Promise((function(a,r){e.then((function(e){if(e&&200===e.status){var i=e.data;i.forEach((function(e,a){e[n]=e[t],i[a]=e})),a(i)}else r([])}))["catch"]((function(e){r([])}))}))}},{key:"getItems",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;return Object.is(e,"OrmOrgService")&&Object.is(t,"FetchDefault")?this.doItems(this.ormorgService.FetchDefault(JSON.parse(JSON.stringify(n)),a,r),"orgid","ormorg"):Object.is(e,"OrmSignOrgService")&&Object.is(t,"FetchDefault")?this.doItems(this.ormsignorgService.FetchDefault(JSON.parse(JSON.stringify(n)),a,r),"ormsignorgid","ormsignorg"):Promise.reject([])}},{key:"wfstart",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return a=this.handleWFData(a),n=this.handleRequestData(e,n,a).context,new Promise((function(o,s){var c,u=t.appEntityService;c=u[e]&&u[e]instanceof Function?u[e](n,a,r,i):t.appEntityService.WFStart(n,a,r,i),c.then((function(n){t.handleResponse(e,n),o(n)}))["catch"]((function(e){s(e)}))}))}},{key:"wfsubmit",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;return a=this.handleWFData(a,!0),n=this.handleRequestData(e,n,a,!0).context,new Promise((function(o,s){var c,u=t.appEntityService;c=u[e]&&u[e]instanceof Function?u[e](n,a,r,i):t.appEntityService.WFSubmit(n,a,r,i),c.then((function(n){t.handleResponse(e,n),o(n)}))["catch"]((function(e){s(e)}))}))}},{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context;return new Promise((function(n,a){var i,c=t.appEntityService;i=c[e]&&c[e]instanceof Function?c[e](s,o,r):t.appEntityService.Create(s,o,r),i.then((function(a){t.handleResponse(e,a),n(a)}))["catch"]((function(e){a(e)}))}))}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context;return new Promise((function(n,a){var i,c=t.appEntityService;i=c[e]&&c[e]instanceof Function?c[e](s,o,r):t.appEntityService.Remove(s,o,r),i.then((function(e){n(e)}))["catch"]((function(e){a(e)}))}))}},{key:"update",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context;return new Promise((function(n,a){var i,c=t.appEntityService;i=c[e]&&c[e]instanceof Function?c[e](s,o,r):t.appEntityService.Update(s,o,r),i.then((function(a){t.handleResponse(e,a),n(a)}))["catch"]((function(e){a(e)}))}))}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context;return new Promise((function(n,a){var i,c=t.appEntityService;i=c[e]&&c[e]instanceof Function?c[e](s,o,r):t.appEntityService.Get(s,o,r),i.then((function(a){t.handleResponse(e,a),n(a)}))["catch"]((function(e){a(e)}))}))}},{key:"loadDraft",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context,c=I["h"].createUUID();return o.contractsignorgid=c,o.pimcontractsignorg=c,new Promise((function(n,a){var i,u=t.appEntityService;i=u[e]&&u[e]instanceof Function?u[e](s,o,r):t.appEntityService.GetDraft(s,o,r),i.then((function(a){a.data.contractsignorgid=c,t.handleResponse(e,a,!0),n(a)}))["catch"]((function(e){a(e)}))}))}},{key:"frontLogic",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=this.handleRequestData(e,n,a),o=i.data,s=i.context;return new Promise((function(n,a){var i,c=t.appEntityService;if(!(c[e]&&c[e]instanceof Function))return Promise.reject({status:500,data:{title:"失败",message:"系统异常"}});i=c[e](s,o,r),i.then((function(a){t.handleResponse(e,a,!0),n(a)}))["catch"]((function(e){a(e)}))}))}},{key:"handleRequestData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.getMode();if(!r&&r.getDataItems instanceof Function)return n;var i=r.getDataItems(),o={};a&&n&&n.viewparams&&Object.assign(o,n.viewparams),i.forEach((function(e){e&&e.dataType&&Object.is(e.dataType,"FONTKEY")?e&&e.prop&&(o[e.prop]=t[e.name]):e&&e.prop&&(o[e.prop]=n[e.name])}));var s=JSON.parse(JSON.stringify(t));return s&&s.srfsessionid&&(s.srfsessionkey=s.srfsessionid,delete s.srfsessionid),{context:s,data:o}}}]),t}(F["a"]);s["a"]([I["b"]],R.prototype,"getItems",null),s["a"]([I["b"]],R.prototype,"wfstart",null),s["a"]([I["b"]],R.prototype,"wfsubmit",null),s["a"]([I["b"]],R.prototype,"add",null),s["a"]([I["b"]],R.prototype,"delete",null),s["a"]([I["b"]],R.prototype,"update",null),s["a"]([I["b"]],R.prototype,"get",null),s["a"]([I["b"]],R.prototype,"loadDraft",null),s["a"]([I["b"]],R.prototype,"frontLogic",null);var $=n("10d6"),M=n("1a2d"),V=n("69dd");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){Object(l["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(i["a"])(t).apply(this,arguments)),e.counterServiceArray=[],e.service=new R({$store:e.$store}),e.appEntityService=new p["default"]({$store:e.$store}),e.srfwfmemo="",e.formState=new m["a"],e.ignorefieldvaluechange=!1,e.dataChang=new m["a"],e.oldData={},e.data={srfupdatedate:null,srforikey:null,srfkey:null,srfmajortext:null,srftempmode:null,srfuf:null,srfdeid:null,srfsourcekey:null,ormorgid:null,ormorgname:null,ormsignorgid:null,ormsignorgname:null,isdefaultsignorg:null,contractsignorgid:null,pimcontractsignorg:null},e.currentAction="",e.drcounter=0,e.drsaveopt={},e.rules={srfupdatedate:[{type:"string",message:"更新时间 值必须为字符串类型",trigger:"change"},{type:"string",message:"更新时间 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"更新时间 值不能为空",trigger:"change"},{required:!1,type:"string",message:"更新时间 值不能为空",trigger:"blur"}],srforikey:[{type:"string",message:" 值必须为字符串类型",trigger:"change"},{type:"string",message:" 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:" 值不能为空",trigger:"change"},{required:!1,type:"string",message:" 值不能为空",trigger:"blur"}],srfkey:[{type:"string",message:"签约主体单位标识 值必须为字符串类型",trigger:"change"},{type:"string",message:"签约主体单位标识 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"签约主体单位标识 值不能为空",trigger:"change"},{required:!1,type:"string",message:"签约主体单位标识 值不能为空",trigger:"blur"}],srfmajortext:[{type:"string",message:"签约主体单位名称 值必须为字符串类型",trigger:"change"},{type:"string",message:"签约主体单位名称 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"签约主体单位名称 值不能为空",trigger:"change"},{required:!1,type:"string",message:"签约主体单位名称 值不能为空",trigger:"blur"}],srftempmode:[{type:"string",message:" 值必须为字符串类型",trigger:"change"},{type:"string",message:" 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:" 值不能为空",trigger:"change"},{required:!1,type:"string",message:" 值不能为空",trigger:"blur"}],srfuf:[{type:"string",message:" 值必须为字符串类型",trigger:"change"},{type:"string",message:" 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:" 值不能为空",trigger:"change"},{required:!1,type:"string",message:" 值不能为空",trigger:"blur"}],srfdeid:[{type:"string",message:" 值必须为字符串类型",trigger:"change"},{type:"string",message:" 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:" 值不能为空",trigger:"change"},{required:!1,type:"string",message:" 值不能为空",trigger:"blur"}],srfsourcekey:[{type:"string",message:" 值必须为字符串类型",trigger:"change"},{type:"string",message:" 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:" 值不能为空",trigger:"change"},{required:!1,type:"string",message:" 值不能为空",trigger:"blur"}],ormorgid:[{type:"string",message:"管理单位标识 值必须为字符串类型",trigger:"change"},{type:"string",message:"管理单位标识 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"管理单位标识 值不能为空",trigger:"change"},{required:!1,type:"string",message:"管理单位标识 值不能为空",trigger:"blur"}],ormorgname:[{type:"string",message:"管理单位名称 值必须为字符串类型",trigger:"change"},{type:"string",message:"管理单位名称 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"管理单位名称 值不能为空",trigger:"change"},{required:!1,type:"string",message:"管理单位名称 值不能为空",trigger:"blur"}],ormsignorgid:[{type:"string",message:"法人主体标识 值必须为字符串类型",trigger:"change"},{type:"string",message:"法人主体标识 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"法人主体标识 值不能为空",trigger:"change"},{required:!1,type:"string",message:"法人主体标识 值不能为空",trigger:"blur"}],ormsignorgname:[{type:"string",message:"法人主体名称 值必须为字符串类型",trigger:"change"},{type:"string",message:"法人主体名称 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"法人主体名称 值不能为空",trigger:"change"},{required:!1,type:"string",message:"法人主体名称 值不能为空",trigger:"blur"}],isdefaultsignorg:[{type:"number",message:"默认签约主体 值必须为数值类型",trigger:"change"},{type:"number",message:"默认签约主体 值必须为数值类型",trigger:"blur"},{required:!1,type:"number",message:"默认签约主体 值不能为空",trigger:"change"},{required:!1,type:"number",message:"默认签约主体 值不能为空",trigger:"blur"}],contractsignorgid:[{type:"string",message:"签约主体单位标识 值必须为字符串类型",trigger:"change"},{type:"string",message:"签约主体单位标识 值必须为字符串类型",trigger:"blur"},{required:!1,type:"string",message:"签约主体单位标识 值不能为空",trigger:"change"},{required:!1,type:"string",message:"签约主体单位标识 值不能为空",trigger:"blur"}]},e.detailsModel={group1:new $["b"]({caption:"签约主体基本信息",detailType:"GROUPPANEL",name:"group1",visible:!0,isShowCaption:!1,form:Object(N["a"])(e),uiActionGroup:{caption:"",langbase:"entities.pimcontractsignorg.main_form",extractMode:"ITEM",details:[]}}),formpage1:new $["d"]({caption:"基本信息",detailType:"FORMPAGE",name:"formpage1",visible:!0,isShowCaption:!0,form:Object(N["a"])(e)}),srfupdatedate:new $["c"]({caption:"更新时间",detailType:"FORMITEM",name:"srfupdatedate",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srforikey:new $["c"]({caption:"",detailType:"FORMITEM",name:"srforikey",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srfkey:new $["c"]({caption:"签约主体单位标识",detailType:"FORMITEM",name:"srfkey",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srfmajortext:new $["c"]({caption:"签约主体单位名称",detailType:"FORMITEM",name:"srfmajortext",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srftempmode:new $["c"]({caption:"",detailType:"FORMITEM",name:"srftempmode",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srfuf:new $["c"]({caption:"",detailType:"FORMITEM",name:"srfuf",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srfdeid:new $["c"]({caption:"",detailType:"FORMITEM",name:"srfdeid",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),srfsourcekey:new $["c"]({caption:"",detailType:"FORMITEM",name:"srfsourcekey",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),ormorgid:new $["c"]({caption:"管理单位标识",detailType:"FORMITEM",name:"ormorgid",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),ormorgname:new $["c"]({caption:"管理单位名称",detailType:"FORMITEM",name:"ormorgname",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),ormsignorgid:new $["c"]({caption:"法人主体标识",detailType:"FORMITEM",name:"ormsignorgid",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),ormsignorgname:new $["c"]({caption:"法人主体名称",detailType:"FORMITEM",name:"ormsignorgname",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),isdefaultsignorg:new $["c"]({caption:"默认签约主体",detailType:"FORMITEM",name:"isdefaultsignorg",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3}),contractsignorgid:new $["c"]({caption:"签约主体单位标识",detailType:"FORMITEM",name:"contractsignorgid",visible:!0,isShowCaption:!0,form:Object(N["a"])(e),disabled:!1,enableCond:3})},e}return Object(o["a"])(t,e),Object(f["a"])(t,[{key:"getControlType",value:function(){return"FORM"}},{key:"closeView",value:function(e){var t=this;t.$emit("closeview",[e])}},{key:"counterRefresh",value:function(){var e=this;e.counterServiceArray&&e.counterServiceArray.length>0&&e.counterServiceArray.forEach((function(e){e.refreshData&&e.refreshData instanceof Function&&e.refreshData()}))}},{key:"getDatas",value:function(){return[this.data]}},{key:"getData",value:function(){return this.data}},{key:"onSrfupdatedateChange",value:function(e,t){this.formDataChange({name:"srfupdatedate",newVal:e,oldVal:t})}},{key:"onSrforikeyChange",value:function(e,t){this.formDataChange({name:"srforikey",newVal:e,oldVal:t})}},{key:"onSrfkeyChange",value:function(e,t){this.formDataChange({name:"srfkey",newVal:e,oldVal:t})}},{key:"onSrfmajortextChange",value:function(e,t){this.formDataChange({name:"srfmajortext",newVal:e,oldVal:t})}},{key:"onSrftempmodeChange",value:function(e,t){this.formDataChange({name:"srftempmode",newVal:e,oldVal:t})}},{key:"onSrfufChange",value:function(e,t){this.formDataChange({name:"srfuf",newVal:e,oldVal:t})}},{key:"onSrfdeidChange",value:function(e,t){this.formDataChange({name:"srfdeid",newVal:e,oldVal:t})}},{key:"onSrfsourcekeyChange",value:function(e,t){this.formDataChange({name:"srfsourcekey",newVal:e,oldVal:t})}},{key:"onOrmorgidChange",value:function(e,t){this.formDataChange({name:"ormorgid",newVal:e,oldVal:t})}},{key:"onOrmorgnameChange",value:function(e,t){this.formDataChange({name:"ormorgname",newVal:e,oldVal:t})}},{key:"onOrmsignorgidChange",value:function(e,t){this.formDataChange({name:"ormsignorgid",newVal:e,oldVal:t})}},{key:"onOrmsignorgnameChange",value:function(e,t){this.formDataChange({name:"ormsignorgname",newVal:e,oldVal:t})}},{key:"onIsdefaultsignorgChange",value:function(e,t){this.formDataChange({name:"isdefaultsignorg",newVal:e,oldVal:t})}},{key:"onContractsignorgidChange",value:function(e,t){this.formDataChange({name:"contractsignorgid",newVal:e,oldVal:t})}},{key:"resetFormData",value:function(e){e.name,e.newVal,e.oldVal}},{key:"ResetData",value:function(e){var t=this;Object.keys(e).length>0&&Object.keys(e).forEach((function(e){t.data.hasOwnProperty(e)&&(t.data[e]=null)}))}},{key:"formLogic",value:function(e){e.name,e.newVal,e.oldVal}},{key:"formDataChange",value:function(e){var t=e.name,n=e.newVal,a=e.oldVal;this.ignorefieldvaluechange||(this.resetFormData({name:t,newVal:n,oldVal:a}),this.formLogic({name:t,newVal:n,oldVal:a}),this.dataChang.next(JSON.stringify(this.data)))}},{key:"onFormLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;(Object.is(t,"save")||Object.is(t,"autoSave")||Object.is(t,"submit"))&&e.pimcontractsignorg&&Object.assign(this.context,{pimcontractsignorg:e.pimcontractsignorg}),this.setFormEnableCond(e),this.fillForm(e,t),this.oldData={},Object.assign(this.oldData,JSON.parse(JSON.stringify(this.data))),this.$store.commit("viewaction/setViewDataChange",{viewtag:this.viewtag,viewdatachange:!1}),this.formLogic({name:"",newVal:null,oldVal:null})}},{key:"fillForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.ignorefieldvaluechange=!0,Object.keys(t).forEach((function(n){e.data.hasOwnProperty(n)&&(e.data[n]=t[n])})),Object.is(n,"loadDraft")&&this.createDefault(),Object.is(n,"load")&&this.updateDefault(),this.$nextTick((function(){this.ignorefieldvaluechange=!1}))}},{key:"setFormEnableCond",value:function(e){Object.values(this.detailsModel).forEach((function(t){if(Object.is(t.detailType,"FORMITEM")){var n=t;n.setEnableCond(e.srfuf)}}))}},{key:"resetDraftFormStates",value:function(){var e=this.$refs.form;e&&e.resetFields()}},{key:"resetValidates",value:function(){Object.values(this.detailsModel).forEach((function(e){if(Object.is(e.detailType,"FORMITEM")){var t=e;t.setError("")}}))}},{key:"fillValidates",value:function(e){var t=this;e.forEach((function(e){var n=t.detailsModel[e.field];n&&t.$nextTick((function(){n.setError(e.message)}))}))}},{key:"formValidateStatus",value:function(){var e=this.$refs.form,t=!0;return e.validate((function(e){t=!!e})),t}},{key:"getValues",value:function(){return this.data}},{key:"onFormItemValueChange",value:function(e){e&&e.name&&!Object.is(e.name,"")&&this.data.hasOwnProperty(e.name)&&(this.data[e.name]=e.value)}},{key:"setDataItemValue",value:function(e,t){e&&!Object.is(e,"")&&this.data.hasOwnProperty(e)&&(Object.is(this.data[e],t)||(this.data[e]=t))}},{key:"groupUIActionClick",value:function(e){if(e)e.item}},{key:"created",value:function(){this.afterCreated()}},{key:"afterCreated",value:function(){var e=this;this.viewState&&(this.viewStateEvent=this.viewState.subscribe((function(t){var n=t.tag,a=t.action,r=t.data;Object.is(n,e.name)&&(Object.is("autoload",a)&&e.autoLoad(r),Object.is("load",a)&&e.load(r),Object.is("loaddraft",a)&&(e.context.srfsourcekey?e.copy(e.context.srfsourcekey):e.loadDraft(r)),Object.is("save",a)&&e.save(r,r.showResultInfo),Object.is("remove",a)&&e.remove(r),Object.is("saveandexit",a)&&e.saveAndExit(r),Object.is("saveandnew",a)&&e.saveAndNew(r),Object.is("removeandexit",a)&&e.removeAndExit(r),Object.is("refresh",a)&&e.refresh(r))}))),this.dataChang.pipe(Object(M["a"])(300),Object(V["a"])()).subscribe((function(t){e.autosave&&e.autoSave();var n=!Object.is(JSON.stringify(e.oldData),JSON.stringify(e.data));e.$store.commit("viewaction/setViewDataChange",{viewtag:e.viewtag,viewdatachange:n})}))}},{key:"destroyed",value:function(){this.afterDestroy()}},{key:"afterDestroy",value:function(){this.viewStateEvent&&this.viewStateEvent.unsubscribe(),this.dataChangEvent&&this.dataChangEvent.unsubscribe()}},{key:"copy",value:function(e){var t=this,n=this.$store.getters.getCopyData(e);n.srfkey=I["h"].createUUID(),n.pimcontractsignorg=n.srfkey,n.contractsignorgid=n.srfkey,Object.assign(this.context,{pimcontractsignorg:n.pimcontractsignorg}),this.data=n,this.$nextTick((function(){t.formState.next({type:"load",data:n}),t.data.srfuf="0",t.setFormEnableCond(t.data)}))}},{key:"print",value:function(){var e=this;e.$print({id:"pimcontractsignorg_main",popTitle:"主编辑表单"})}},{key:"refresh",value:function(e){var t={};return Object.assign(t,e[0]),this.data.srfkey&&!Object.is(this.data.srfkey,"")?(Object.assign(t,{srfkey:this.data.srfkey}),void this.load(t)):this.data.srfkeys&&!Object.is(this.data.srfkeys,"")?(Object.assign(t,{srfkey:this.data.srfkeys}),void this.load(t)):void 0}},{key:"autoLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.srfkey&&!Object.is(e.srfkey,"")?(Object.assign(e,{srfkey:e.srfkey}),void this.load(e)):e.srfkeys&&!Object.is(e.srfkeys,"")?(Object.assign(e,{srfkey:e.srfkeys}),void this.load(e)):void this.loadDraft(e)}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.loadAction){var n=J({},t),a=Object.assign(n,this.viewparams),r=this.service.get(this.loadAction,JSON.parse(JSON.stringify(this.context)),{viewparams:a},this.showBusyIndicator);r.then((function(t){if(t&&200===t.status){var n=t.data;e.onFormLoad(n,"load"),e.$emit("load",n),e.$nextTick((function(){e.formState.next({type:"load",data:n})}))}}))["catch"]((function(t){t&&t.status&&t.data?e.$Notice.error({title:"错误",desc:t.data.message}):t&&t.status&&t.data||e.$Notice.error({title:"错误",desc:"系统异常"})}))}else this.$Notice.error({title:"错误",desc:"ContractSignORGEditView视图表单loadAction参数未配置"})}},{key:"loadDraft",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.loaddraftAction){var n=J({},t),a=Object.assign(n,this.viewparams),r=this.service.loadDraft(this.loaddraftAction,JSON.parse(JSON.stringify(this.context)),{viewparams:a},this.showBusyIndicator);r.then((function(t){if(t.status&&200===t.status){var n=t.data;n.pimcontractsignorg&&Object.assign(e.context,{pimcontractsignorg:n.pimcontractsignorg}),e.resetDraftFormStates(),e.onFormLoad(n,"loadDraft"),e.$emit("load",n),e.$nextTick((function(){e.formState.next({type:"load",data:n})})),setTimeout((function(){var t=e.$refs.form;t&&t.fields.forEach((function(e){e.validateMessage="",e.validateState="",e.validateStatus=!1}))}))}else t.data&&e.$Notice.error({title:"错误",desc:t.data.message})}))["catch"]((function(t){t&&t.status&&t.data?e.$Notice.error({title:"错误",desc:t.data.message}):t&&t.status&&t.data||e.$Notice.error({title:"错误",desc:"系统异常"})}))}else this.$Notice.error({title:"错误",desc:"ContractSignORGEditView视图表单loaddraftAction参数未配置"})}},{key:"autoSave",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.formValidateStatus()){var n=J({},t),a=this.getValues();Object.assign(n,a);var r=Object.is(a.srfuf,"1")?this.updateAction:this.createAction;if(r){Object.assign(n,{viewparams:this.viewparams});var i=this.service.add(r,JSON.parse(JSON.stringify(this.context)),n,this.showBusyIndicator);i.then((function(t){if(t.status&&200===t.status){var n=t.data;e.onFormLoad(n,"autoSave"),e.$emit("save",n),e.$store.dispatch("viewaction/datasaved",{viewtag:e.viewtag}),e.$nextTick((function(){e.formState.next({type:"save",data:n})}))}else t.data&&e.$Notice.error({title:"错误",desc:t.data.message})}))["catch"]((function(t){t&&t.status&&t.data?e.$Notice.error({title:"错误",desc:t.data.message}):t&&t.status&&t.data||e.$Notice.error({title:"错误",desc:"系统异常"})}))}else{var o=Object.is(a.srfuf,"1")?"updateAction":"createAction";this.$Notice.error({title:"错误",desc:"ContractSignORGEditView视图表单"+o+"参数未配置"})}}}},{key:"save",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1?i[1]:void 0,a=!(i.length>2&&void 0!==i[2])||i[2],e.abrupt("return",new Promise((function(e,i){if(n=void 0===n,r.formValidateStatus()){var o=J({},t),s=r.getValues();if(Object.assign(o,s),Object.assign(o,r.context),a&&(r.drcounter=0,0!==r.drcounter))return r.drsaveopt=t,r.formState.next({type:"beforesave",data:o}),void(r.saveState=e);var c=Object.is(s.srfuf,"1")?r.updateAction:r.createAction;if(c){Object.assign(o,{viewparams:r.viewparams});var u=Object.is(s.srfuf,"1")?r.service.update(c,JSON.parse(JSON.stringify(r.context)),o,r.showBusyIndicator):r.service.add(c,JSON.parse(JSON.stringify(r.context)),o,r.showBusyIndicator);u.then((function(t){if(t.status&&200===t.status){var a=t.data;r.onFormLoad(a,"save"),r.$emit("save",a),r.$store.dispatch("viewaction/datasaved",{viewtag:r.viewtag}),r.$nextTick((function(){r.formState.next({type:"save",data:a})})),n&&r.$Notice.success({title:"",desc:(a.srfmajortext?a.srfmajortext:"")+"&nbsp;保存成功！"}),e(t)}else t.data&&r.$Notice.error({title:"错误",desc:t.data.message})}))["catch"]((function(e){return e&&e.status&&e.data?(r.$Notice.error({title:"错误",desc:e.data.message}),void i(e)):e&&e.status&&e.data?void i(e):(r.$Notice.error({title:"错误",desc:"系统异常"}),void i(e))}))}else{var g=Object.is(s.srfuf,"1")?"updateAction":"createAction";r.$Notice.error({title:"错误",desc:"ContractSignORGEditView视图表单"+g+"参数未配置"})}}else r.$Notice.error({title:"错误",desc:"值规则校验异常"})})));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return new Promise((function(a,r){if(e.removeAction){var i=t[0],o=e;Object.assign(i,{viewparams:e.viewparams}),e.service["delete"](o.removeAction,JSON.parse(JSON.stringify(e.context)),i,n).then((function(t){if(t){var n=t.data;e.$emit("remove",n),e.formState.next({type:"remove",data:n}),e.data.ismodify=!1,e.$Notice.success({title:"",desc:(n.srfmajortext?n.srfmajortext:"")+"&nbsp;删除成功！"}),a(t)}}))["catch"]((function(t){var n=t.data;e.$Notice.error({title:n.title,desc:n.message}),r(t)}))}else e.$Notice.error({title:"错误",desc:"ContractSignORGEditView视图表单removeAction参数未配置"})}))}},{key:"wfstart",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,n){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r=a,i=r.save({},!1);i.then((function(i){var o=i.data;a.viewparams&&Object.assign(o,{viewparams:a.viewparams});var s=a.service.wfstart(r.WFStartAction,JSON.parse(JSON.stringify(a.context)),o,a.showBusyIndicator,n);s.then((function(t){t&&200===t.status?(a.$Notice.info({title:"",desc:"工作流启动成功"}),e(t)):t.data&&a.$Notice.error({title:"",desc:"工作流启动失败, "+t.data.message})}))["catch"]((function(e){return e&&e.status&&e.data?(a.$Notice.error({title:"错误",desc:e.data.message}),void t(e)):e&&e.status&&e.data?void t(e):(a.$Notice.error({title:"错误",desc:"系统异常"}),void t(e))}))}))["catch"]((function(e){return e&&e.status&&e.data?(a.$Notice.error({title:"错误",desc:e.data.message}),void t(e)):e&&e.status&&e.data?void t(e):(a.$Notice.error({title:"错误",desc:"系统异常"}),void t(e))}))})));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"wfsubmit",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t,n){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=a,o=t[0];if(Object.assign(o,{viewparams:a.viewparams}),o.pimcontractsignorg&&!Object.is(o.pimcontractsignorg,"")){var s=Object.is(o.srfuf,"1")?a.service.update(a.updateAction,JSON.parse(JSON.stringify(a.context)),o,a.showBusyIndicator):a.service.add(a.createAction,JSON.parse(JSON.stringify(a.context)),o,a.showBusyIndicator);s.then((function(t){var o=t.data;a.onFormLoad(o,"save"),a.$emit("save",o),a.$nextTick((function(){a.formState.next({type:"save",data:o})})),a.viewparams&&Object.assign(o,{viewparams:a.viewparams}),a.srfwfmemo&&Object.assign(o,{srfwfmemo:a.srfwfmemo});var s=a.service.wfsubmit(i.WFSubmitAction,JSON.parse(JSON.stringify(a.context)),o,a.showBusyIndicator,n);s.then((function(t){t&&200===t.status?(a.onFormLoad(o,"submit"),a.$store.dispatch("viewaction/datasaved",{viewtag:a.viewtag}),a.$Notice.info({title:"",desc:"工作流提交成功"}),e(t)):t.data&&a.$Notice.error({title:"",desc:"工作流提交失败, "+t.data.message})}))["catch"]((function(e){return e&&e.status&&e.data?(a.$Notice.error({title:"错误",desc:e.data.message}),void r(e)):e&&e.status&&e.data?void r(e):(a.$Notice.error({title:"错误",desc:"系统异常"}),void r(e))}))}))["catch"]((function(e){return e&&e.status&&e.data?(a.$Notice.error({title:"错误",desc:e.data.message}),void r(e)):e&&e.status&&e.data?void r(e):(a.$Notice.error({title:"错误",desc:"系统异常"}),void r(e))}))}})));case 1:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateFormItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!(!e||e&&Object.is(e,""))){var i=J({},n);Object.assign(i,this.viewparams);var o=this.service.frontLogic(e,JSON.parse(JSON.stringify(this.context)),i,r);o.then((function(e){if(e&&200===e.status){var n=e.data,r={};a.forEach((function(e){n.hasOwnProperty(e)&&Object.assign(r,Object(l["a"])({},e,n[e]))})),t.setFormEnableCond(r),t.fillForm(r,"updateFormItem"),t.formLogic({name:"",newVal:null,oldVal:null}),t.dataChang.next(JSON.stringify(t.data)),t.$nextTick((function(){t.formState.next({type:"updateformitem",ufimode:i.srfufimode,data:r})}))}else t.$Notice.error({title:"错误",desc:"表单项更新失败"})}))["catch"]((function(e){e&&e.status&&e.data?t.$Notice.error({title:"错误",desc:e.data.message}):e&&e.status&&e.data||t.$Notice.error({title:"错误",desc:"系统异常"})}))}}},{key:"onEnter",value:function(e){}},{key:"saveAndExit",value:function(e){var t=this;return new Promise((function(n,a){var r={};e&&e.length>0&&Object.assign(r,e[0]),t.currentAction="saveAndExit",t.save([r]).then((function(e){e&&t.closeView(e.data),n(e)}))["catch"]((function(e){a(e)}))}))}},{key:"saveAndNew",value:function(e){var t=this;return new Promise((function(n,a){var r={};e&&e.length>0&&Object.assign(r,e[0]),t.currentAction="saveAndNew",t.save([r]).then((function(e){t.ResetData(e),t.loadDraft({})}))["catch"]((function(e){a(e)}))}))}},{key:"removeAndExit",value:function(e){var t=this;return new Promise((function(n,a){var r={};e&&e.length>0&&Object.assign(r,e[0]),t.remove([r]).then((function(e){e&&t.closeView(e.data),n(e)}))["catch"]((function(e){a(e)}))}))}},{key:"drdatasaved",value:function(e){var t=this,n=this;this.drcounter--,0===this.drcounter&&this.save(this.drsaveopt,void 0,!1).then((function(e){t.saveState(e),t.drsaveopt={},Object.is(n.currentAction,"saveAndNew")?(n.ResetData(e),n.loadDraft({})):Object.is(n.currentAction,"saveAndExit")&&e&&n.closeView(e.data)}))}},{key:"createDefault",value:function(){}},{key:"updateDefault",value:function(){}}]),t}(c["g"]);s["a"]([Object(c["e"])()],L.prototype,"name",void 0),s["a"]([Object(c["e"])()],L.prototype,"viewState",void 0),s["a"]([Object(c["e"])()],L.prototype,"context",void 0),s["a"]([Object(c["e"])()],L.prototype,"viewparams",void 0),s["a"]([Object(c["e"])({default:!1})],L.prototype,"autosave",void 0),s["a"]([Object(c["e"])({default:!0})],L.prototype,"showBusyIndicator",void 0),s["a"]([Object(c["e"])()],L.prototype,"WFSubmitAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"WFStartAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"updateAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"removeAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"loaddraftAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"loadAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"createAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"searchAction",void 0),s["a"]([Object(c["e"])()],L.prototype,"viewtag",void 0),s["a"]([Object(c["h"])("data.srfupdatedate")],L.prototype,"onSrfupdatedateChange",null),s["a"]([Object(c["h"])("data.srforikey")],L.prototype,"onSrforikeyChange",null),s["a"]([Object(c["h"])("data.srfkey")],L.prototype,"onSrfkeyChange",null),s["a"]([Object(c["h"])("data.srfmajortext")],L.prototype,"onSrfmajortextChange",null),s["a"]([Object(c["h"])("data.srftempmode")],L.prototype,"onSrftempmodeChange",null),s["a"]([Object(c["h"])("data.srfuf")],L.prototype,"onSrfufChange",null),s["a"]([Object(c["h"])("data.srfdeid")],L.prototype,"onSrfdeidChange",null),s["a"]([Object(c["h"])("data.srfsourcekey")],L.prototype,"onSrfsourcekeyChange",null),s["a"]([Object(c["h"])("data.ormorgid")],L.prototype,"onOrmorgidChange",null),s["a"]([Object(c["h"])("data.ormorgname")],L.prototype,"onOrmorgnameChange",null),s["a"]([Object(c["h"])("data.ormsignorgid")],L.prototype,"onOrmsignorgidChange",null),s["a"]([Object(c["h"])("data.ormsignorgname")],L.prototype,"onOrmsignorgnameChange",null),s["a"]([Object(c["h"])("data.isdefaultsignorg")],L.prototype,"onIsdefaultsignorgChange",null),s["a"]([Object(c["h"])("data.contractsignorgid")],L.prototype,"onContractsignorgidChange",null),L=s["a"]([Object(c["a"])({components:{}})],L);var q=L,U=q,G=(n("62a7"),Object(k["a"])(U,C,x,!1,null,null,null)),B=G.exports,K=function(e){function t(){return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),t}(B);K=s["a"]([Object(c["a"])({components:{}})],K);var W,Y,X=K,H=X,Z=Object(k["a"])(H,W,Y,!1,null,null,null),z=Z.exports,Q=function(e){function t(){return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).apply(this,arguments))}return Object(o["a"])(t,e),t}(E);Q=s["a"]([Object(c["a"])({components:{view_form:z},beforeRouteEnter:function(e,t,n){n((function(t){t.$store.commit("addCurPageViewtag",{fullPath:e.fullPath,viewtag:t.viewtag})}))}})],Q);var ee,te,ne=Q,ae=ne,re=Object(k["a"])(ae,ee,te,!1,null,null,null);t["default"]=re.exports},a0e5:function(e,t,n){"use strict";var a=n("4757"),r=n.n(a);r.a},b283:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("2b19"),n("b64b");var a=n("d4ec"),r=n("bee2"),i=function(){function e(){Object(a["a"])(this,e),this.view=null,this.opt={},this.methods={},this.isLoadDefault=!0}return Object(r["a"])(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opt=e,this.methods=e.methods,this.view=e.view,this.isLoadDefault=e.isLoadDefault,this.keyPSDEField=e.keyPSDEField,this.majorPSDEField=e.majorPSDEField,this.load()}},{key:"load",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"onCtrlEvent",value:function(e,t,n){}},{key:"doSysUIAction",value:function(e,t){Object.is(t,"FRONT")&&this.methods.front&&this.methods.front(e)}},{key:"doSysWFUIAction",value:function(e,t){Object.is(t,"WFFRONT")&&this.methods.wfFront&&this.methods.wfFront(e)}},{key:"isFunc",value:function(e){return e instanceof Function}},{key:"setViewState2",value:function(e){var t=e.tag,n=e.action,a=e.viewdata;this.view.viewState.next({tag:t,action:n,data:a})}},{key:"calcToolbarItemState",value:function(e,t){var n=this;if(n.view.toolBarModels&&0!==Object.keys(n.view.toolBarModels).length)for(var a in n.view.toolBarModels){if(!n.view.toolBarModels.hasOwnProperty(a))return;var r=n.view.toolBarModels[a];r.uiaction&&(Object.is(r.uiaction.target,"SINGLEKEY")||Object.is(r.uiaction.target,"MULTIKEY"))&&(r.disabled=e)}}}]),e}()},bc11:function(e,t,n){"use strict";n.r(t);var a=n("d4ec"),r=n("99de"),i=n("7e84"),o=n("262e"),s=(n("4160"),n("2b19"),n("159b"),n("96cf"),n("1da1")),c=n("bee2"),u=n("d257"),g=n("ce95"),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),Object(c["a"])(t,[{key:"initBasicData",value:function(){this.APPLYDEKEY="ormsignorg",this.APPDEKEY="ormsignorgid",this.APPDENAME="ormsignorgs",this.APPDETEXT="ormsignorgname",this.APPNAME="ehrpim",this.SYSTEMNAME="ehr"}},{key:"Select",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/select"),n));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CheckKey",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2?r[2]:void 0,e.abrupt("return",u["c"].getInstance().post("/ormsignorgs/".concat(t.ormsignorg,"/checkkey"),n,a));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,r={},i=[],Object.is(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs"),"undefined")||(i=JSON.parse(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs")),i&&i.length&&i.length>0&&i.forEach((function(e){e.srffrontuf&&(Object.is(e.srffrontuf,"0")&&(e.contractsignorgid=null),delete e.srffrontuf)}))),r.pimcontractsignorgs=i,Object.assign(n,r),e.next=10,u["c"].getInstance().put("/ormsignorgs/".concat(t.ormsignorg),n,a);case 10:return o=e.sent,this.tempStorage.setItem(t.srfsessionkey+"_pimcontractsignorgs",JSON.stringify(o.data.pimcontractsignorgs)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,r={},i=[],Object.is(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs"),"undefined")||(i=JSON.parse(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs")),i&&i.length&&i.length>0&&i.forEach((function(e){e.srffrontuf&&(Object.is(e.srffrontuf,"0")&&(e.contractsignorgid=null),delete e.srffrontuf)}))),r.pimcontractsignorgs=i,Object.assign(n,r),e.next=10,u["c"].getInstance().post("/ormsignorgs/".concat(t.ormsignorg,"/save"),n,a);case 10:return o=e.sent,this.tempStorage.setItem(t.srfsessionkey+"_pimcontractsignorgs",JSON.stringify(o.data.pimcontractsignorgs)),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GetDraft",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,e.next=5,u["c"].getInstance().get("/ormsignorgs/getdraft",a);case 5:return r=e.sent,r.data.ormsignorg=n.ormsignorg,this.tempStorage.setItem(t.srfsessionkey+"_pimcontractsignorgs",JSON.stringify(r.data.pimcontractsignorgs)),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,e.next=5,u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg),n);case 5:return a=e.sent,this.tempStorage.setItem(t.srfsessionkey+"_pimcontractsignorgs",JSON.stringify(a.data.pimcontractsignorgs)),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},n=c.length>1&&void 0!==c[1]?c[1]:{},a=c.length>2?c[2]:void 0,r={},i=[],Object.is(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs"),"undefined")||(i=JSON.parse(this.tempStorage.getItem(t.srfsessionkey+"_pimcontractsignorgs")),i&&i.length&&i.length>0&&i.forEach((function(e){e.srffrontuf&&(Object.is(e.srffrontuf,"0")&&(e.contractsignorgid=null),delete e.srffrontuf)}))),r.pimcontractsignorgs=i,Object.assign(n,r),n.srffrontuf&&"1"===n.srffrontuf||(n[this.APPDEKEY]=null),n.srffrontuf&&delete n.srffrontuf,o=JSON.parse(JSON.stringify(t)),e.next=13,u["c"].getInstance().post("/ormsignorgs",n,a);case 13:return s=e.sent,this.tempStorage.setItem(o.srfsessionkey+"_pimcontractsignorgs",JSON.stringify(s.data.pimcontractsignorgs)),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Remove",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,e.abrupt("return",u["c"].getInstance()["delete"]("/ormsignorgs/".concat(t.ormsignorg),n));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FetchHTQDDW",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,a=JSON.parse(JSON.stringify(t)),e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/fetchhtqddw",a,n));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FetchDefault",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,a=JSON.parse(JSON.stringify(t)),e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/fetchdefault",a,n));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FetchCKBDWDFRZT",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.length>0&&void 0!==r[0]?r[0]:{},t=r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,a=JSON.parse(JSON.stringify(t)),e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/fetchckbdwdfrzt",a,n));case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(g["a"]);n.d(t,"default",(function(){return d}));var d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),t}(l)},bda1:function(e,t,n){"use strict";n.r(t);var a=n("d4ec"),r=n("99de"),i=n("7e84"),o=n("262e"),s=(n("99af"),n("96cf"),n("1da1")),c=n("bee2"),u=n("d257"),g=n("ce95"),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),Object(c["a"])(t,[{key:"initBasicData",value:function(){this.APPLYDEKEY="pimcontractsignorg",this.APPDEKEY="contractsignorgid",this.APPDENAME="pimcontractsignorgs",this.APPDETEXT="contractsignorgname",this.APPNAME="ehrpim",this.SYSTEMNAME="ehr"}},{key:"Select",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/select"),n));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().get("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/select"),n));case 7:return e.abrupt("return",u["c"].getInstance().get("/pimcontractsignorgs/".concat(t.pimcontractsignorg,"/select"),n));case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},r.length>1&&void 0!==r[1]?r[1]:{},n=r.length>2?r[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().get("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n));case 7:return e.next=9,u["c"].getInstance().get("/pimcontractsignorgs/".concat(t.pimcontractsignorg),n);case 9:return a=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CheckKey",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:{},n=r.length>1&&void 0!==r[1]?r[1]:{},a=r.length>2?r[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().post("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/checkkey"),n,a));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().post("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/checkkey"),n,a));case 7:return e.abrupt("return",u["c"].getInstance().post("/pimcontractsignorgs/".concat(t.pimcontractsignorg,"/checkkey"),n,a));case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2?o[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().put("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n,a));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().put("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n,a));case 7:return r={},Object.assign(n,r),e.next=11,u["c"].getInstance().put("/pimcontractsignorgs/".concat(t.pimcontractsignorg),n,a);case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Remove",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},a.length>1&&void 0!==a[1]?a[1]:{},n=a.length>2?a[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance()["delete"]("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance()["delete"]("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg),n));case 7:return e.abrupt("return",u["c"].getInstance()["delete"]("/pimcontractsignorgs/".concat(t.pimcontractsignorg),n));case 8:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2?o[2]:void 0,!t.ormsignorg){e.next=7;break}return n.srffrontuf&&"1"===n.srffrontuf||(n[this.APPDEKEY]=null),n.srffrontuf&&delete n.srffrontuf,e.abrupt("return",u["c"].getInstance().post("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs"),n,a));case 7:if(!t.ormorg){e.next=11;break}return n.srffrontuf&&"1"===n.srffrontuf||(n[this.APPDEKEY]=null),n.srffrontuf&&delete n.srffrontuf,e.abrupt("return",u["c"].getInstance().post("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs"),n,a));case 11:return r={},Object.assign(n,r),n.srffrontuf&&"1"===n.srffrontuf||(n[this.APPDEKEY]=null),n.srffrontuf&&delete n.srffrontuf,JSON.parse(JSON.stringify(t)),e.next=18,u["c"].getInstance().post("/pimcontractsignorgs",n,a);case 18:return i=e.sent,e.abrupt("return",i);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GetDraft",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,!t.ormsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/getdraft"),a));case 5:if(!t.ormorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().get("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/getdraft"),a));case 7:return e.next=9,u["c"].getInstance().get("/pimcontractsignorgs/getdraft",a);case 9:return r=e.sent,r.data.pimcontractsignorg=n.pimcontractsignorg,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"Save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2?o[2]:void 0,!t.ormsignorg||!t.pimcontractsignorg){e.next=5;break}return e.abrupt("return",u["c"].getInstance().post("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/save"),n,a));case 5:if(!t.ormorg||!t.pimcontractsignorg){e.next=7;break}return e.abrupt("return",u["c"].getInstance().post("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/").concat(t.pimcontractsignorg,"/save"),n,a));case 7:return r={},Object.assign(n,r),e.next=11,u["c"].getInstance().post("/pimcontractsignorgs/".concat(t.pimcontractsignorg,"/save"),n,a);case 11:return i=e.sent,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FetchDefault",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,!t.ormsignorg){e.next=6;break}return r=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/fetchdefault"),r,a));case 6:if(!t.ormorg){e.next=9;break}return i=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/fetchdefault"),i,a));case 9:return o=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/pimcontractsignorgs/fetchdefault",o,a));case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"FetchDefault2",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},n=s.length>1&&void 0!==s[1]?s[1]:{},a=s.length>2?s[2]:void 0,!t.ormsignorg){e.next=6;break}return r=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/ormsignorgs/".concat(t.ormsignorg,"/pimcontractsignorgs/fetchdefault2"),r,a));case 6:if(!t.ormorg){e.next=9;break}return i=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/ormorgs/".concat(t.ormorg,"/pimcontractsignorgs/fetchdefault2"),i,a));case 9:return o=JSON.parse(JSON.stringify(n)),e.abrupt("return",u["c"].getInstance().get("/pimcontractsignorgs/fetchdefault2",o,a));case 11:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(g["a"]);n.d(t,"default",(function(){return d}));var d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])(this,t),Object(r["a"])(this,Object(i["a"])(t).call(this,e))}return Object(o["a"])(t,e),t}(l)},ef3d:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));n("99af"),n("c975"),n("b0c0"),n("2b19");var a=n("d4ec"),r=n("bee2"),i=n("99de"),o=n("7e84"),s=n("45eb"),c=n("262e"),u=n("b283"),g=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.p2k="",e}return Object(c["a"])(t,e),Object(r["a"])(t,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=e.form,this.p2k=e.p2k,Object(s["a"])(Object(o["a"])(t.prototype),"init",this).call(this,e)}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s["a"])(Object(o["a"])(t.prototype),"load",this).call(this,e),this.getForm()&&this.isLoadDefault){var n=this.getForm().name,a="";a=this.keyPSDEField&&this.view.context[this.keyPSDEField]&&!Object.is(this.view.context[this.keyPSDEField],"")?"load":"loaddraft",this.setViewState2({tag:n,action:a,viewdata:this.view.viewparams})}this.isLoadDefault=!0}},{key:"onCtrlEvent",value:function(e,n,a){Object(s["a"])(Object(o["a"])(t.prototype),"onCtrlEvent",this).call(this,e,n,a),Object.is(e,"form")&&this.formEvent(n,a)}},{key:"formEvent",value:function(e,t){Object.is(e,"load")&&this.onFormLoad(t),Object.is(e,"save")&&this.onFormSave(t),Object.is(e,"remove")&&this.onFormRemove(t)}},{key:"onFormLoad",value:function(e){this.view.model.dataInfo=Object.is(e.srfuf,"1")?this.majorPSDEField?e[this.majorPSDEField]:e.srfmajortext:this.view.$t("app.local.new"),this.setTabCaption(this.view.model.dataInfo);var t=!Object.is(e.srfuf,"1");this.calcToolbarItemState(t)}},{key:"onFormSave",value:function(e){this.view.model.dataInfo=Object.is(e.srfuf,"1")?this.majorPSDEField?e[this.majorPSDEField]:e.srfmajortext:this.view.$t("app.local.new"),this.setTabCaption(this.view.model.dataInfo);var t=!Object.is(e.srfuf,"1");this.calcToolbarItemState(t),this.view.$emit("save",e),this.view.$emit("viewdataschange",JSON.stringify({action:"save",status:"success",data:e}))}},{key:"onFormRemove",value:function(e){this.view.$emit("remove",e),this.view.$emit("viewdataschange",JSON.stringify({action:"remove",status:"success",data:e}))}},{key:"doSysUIAction",value:function(e,n){Object.is(e,"Save")?this.doSave():Object(s["a"])(Object(o["a"])(t.prototype),"doSysUIAction",this).call(this,e,n)}},{key:"doSave",value:function(){this.saveData({})}},{key:"saveData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.getForm()){var t=this.getForm().name;this.setViewState2({tag:t,action:"save",viewdata:e})}}},{key:"getForm",value:function(){return this.form}},{key:"setTabCaption",value:function(e){var t=this.view.model,n=t.srfTitle.indexOf("-");t&&e&&!Object.is(e,"")&&(-1!==n&&(t.srfTitle=t.srfTitle.substr(0,n)),this.view.$tabPageExp&&this.view.$tabPageExp.setCurPageCaption(this.view.$t(t.srfTitle),this.view.$t(t.srfTitle),e),this.view.$route&&(this.view.$route.meta.info=e),this.view.model.srfTitle="".concat(this.view.$t(t.srfTitle),"-").concat(t.dataInfo))}}]),t}(u["a"])}}]);