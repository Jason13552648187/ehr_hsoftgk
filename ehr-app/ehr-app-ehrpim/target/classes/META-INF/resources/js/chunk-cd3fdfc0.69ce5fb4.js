(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cd3fdfc0"],{7326:function(e,t,i){"use strict";var a=i("d125"),n=i.n(a);n.a},d125:function(e,t,i){},d717:function(e,t,i){"use strict";i.r(t);var a=i("d4ec"),n=i("99de"),o=i("7e84"),r=i("262e"),c=i("9ab4"),s=i("60a3"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("app-layout",{attrs:{viewName:"pimpersongridview",viewTitle:"员工信息表格视图",className:{"view-container":!0,"default-mode-view":!0,degridview:!0,"pimpersongrid-view":!0},layoutMode:"VIEW",isShowUserInfo:e.isDefaultView(),openMode:e.openMode},on:{"close-view":function(t){return e.closeView(t)}}},[i("template",{slot:"headerLeft"},[i("div",{staticClass:"view-header-left"},[e.isDefaultView()?i("div",{staticClass:"view-caption"},[e._v(e._s(e.$t(e.model.srfCaption)))]):e._e(),e.isModalView()?i("modal-breadcrumb"):e._e()],1)]),i("template",{slot:"headerRight"},[i("div",{staticClass:"view-header-right"},[i("app-header-menus",{attrs:{toolbarModel:e.toolBarModels,mode:"view",openMode:e.openMode,isEnableQuickSearch:!0,searchPlaceholder:"员工编号，员工姓名"},on:{"menu-click":function(t){return e.toolbar_click(t)},search:function(t){return e.onSearch(t)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)]),i("template",{slot:"content"},[i("div",{staticClass:"view-content-wrapper"},[i("view_searchform",{directives:[{name:"show",rawName:"v-show",value:e.isExpandSearchForm,expression:"isExpandSearchForm"}],ref:"searchform",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,showBusyIndicator:!0,loaddraftAction:"FilterGetDraft",loadAction:"FilterGet",name:"searchform"},on:{save:function(t){return e.searchform_save(t)},search:function(t){return e.searchform_search(t)},load:function(t){return e.searchform_load(t)},closeview:function(t){return e.closeView(t)}}}),i("view_grid",{ref:"grid",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,isSingleSelect:e.isSingleSelect,showBusyIndicator:!0,isOpenEdit:!1,gridRowActiveMode:e.gridRowActiveMode,updateAction:"",removeAction:"Remove",loaddraftAction:"",loadAction:"",createAction:"",fetchAction:"FetchYGXXGLY",newdata:e.newdata,opendata:e.opendata,name:"grid"},on:{save:e.onSave,selectionchange:function(t){return e.grid_selectionchange(t)},beforeload:function(t){return e.grid_beforeload(t)},rowdblclick:function(t){return e.grid_rowdblclick(t)},remove:function(t){return e.grid_remove(t)},load:function(t){return e.grid_load(t)},closeview:function(t){return e.closeView(t)}}})],1)])],2)},u=[],d=(i("4160"),i("0d03"),i("2b19"),i("b64b"),i("2ca0"),i("159b"),i("2909")),v=i("bee2"),f=i("45eb"),h=i("2bd2"),p=i("46aa"),g=i("c38f"),w=i("434b"),m=i("0666"),b=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(n["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.appEntityService=new g["default"],e.counterServiceArray=[],e.viewtag="0152964b7b7c749e3634a2f4fe12d37c",e.srfparentdata={},e.customViewNavContexts={},e.customViewParams={},e.model={srfCaption:"entities.pimperson.views.gridview.caption",srfTitle:"entities.pimperson.views.gridview.title",srfSubTitle:"entities.pimperson.views.gridview.subtitle",dataInfo:""},e.containerModel={view_toolbar:{name:"toolbar",type:"TOOLBAR"},view_grid:{name:"grid",type:"GRID"},view_searchform:{name:"searchform",type:"SEARCHFORM"}},e.viewState=new h["a"],e.toolBarModels={deuiaction1_quickcreateperson:{name:"deuiaction1_quickcreateperson",caption:"新建",isShowCaption:!0,isShowIcon:!0,tooltip:"新建",iconcls:"fa fa-file-text-o",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"QuickCreatePerson",target:"NONE"},class:""},deuiaction8:{name:"deuiaction8",caption:"导入",isShowCaption:!0,isShowIcon:!0,tooltip:"导入",iconcls:"fa fa-upload",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"SRFUR__JGLYYPZSZYJTJ",uiaction:{tag:"Import",target:""},class:""},deuiaction6:{name:"deuiaction6",caption:"导出",isShowCaption:!0,isShowIcon:!0,tooltip:"导出",iconcls:"fa fa-file-excel-o",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"ExportExcel",target:""},MaxRowCount:5e3,class:""},deuiaction2:{name:"deuiaction2",caption:"过滤",isShowCaption:!0,isShowIcon:!0,tooltip:"过滤",iconcls:"fa fa-filter",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"SRFUR__JGLYKQLX",uiaction:{tag:"ToggleFilter",target:""},class:""},deuiaction5:{name:"deuiaction5",caption:"帮助",isShowCaption:!0,isShowIcon:!0,tooltip:"帮助",iconcls:"fa fa-question",icon:"",disabled:!1,type:"DEUIACTION",visabled:!0,dataaccaction:"",uiaction:{tag:"Help",target:""},class:""}},e.engine=new w["a"],e.isSingleSelect=!1,e.query="",e.isExpandSearchForm=!1,e.gridRowActiveMode=2,e}return Object(r["a"])(t,e),Object(v["a"])(t,[{key:"viewDatasChange",value:function(e){return e}},{key:"engineInit",value:function(){var e=this;this.engine.init({view:this,opendata:function(t,i,a,n){e.opendata(t,i,a,n)},newdata:function(t,i,a,n){e.newdata(t,i,a,n)},grid:this.$refs.grid,searchform:this.$refs.searchform,keyPSDEField:"pimperson",majorPSDEField:"pimpersonname",isLoadDefault:!0})}},{key:"toolbar_click",value:function(e,t){Object.is(e.tag,"deuiaction1_quickcreateperson")&&this.toolbar_deuiaction1_quickcreateperson_click(null,"",t),Object.is(e.tag,"deuiaction8")&&this.toolbar_deuiaction8_click(null,"",t),Object.is(e.tag,"deuiaction6")&&this.toolbar_deuiaction6_click(null,"",t),Object.is(e.tag,"deuiaction2")&&this.toolbar_deuiaction2_click(null,"",t),Object.is(e.tag,"deuiaction5")&&this.toolbar_deuiaction5_click(null,"",t)}},{key:"grid_selectionchange",value:function(e,t){this.engine.onCtrlEvent("grid","selectionchange",e)}},{key:"grid_beforeload",value:function(e,t){this.engine.onCtrlEvent("grid","beforeload",e)}},{key:"grid_rowdblclick",value:function(e,t){this.engine.onCtrlEvent("grid","rowdblclick",e)}},{key:"grid_remove",value:function(e,t){this.engine.onCtrlEvent("grid","remove",e)}},{key:"grid_load",value:function(e,t){this.engine.onCtrlEvent("grid","load",e)}},{key:"searchform_save",value:function(e,t){this.engine.onCtrlEvent("searchform","save",e)}},{key:"searchform_search",value:function(e,t){this.engine.onCtrlEvent("searchform","search",e)}},{key:"searchform_load",value:function(e,t){this.engine.onCtrlEvent("searchform","load",e)}},{key:"toolbar_deuiaction1_quickcreateperson_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(d["a"])(a.getDatas())),e&&(i=[e]);var r=new m["default"];r.PimPerson_QuickCreatePerson(i,o,n,t,a,this,"PimPerson")}},{key:"toolbar_deuiaction8_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(d["a"])(a.getDatas())),e&&(i=[e]),this.Import(i,o,n,t,a,this,"PimPerson")}},{key:"toolbar_deuiaction6_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(d["a"])(a.getDatas())),e&&(i=[e]),this.ExportExcel(i,o,n,t,a,this,"PimPerson")}},{key:"toolbar_deuiaction2_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(d["a"])(a.getDatas())),e&&(i=[e]),this.ToggleFilter(i,o,n,t,a,this,"PimPerson")}},{key:"toolbar_deuiaction5_click",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(d["a"])(a.getDatas())),e&&(i=[e]),this.Help(i,o,n,t,a,this,"PimPerson")}},{key:"newdata",value:function(e,t,i,a,n){var o=this,r={};e[0].srfsourcekey&&(r.srfsourcekey=e[0].srfsourcekey);var c=JSON.parse(JSON.stringify(this.context));delete c.pimperson,e.length>0&&Object.assign(c,e[0]);var s=[],l=[{pathName:"pimpeople",parameterName:"pimperson"},{pathName:"editview",parameterName:"editview"}],u=function(t){var i={w:(new Date).getTime()};Object.assign(i,t);var a=o.$viewTool.buildUpRoutePath(o.$route,c,s,l,e,i);o.$router.push(a)};u(r)}},{key:"opendata",value:function(e,t,i,a,n){var o=this,r={},c=JSON.parse(JSON.stringify(this.context));e.length>0&&Object.assign(c,e[0]);var s=function(e,t){var i=o.$appdrawer.openDrawer(e,c,t);i.subscribe((function(e){e&&Object.is(e.ret,"OK")&&n&&n.refresh instanceof Function&&n.refresh(e.datas)}))},l={viewname:"pimpersonedit-view2",height:0,width:0,title:this.$t("entities.pimperson.views.editview2.title"),placement:"DRAWER_TOP"};s(l,r)}},{key:"Import",value:function(e,t,i,a,n,o,r){n&&n.importExcel instanceof Function&&a&&n.importExcel(i)}},{key:"ExportExcel",value:function(e,t,i,a,n,o,r){n&&n.exportExcel instanceof Function&&a&&n.exportExcel(a.exportparms)}},{key:"ToggleFilter",value:function(e,t,i,a,n,o,r){var c=this;c.hasOwnProperty("isExpandSearchForm")&&(c.isExpandSearchForm=!c.isExpandSearchForm)}},{key:"Help",value:function(e,t,i,a,n,o,r){this.$Notice.error({title:"错误",desc:"帮助未支持"})}},{key:"destroyed",value:function(){var e=this;if(this.viewDefaultUsage){var t=Object.keys(localStorage);t.length>0&&t.forEach((function(t){t.startsWith(e.context.srfsessionid)&&localStorage.removeItem(t)}))}}},{key:"created",value:function(){var e=this;Object(f["a"])(Object(o["a"])(t.prototype),"created",this).call(this),this.formDruipart&&this.formDruipart.subscribe((function(t){if(Object.is(t.action,"save")&&e.viewState.next({tag:"grid",action:"save",data:e.viewparams}),Object.is(t.action,"load")){var i=e;i.engine.load(t.data,!0)}}))}},{key:"onSearch",value:function(e){var t=this.$refs.grid;t&&t.load(this.context)}},{key:"onSave",value:function(e){this.$emit("drdatasaved",e)}},{key:"onRefreshData",value:function(e,t){if(null!==e&&void 0!==e&&0!==e){var i=this.$refs.grid;i&&i.load({})}}},{key:"refreshdata",get:function(){return this.$store.getters["viewaction/getRefreshData"](this.viewtag)}}]),t}(p["j"]);c["a"]([Object(s["b"])()],b.prototype,"viewDatasChange",null),c["a"]([Object(s["e"])()],b.prototype,"formDruipart",void 0),c["a"]([Object(s["h"])("refreshdata")],b.prototype,"onRefreshData",null),b=c["a"]([Object(s["a"])({}),p["q"]],b);var k=b,_=k,y=(i("7326"),i("2877")),O=Object(y["a"])(_,l,u,!1,null,null,null),S=O.exports,E=i("437a"),D=i("ab50"),j=function(e){function t(){return Object(a["a"])(this,t),Object(n["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(r["a"])(t,e),t}(S);j=c["a"]([Object(s["a"])({components:{view_grid:E["a"],view_searchform:D["a"]},beforeRouteEnter:function(e,t,i){i((function(t){t.$store.commit("addCurPageViewtag",{fullPath:e.fullPath,viewtag:t.viewtag})}))}})],j);var x,C,I=j,F=I,P=Object(y["a"])(F,x,C,!1,null,null,null);t["default"]=P.exports}}]);