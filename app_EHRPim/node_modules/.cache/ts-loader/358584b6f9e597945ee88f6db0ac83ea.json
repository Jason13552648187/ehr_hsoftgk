{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\crm-core\\core\\view\\ViewBase.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\crm-core\\core\\view\\ViewBase.ts","mtime":1630509408955},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5pcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgeyBWdWUsIFByb3AsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJzsKLyoqDQogKiDop4blm77ln7rnsbsNCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgVmlld0Jhc2UNCiAqIEBleHRlbmRzIHtWdWV9DQogKi8KCmV4cG9ydCB2YXIgVmlld0Jhc2UgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKFZpZXdCYXNlLCBfVnVlKTsKCiAgZnVuY3Rpb24gVmlld0Jhc2UoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZXdCYXNlKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihWaWV3QmFzZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICAvKioNCiAgICAgKiDop4blm77nirbmgIHorqLpmIXlr7nosaENCiAgICAgKg0KICAgICAqIEBwcml2YXRlDQogICAgICogQHR5cGUge1N1YmplY3Q8e2FjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnl9Pn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpcy52aWV3U3RhdGUgPSBuZXcgU3ViamVjdCgpOwogICAgLyoqDQogICAgICog6KeG5Zu+5qCH6K+GDQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzLnZpZXd0YWcgPSAnJzsKICAgIC8qKg0KICAgICAqIOW9k+WJjeinhuWbvuS4iuS4i+aWhw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMuY29udGV4dCA9IHt9OwogICAgLyoqDQogICAgICog6KeG5Zu+5Y+C5pWwDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpcy52aWV3cGFyYW1zID0ge307CiAgICAvKioNCiAgICAgKiDoh6rlrprkuYnop4blm77lr7zoiKrkuIrkuIvmlofpm4blkIgNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzLmN1c3RvbVZpZXdOYXZDb250ZXh0cyA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5Y+C5pWw6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpcy5jdXN0b21WaWV3UGFyYW1zID0ge307CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIC8qKg0KICAgKiDlpITnkIblgLzlj5jljJYNCiAgICoNCiAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFZpZXdCYXNlLCBbewogICAga2V5OiAib25WaWV3RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25WaWV3RGF0YShuZXdWYWwsIG9sZFZhbCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghT2JqZWN0LmlzKG5ld1ZhbCwgb2xkVmFsKSAmJiB0aGlzLmVuZ2luZSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5wYXJzZVZpZXdQYXJhbSgpOwoKICAgICAgICAgIF90aGlzMi5lbmdpbmUubG9hZCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDop4blm77lj4LmlbDlj5jljJYNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25QYXJhbURhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGFyYW1EYXRhKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy52aWV3cGFyYW1zKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy52aWV3cGFyYW1zW2tleV07CiAgICAgICAgfQoKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMudmlld3BhcmFtcywgSlNPTi5wYXJzZSh0aGlzLnZpZXdwYXJhbSkpOwogICAgICAgIHRoaXMudmlld1BhcmFtQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6KeG5Zu+5Y+C5pWw5Y+Y5pu0DQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ2aWV3UGFyYW1DaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZpZXdQYXJhbUNoYW5nZShuZXdWYWwsIG9sZFZhbCkge30KICAgIC8qKg0KICAgICAqIFZ1ZeWjsOaYjuWRqOacnw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHZhciBzZWNvbmR0YWcgPSB0aGlzLiR1dGlsLmNyZWF0ZVVVSUQoKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ2aWV3YWN0aW9uL2NyZWF0ZWRWaWV3IiwgewogICAgICAgIHZpZXd0YWc6IHRoaXMudmlld3RhZywKICAgICAgICBzZWNvbmR0YWc6IHNlY29uZHRhZwogICAgICB9KTsKICAgICAgdGhpcy52aWV3dGFnID0gc2Vjb25kdGFnOwogICAgICB0aGlzLnBhcnNlVmlld1BhcmFtKCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBWdWXlo7DmmI7lkajmnJ8o57uE5Lu25Yid5aeL5YyW5a6M5q+VKQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm1vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuZW5naW5lSW5pdCgpOwogICAgICB0aGlzLmxvYWRNb2RlbCgpOwogICAgICB0aGlzLiR2aWV3VG9vbC5zZXRJbmRleFZpZXdQYXJhbSh0aGlzLmNvbnRleHQpOwogICAgICB0aGlzLnZpZXdNb3VudGVkKCk7CiAgICB9CiAgICAvKioNCiAgICAgKiDop4blm77nu4Tku7bmjILovb3lrozmr5UNCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidmlld01vdW50ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZpZXdNb3VudGVkKCkge30KICAgIC8qKg0KICAgICAqIOmUgOavgeS5i+WJjQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImJlZm9yZURlc3Ryb3kiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidmlld2FjdGlvbi9yZW1vdmVWaWV3IiwgdGhpcy52aWV3dGFnKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaYr+WQpuS4uum7mOiupOexu+Wei+inhuWbvg0KICAgICAqDQogICAgICogQHByb3RlY3RlZA0KICAgICAqIEByZXR1cm5zIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpc0RlZmF1bHRWaWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0RlZmF1bHRWaWV3KCkgewogICAgICByZXR1cm4gT2JqZWN0LmlzKHRoaXMub3Blbk1vZGUsICdERUZBVUxUJyk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmmK/lkKbkuLrmqKHmgIHnsbvlnovop4blm74NCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaXNNb2RhbFZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTW9kYWxWaWV3KCkgewogICAgICByZXR1cm4gT2JqZWN0LmlzKHRoaXMub3Blbk1vZGUsICdNT0RBTCcpOwogICAgfQogICAgLyoqDQogICAgICog5byV5pOO5Yid5aeL5YyWDQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImVuZ2luZUluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVuZ2luZUluaXQoKSB7fQogICAgLyoqDQogICAgICog5Yqg6L295qih5Z6LDQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibG9hZE1vZGVsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZE1vZGVsID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9hZE1vZGVsKCkgewogICAgICAgIHJldHVybiBfbG9hZE1vZGVsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2FkTW9kZWw7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOino+aekOinhuWbvuWPguaVsA0KICAgICAqDQogICAgICogQHByb3RlY3RlZA0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwYXJzZVZpZXdQYXJhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGFyc2VWaWV3UGFyYW0oKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNvbnRleHQpIHsKICAgICAgICBkZWxldGUgdGhpcy5jb250ZXh0W2tleV07CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnZpZXdEZWZhdWx0VXNhZ2UpIHsKICAgICAgICAvL+WIneWni+WMluinhuWbvuWUr+S4gOagh+ivhgogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5jb250ZXh0LCB7CiAgICAgICAgICBzcmZzZXNzaW9uaWQ6IHRoaXMuJHV0aWwuY3JlYXRlVVVJRCgpCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy52aWV3RGVmYXVsdFVzYWdlICYmIHRoaXMudmlld2RhdGEgJiYgIU9iamVjdC5pcyh0aGlzLnZpZXdkYXRhLCAiIikpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udGV4dCwgSlNPTi5wYXJzZSh0aGlzLnZpZXdkYXRhKSk7CgogICAgICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0LnNyZnBhcmVudGRlbmFtZSkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnZpZXdwYXJhbXMsIHsKICAgICAgICAgICAgc3JmcGFyZW50ZGVuYW1lOiB0aGlzLmNvbnRleHQuc3JmcGFyZW50ZGVuYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0LnNyZnBhcmVudGtleSkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnZpZXdwYXJhbXMsIHsKICAgICAgICAgICAgc3JmcGFyZW50a2V5OiB0aGlzLmNvbnRleHQuc3JmcGFyZW50a2V5CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgdGhpcy5oYW5kbGVDdXN0b21WaWV3RGF0YSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHBhdGggPSB0aGlzLiRyb3V0ZS5tYXRjaGVkW3RoaXMuJHJvdXRlLm1hdGNoZWQubGVuZ3RoIC0gMV0ucGF0aDsKICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgdmFyIGN1clJlZyA9IHRoaXMuJHBhdGhUb1JlZ0V4cC5wYXRoVG9SZWdleHAocGF0aCwga2V5cyk7CiAgICAgIHZhciBtYXRjaEFycmF5ID0gY3VyUmVnLmV4ZWModGhpcy4kcm91dGUucGF0aCk7CiAgICAgIHZhciB0ZW1wVmFsdWUgPSB7fTsKICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0ZW1wVmFsdWUsIGl0ZW0ubmFtZSwgewogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIHZhbHVlOiBtYXRjaEFycmF5W2luZGV4ICsgMV0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHZpZXdUb29sLmZvcm1hdFJvdXRlUGFyYW1zKHRlbXBWYWx1ZSwgdGhpcy4kcm91dGUsIHRoaXMuY29udGV4dCwgdGhpcy52aWV3cGFyYW1zKTsKCiAgICAgIGlmICh0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEFwcERhdGEoKSAmJiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEFwcERhdGEoKS5jb250ZXh0KSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmNvbnRleHQsIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0QXBwRGF0YSgpLmNvbnRleHQpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDlpITnkIboh6rlrprkuYnop4blm77mlbDmja4NCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ3VzdG9tVmlld0RhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUN1c3RvbVZpZXdEYXRhKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuaGFuZGxlVmlld1JlcygpOwoKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY3VzdG9tVmlld05hdkNvbnRleHRzKS5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmtleXModGhpcy5jdXN0b21WaWV3TmF2Q29udGV4dHMpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHZhciB0ZW1wQ29udGV4dCA9IHt9OwogICAgICAgICAgdmFyIGN1ck5hdkNvbnRleHQgPSBfdGhpczMuY3VzdG9tVmlld05hdkNvbnRleHRzW2l0ZW1dOwoKICAgICAgICAgIF90aGlzMy5oYW5kbGVDdXN0b21EYXRhTG9naWMoY3VyTmF2Q29udGV4dCwgdGVtcENvbnRleHQsIGl0ZW0pOwoKICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMzLmNvbnRleHQsIHRlbXBDb250ZXh0KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuY3VzdG9tVmlld1BhcmFtcykubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY3VzdG9tVmlld1BhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgdmFyIHRlbXBQYXJhbSA9IHt9OwogICAgICAgICAgdmFyIGN1ck5hdlBhcmFtID0gX3RoaXMzLmN1c3RvbVZpZXdQYXJhbXNbaXRlbV07CgogICAgICAgICAgX3RoaXMzLmhhbmRsZUN1c3RvbURhdGFMb2dpYyhjdXJOYXZQYXJhbSwgdGVtcFBhcmFtLCBpdGVtKTsKCiAgICAgICAgICBPYmplY3QuYXNzaWduKF90aGlzMy52aWV3cGFyYW1zLCB0ZW1wUGFyYW0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDlpITnkIbmjIflrprop4blm77mjqfliLblhbPns7vlsIbniLbplK7ovazkuLrniLblrp7kvZPkuIrkuIvmlocNCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaGFuZGxlVmlld1JlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVmlld1JlcygpIHt9CiAgICAvKioNCiAgICAgKiDlpITnkIboh6rlrprkuYnop4blm77mlbDmja7pgLvovpENCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAcGFyYW0geyp9IGN1ck5hdkRhdGENCiAgICAgKiBAcGFyYW0geyp9IHRlbXBEYXRhDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGl0ZW0NCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaGFuZGxlQ3VzdG9tRGF0YUxvZ2ljIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVDdXN0b21EYXRhTG9naWMoY3VyTmF2RGF0YSwgdGVtcERhdGEsIGl0ZW0pIHsKICAgICAgLy8g55u05o6l5YC855u05o6l6LWL5YC8CiAgICAgIGlmIChjdXJOYXZEYXRhLmlzUmF3VmFsdWUpIHsKICAgICAgICBpZiAoT2JqZWN0LmlzKGN1ck5hdkRhdGEudmFsdWUsICJudWxsIikgfHwgT2JqZWN0LmlzKGN1ck5hdkRhdGEudmFsdWUsICIiKSkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRlbXBEYXRhLCBpdGVtLCB7CiAgICAgICAgICAgIHZhbHVlOiBudWxsLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRlbXBEYXRhLCBpdGVtLCB7CiAgICAgICAgICAgIHZhbHVlOiBjdXJOYXZEYXRhLnZhbHVlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5YWI5LuO5a+86Iiq5LiK5LiL5paH5Y+W5pWw77yM5rKh5pyJ5YaN5LuO5a+86Iiq5Y+C5pWw77yIVVJM77yJ5Y+W5pWw77yM5aaC5p6c5a+86Iiq5LiK5LiL5paH5ZKM5a+86Iiq5Y+C5pWw6YO95rKh5pyJ5YiZ5Li6bnVsbAogICAgICAgIGlmICh0aGlzLmNvbnRleHRbY3VyTmF2RGF0YS52YWx1ZV0pIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0ZW1wRGF0YSwgaXRlbSwgewogICAgICAgICAgICB2YWx1ZTogdGhpcy5jb250ZXh0W2N1ck5hdkRhdGEudmFsdWVdLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMudmlld3BhcmFtc1tjdXJOYXZEYXRhLnZhbHVlXSkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGVtcERhdGEsIGl0ZW0sIHsKICAgICAgICAgICAgICB2YWx1ZTogdGhpcy52aWV3cGFyYW1zW2N1ck5hdkRhdGEudmFsdWVdLAogICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRlbXBEYXRhLCBpdGVtLCB7CiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsCiAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDlhbPpl63op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAbWVtYmVyb2YgSW5kZXhCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNsb3NlVmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VWaWV3KGFyZ3MpIHsKICAgICAgaWYgKCF0aGlzLnZpZXdEZWZhdWx0VXNhZ2UpIHsKICAgICAgICB0aGlzLiRlbWl0KCJ2aWV3ZGF0YXNjaGFuZ2UiLCBhcmdzKTsKICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5iYWNrKCk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiBWaWV3QmFzZTsKfShWdWUpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6ICdERUZBVUxUJwp9KV0sIFZpZXdCYXNlLnByb3RvdHlwZSwgIm9wZW5Nb2RlIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCh7CiAgImRlZmF1bHQiOiB0cnVlCn0pXSwgVmlld0Jhc2UucHJvdG90eXBlLCAidmlld0RlZmF1bHRVc2FnZSIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZpZXdCYXNlLnByb3RvdHlwZSwgInZpZXdkYXRhIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goInZpZXdkYXRhIildLCBWaWV3QmFzZS5wcm90b3R5cGUsICJvblZpZXdEYXRhIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIFZpZXdCYXNlLnByb3RvdHlwZSwgInZpZXdwYXJhbSIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCd2aWV3cGFyYW0nLCB7CiAgaW1tZWRpYXRlOiB0cnVlLAogIGRlZXA6IHRydWUKfSldLCBWaWV3QmFzZS5wcm90b3R5cGUsICJvblBhcmFtRGF0YSIsIG51bGwpOw=="},null]}