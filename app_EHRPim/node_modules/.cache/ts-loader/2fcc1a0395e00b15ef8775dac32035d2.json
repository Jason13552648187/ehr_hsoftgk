{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\pim-person\\txlxyg-2-grid\\txlxyg-2-grid-service.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\pim-person\\txlxyg-2-grid\\txlxyg-2-grid-service.ts","mtime":1630509411988},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFV0aWwsIEVycm9ybG9nIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCBDb250cm9sU2VydmljZSBmcm9tICdAL3dpZGdldHMvY29udHJvbC1zZXJ2aWNlJzsKaW1wb3J0IFBpbVBlcnNvblNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL3BpbS1wZXJzb24vcGltLXBlcnNvbi1zZXJ2aWNlJzsKaW1wb3J0IFRYTFhZR18yTW9kZWwgZnJvbSAnLi90eGx4eWctMi1ncmlkLW1vZGVsJzsKLyoqDQogKiBUWExYWUdfMiDpg6jku7bmnI3liqHlr7nosaENCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgVFhMWFlHXzJTZXJ2aWNlDQogKi8KCnZhciBUWExYWUdfMlNlcnZpY2UgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfQ29udHJvbFNlcnZpY2UpIHsKICBfaW5oZXJpdHMoVFhMWFlHXzJTZXJ2aWNlLCBfQ29udHJvbFNlcnZpY2UpOwoKICAvKioNCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBUWExYWUdfMlNlcnZpY2UuDQogICAqDQogICAqIEBwYXJhbSB7Kn0gW29wdHM9e31dDQogICAqIEBtZW1iZXJvZiBUWExYWUdfMlNlcnZpY2UNCiAgICovCiAgZnVuY3Rpb24gVFhMWFlHXzJTZXJ2aWNlKCkgewogICAgdmFyIF90aGlzOwoKICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVFhMWFlHXzJTZXJ2aWNlKTsKCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihUWExYWUdfMlNlcnZpY2UpLmNhbGwodGhpcywgb3B0cykpOwogICAgLyoqDQogICAgICog5Lq65ZGY5L+h5oGv5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7UGltUGVyc29uU2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgVFhMWFlHXzJTZXJ2aWNlDQogICAgICovCgogICAgX3RoaXMuYXBwRW50aXR5U2VydmljZSA9IG5ldyBQaW1QZXJzb25TZXJ2aWNlKHsKICAgICAgJHN0b3JlOiBfdGhpcy5nZXRTdG9yZSgpCiAgICB9KTsKICAgIF90aGlzLm1vZGVsID0gbmV3IFRYTFhZR18yTW9kZWwoKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqDQogICAqIOiuvue9ruS7juaVsOaNruaooeW8jw0KICAgKg0KICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICogQG1lbWJlcm9mIFRYTFhZR18yU2VydmljZQ0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhUWExYWUdfMlNlcnZpY2UsIFt7CiAgICBrZXk6ICJzZXRUZW1wTW9kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGVtcE1vZGUoKSB7CiAgICAgIHRoaXMuaXNUZW1wTW9kZSA9IGZhbHNlOwogICAgfQogICAgLyoqDQogICAgICog5aSE55CG5pWw5o2uDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHtQcm9taXNlPGFueT59IHByb21pc2UNCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fQ0KICAgICAqIEBtZW1iZXJvZiBUWExYWUdfMlNlcnZpY2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZG9JdGVtcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZG9JdGVtcyhwcm9taXNlLCBkZUtleUZpZWxkLCBkZU5hbWUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgaXRlbVtkZU5hbWVdID0gaXRlbVtkZUtleUZpZWxkXTsKICAgICAgICAgICAgICBkYXRhW2luZGV4XSA9IGl0ZW07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KFtdKTsKICAgICAgICAgIH0KICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlamVjdChbXSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+W6Leo5a6e5L2T5pWw5o2u6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZU5hbWUg5pyN5Yqh5ZCN56ewDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGludGVyZmFjZU5hbWUg5o6l5Y+j5ZCN56ewDQogICAgICogQHBhcmFtIHsqfSBkYXRhDQogICAgICogQHBhcmFtIHtib29sZWFufSBbaXNsb2FkaW5nXQ0KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueVtdPn0NCiAgICAgKiBAbWVtYmVyb2YgIFRYTFhZR18yU2VydmljZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRJdGVtcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbXMoc2VydmljZU5hbWUsIGludGVyZmFjZU5hbWUpIHsKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwogICAgICB2YXIgaXNsb2FkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgPyBhcmd1bWVudHNbNF0gOiB1bmRlZmluZWQ7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChbXSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmt7vliqDmlbDmja4NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24NCiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9e31dDQogICAgICogQHBhcmFtIHtib29sZWFufSBbaXNsb2FkaW5nXQ0KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59DQogICAgICogQG1lbWJlcm9mIFRYTFhZR18yU2VydmljZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJhZGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChhY3Rpb24pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgdmFyIGlzbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwoKICAgICAgdmFyIF90aGlzJGhhbmRsZVJlcXVlc3REYSA9IHRoaXMuaGFuZGxlUmVxdWVzdERhdGEoYWN0aW9uLCBjb250ZXh0LCBkYXRhLCB0cnVlKSwKICAgICAgICAgIERhdGEgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGEuZGF0YSwKICAgICAgICAgIENvbnRleHQgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGEuY29udGV4dDsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIF9hcHBFbnRpdHlTZXJ2aWNlID0gX3RoaXMyLmFwcEVudGl0eVNlcnZpY2U7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgaWYgKF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gJiYgX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICByZXN1bHQgPSBfYXBwRW50aXR5U2VydmljZVthY3Rpb25dKENvbnRleHQsIERhdGEsIGlzbG9hZGluZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdCA9IF9hcHBFbnRpdHlTZXJ2aWNlLkNyZWF0ZShDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuaGFuZGxlUmVzcG9uc2UoYWN0aW9uLCByZXNwb25zZSk7CgogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWIoOmZpOaVsOaNrg0KICAgICAqDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbg0KICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9e31dDQogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0NCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc2xvYWRpbmddDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKiBAbWVtYmVyb2YgVFhMWFlHXzJTZXJ2aWNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlbGV0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShhY3Rpb24pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgdmFyIGlzbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwoKICAgICAgdmFyIF90aGlzJGhhbmRsZVJlcXVlc3REYTIgPSB0aGlzLmhhbmRsZVJlcXVlc3REYXRhKGFjdGlvbiwgY29udGV4dCwgZGF0YSwgdHJ1ZSksCiAgICAgICAgICBEYXRhID0gX3RoaXMkaGFuZGxlUmVxdWVzdERhMi5kYXRhLAogICAgICAgICAgQ29udGV4dCA9IF90aGlzJGhhbmRsZVJlcXVlc3REYTIuY29udGV4dDsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIF9hcHBFbnRpdHlTZXJ2aWNlID0gX3RoaXMzLmFwcEVudGl0eVNlcnZpY2U7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgaWYgKF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gJiYgX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICByZXN1bHQgPSBfYXBwRW50aXR5U2VydmljZVthY3Rpb25dKENvbnRleHQsIERhdGEsIGlzbG9hZGluZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdCA9IF9hcHBFbnRpdHlTZXJ2aWNlLlJlbW92ZShDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog5L+u5pS55pWw5o2uDQogICAgICoNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uDQogICAgICogQHBhcmFtIHsqfSBbY29udGV4dD17fV0NCiAgICAgKiBAcGFyYW0geyp9IFtkYXRhPXt9XQ0KICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzbG9hZGluZ10NCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fQ0KICAgICAqIEBtZW1iZXJvZiBUWExYWUdfMlNlcnZpY2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgIHZhciBpc2xvYWRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKCiAgICAgIHZhciBfdGhpcyRoYW5kbGVSZXF1ZXN0RGEzID0gdGhpcy5oYW5kbGVSZXF1ZXN0RGF0YShhY3Rpb24sIGNvbnRleHQsIGRhdGEsIHRydWUpLAogICAgICAgICAgRGF0YSA9IF90aGlzJGhhbmRsZVJlcXVlc3REYTMuZGF0YSwKICAgICAgICAgIENvbnRleHQgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGEzLmNvbnRleHQ7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBfYXBwRW50aXR5U2VydmljZSA9IF90aGlzNC5hcHBFbnRpdHlTZXJ2aWNlOwogICAgICAgIHZhciByZXN1bHQ7CgogICAgICAgIGlmIChfYXBwRW50aXR5U2VydmljZVthY3Rpb25dICYmIF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgcmVzdWx0ID0gX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXShEYXRhLCBDb250ZXh0LCBpc2xvYWRpbmcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgPSBfYXBwRW50aXR5U2VydmljZS5VcGRhdGUoRGF0YSwgQ29udGV4dCwgaXNsb2FkaW5nKTsKICAgICAgICB9CgogICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM0LmhhbmRsZVJlc3BvbnNlKGFjdGlvbiwgcmVzcG9uc2UpOwoKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDojrflj5bmlbDmja4NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24NCiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9e31dDQogICAgICogQHBhcmFtIHtib29sZWFufSBbaXNsb2FkaW5nXQ0KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59DQogICAgICogQG1lbWJlcm9mIFRYTFhZR18yU2VydmljZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldChhY3Rpb24pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgY29udGV4dCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKICAgICAgdmFyIGlzbG9hZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzID8gYXJndW1lbnRzWzNdIDogdW5kZWZpbmVkOwoKICAgICAgdmFyIF90aGlzJGhhbmRsZVJlcXVlc3REYTQgPSB0aGlzLmhhbmRsZVJlcXVlc3REYXRhKGFjdGlvbiwgY29udGV4dCwgZGF0YSwgdHJ1ZSksCiAgICAgICAgICBEYXRhID0gX3RoaXMkaGFuZGxlUmVxdWVzdERhNC5kYXRhLAogICAgICAgICAgQ29udGV4dCA9IF90aGlzJGhhbmRsZVJlcXVlc3REYTQuY29udGV4dDsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICB2YXIgX2FwcEVudGl0eVNlcnZpY2UgPSBfdGhpczUuYXBwRW50aXR5U2VydmljZTsKCiAgICAgICAgaWYgKF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gJiYgX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICByZXN1bHQgPSBfYXBwRW50aXR5U2VydmljZVthY3Rpb25dKENvbnRleHQsIERhdGEsIGlzbG9hZGluZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc3VsdCA9IF90aGlzNS5hcHBFbnRpdHlTZXJ2aWNlLkdldChDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvL+WkhOeQhui/lOWbnuaVsOaNru+8jOihpeWFheWIpOaWreagh+ivhgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNwb25zZS5kYXRhLCB7CiAgICAgICAgICAgICAgc3JmdWY6IDAKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOafpeivouaVsOaNrg0KICAgICAqDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGFjdGlvbg0KICAgICAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9e31dDQogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0NCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc2xvYWRpbmddDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKiBAbWVtYmVyb2YgVFhMWFlHXzJTZXJ2aWNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlYXJjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKGFjdGlvbikgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgICB2YXIgaXNsb2FkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7CgogICAgICB2YXIgX3RoaXMkaGFuZGxlUmVxdWVzdERhNSA9IHRoaXMuaGFuZGxlUmVxdWVzdERhdGEoYWN0aW9uLCBjb250ZXh0LCBkYXRhLCB0cnVlKSwKICAgICAgICAgIERhdGEgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGE1LmRhdGEsCiAgICAgICAgICBDb250ZXh0ID0gX3RoaXMkaGFuZGxlUmVxdWVzdERhNS5jb250ZXh0OwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgX2FwcEVudGl0eVNlcnZpY2UgPSBfdGhpczYuYXBwRW50aXR5U2VydmljZTsKICAgICAgICB2YXIgcmVzdWx0OwoKICAgICAgICBpZiAoX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXSAmJiBfYXBwRW50aXR5U2VydmljZVthY3Rpb25dIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgIHJlc3VsdCA9IF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0oQ29udGV4dCwgRGF0YSwgaXNsb2FkaW5nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzdWx0ID0gX2FwcEVudGl0eVNlcnZpY2UuRmV0Y2hEZWZhdWx0KENvbnRleHQsIERhdGEsIGlzbG9hZGluZyk7CiAgICAgICAgfQoKICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNi5oYW5kbGVSZXNwb25zZShhY3Rpb24sIHJlc3BvbnNlKTsKCiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog5Yqg6L296I2J56i/DQogICAgICoNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWN0aW9uDQogICAgICogQHBhcmFtIHsqfSBbY29udGV4dD17fV0NCiAgICAgKiBAcGFyYW0geyp9IFtkYXRhPXt9XQ0KICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzbG9hZGluZ10NCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fQ0KICAgICAqIEBtZW1iZXJvZiBUWExYWUdfMlNlcnZpY2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibG9hZERyYWZ0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkRHJhZnQoYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgIHZhciBpc2xvYWRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKCiAgICAgIHZhciBfdGhpcyRoYW5kbGVSZXF1ZXN0RGE2ID0gdGhpcy5oYW5kbGVSZXF1ZXN0RGF0YShhY3Rpb24sIGNvbnRleHQsIGRhdGEsIHRydWUpLAogICAgICAgICAgRGF0YSA9IF90aGlzJGhhbmRsZVJlcXVlc3REYTYuZGF0YSwKICAgICAgICAgIENvbnRleHQgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGE2LmNvbnRleHQ7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgdmFyIF9hcHBFbnRpdHlTZXJ2aWNlID0gX3RoaXM3LmFwcEVudGl0eVNlcnZpY2U7CgogICAgICAgIGlmIChfYXBwRW50aXR5U2VydmljZVthY3Rpb25dICYmIF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgcmVzdWx0ID0gX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXShDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXN1bHQgPSBfdGhpczcuYXBwRW50aXR5U2VydmljZS5HZXREcmFmdChDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0KCiAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvL+WkhOeQhui/lOWbnuaVsOaNru+8jOihpeWFheWIpOaWreagh+ivhgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXNwb25zZS5kYXRhLCB7CiAgICAgICAgICAgICAgc3JmdWY6ICcwJwogICAgICAgICAgICB9KTsgLy/ku7/nnJ/kuLvplK7mlbDmja4KCiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEucGltcGVyc29uaWQgPSBVdGlsLmNyZWF0ZVVVSUQoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczcuaGFuZGxlUmVzcG9uc2UoYWN0aW9uLCByZXNwb25zZSwgdHJ1ZSk7CgogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWJjeWPsOmAu+i+kQ0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24NCiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0PXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9e31dDQogICAgICogQHBhcmFtIHtib29sZWFufSBbaXNsb2FkaW5nXQ0KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59DQogICAgICogQG1lbWJlcm9mIE1haW5TZXJ2aWNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImZyb250TG9naWMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZyb250TG9naWMoYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdmFyIGNvbnRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICAgIHZhciBpc2xvYWRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKCiAgICAgIHZhciBfdGhpcyRoYW5kbGVSZXF1ZXN0RGE3ID0gdGhpcy5oYW5kbGVSZXF1ZXN0RGF0YShhY3Rpb24sIGNvbnRleHQsIGRhdGEsIHRydWUpLAogICAgICAgICAgRGF0YSA9IF90aGlzJGhhbmRsZVJlcXVlc3REYTcuZGF0YSwKICAgICAgICAgIENvbnRleHQgPSBfdGhpcyRoYW5kbGVSZXF1ZXN0RGE3LmNvbnRleHQ7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgdmFyIF9hcHBFbnRpdHlTZXJ2aWNlID0gX3RoaXM4LmFwcEVudGl0eVNlcnZpY2U7CgogICAgICAgIGlmIChfYXBwRW50aXR5U2VydmljZVthY3Rpb25dICYmIF9hcHBFbnRpdHlTZXJ2aWNlW2FjdGlvbl0gaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgcmVzdWx0ID0gX2FwcEVudGl0eVNlcnZpY2VbYWN0aW9uXShDb250ZXh0LCBEYXRhLCBpc2xvYWRpbmcpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoewogICAgICAgICAgICBzdGF0dXM6IDUwMCwKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIHRpdGxlOiAn5aSx6LSlJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn57O757uf5byC5bi4JwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXM4LmhhbmRsZVJlc3BvbnNlKGFjdGlvbiwgcmVzcG9uc2UpOwoKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVFhMWFlHXzJTZXJ2aWNlOwp9KENvbnRyb2xTZXJ2aWNlKTsKCmV4cG9ydCB7IFRYTFhZR18yU2VydmljZSBhcyBkZWZhdWx0IH07Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW0Vycm9ybG9nXSwgVFhMWFlHXzJTZXJ2aWNlLnByb3RvdHlwZSwgImdldEl0ZW1zIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW0Vycm9ybG9nXSwgVFhMWFlHXzJTZXJ2aWNlLnByb3RvdHlwZSwgImFkZCIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtFcnJvcmxvZ10sIFRYTFhZR18yU2VydmljZS5wcm90b3R5cGUsICJkZWxldGUiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbRXJyb3Jsb2ddLCBUWExYWUdfMlNlcnZpY2UucHJvdG90eXBlLCAidXBkYXRlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW0Vycm9ybG9nXSwgVFhMWFlHXzJTZXJ2aWNlLnByb3RvdHlwZSwgImdldCIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtFcnJvcmxvZ10sIFRYTFhZR18yU2VydmljZS5wcm90b3R5cGUsICJzZWFyY2giLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbRXJyb3Jsb2ddLCBUWExYWUdfMlNlcnZpY2UucHJvdG90eXBlLCAibG9hZERyYWZ0IiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW0Vycm9ybG9nXSwgVFhMWFlHXzJTZXJ2aWNlLnByb3RvdHlwZSwgImZyb250TG9naWMiLCBudWxsKTs="},null]}