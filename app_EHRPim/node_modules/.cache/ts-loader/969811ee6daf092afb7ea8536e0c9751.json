{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimcontractlwgrid-view\\pimcontractlwgrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimcontractlwgrid-view\\pimcontractlwgrid-view-base.vue","mtime":1630509409814},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5pcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9nZXQgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldCI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgRW1pdCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBWdWVMaWZlQ3ljbGVQcm9jZXNzaW5nLCBHcmlkVmlld0Jhc2UgfSBmcm9tICdAL2NybS1jb3JlJzsKaW1wb3J0IFBpbUNvbnRyYWN0U2VydmljZSBmcm9tICdAL3NlcnZpY2UvcGltLWNvbnRyYWN0L3BpbS1jb250cmFjdC1zZXJ2aWNlJzsKaW1wb3J0IEdyaWRWaWV3RW5naW5lIGZyb20gJ0BlbmdpbmUvdmlldy9ncmlkLXZpZXctZW5naW5lJzsKLyoqDQogKiDlirPliqHlkIjlkIznrqHnkIbooajmoLzop4blm77ln7rnsbsNCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICogQGV4dGVuZHMge0dyaWRWaWV3QmFzZX0NCiAqLwoKdmFyIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uIChfR3JpZFZpZXdCYXNlKSB7CiAgX2luaGVyaXRzKFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UsIF9HcmlkVmlld0Jhc2UpOwoKICAvKioNCiAgICog5Yqz5Yqh5ZCI5ZCM566h55CG6KGo5qC86KeG5Zu+5Z+657G7DQogICAqDQogICAqIEBleHBvcnQNCiAgICogQGNsYXNzIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICogQGV4dGVuZHMge0dyaWRWaWV3QmFzZX0NCiAgICovCiAgZnVuY3Rpb24gUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZSgpIHsKICAgIHZhciBfdGhpczI7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UpOwoKICAgIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIC8qKg0KICAgICAqIOWunuS9k+acjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQHR5cGUge1BpbUNvbnRyYWN0U2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5hcHBFbnRpdHlTZXJ2aWNlID0gbmV3IFBpbUNvbnRyYWN0U2VydmljZSgpOwogICAgLyoqDQogICAgICog6K6h5pWw5Zmo5pyN5Yqh5a+56LGh6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY291bnRlclNlcnZpY2VBcnJheSA9IFtdOwogICAgLyoqDQogICAgICog6KeG5Zu+5qCH6K+GDQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXd0YWcgPSAnNGQzMzI5ZTE4MmY5YTdkNjJlODlkODBhOGU2NjY3N2EnOwogICAgLyoqDQogICAgICog54i25pWw5o2u5a+56LGhDQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3JmcGFyZW50ZGF0YSA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5LiK5LiL5paH6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jdXN0b21WaWV3TmF2Q29udGV4dHMgPSB7fTsKICAgIC8qKg0KICAgICAqIOiHquWumuS5ieinhuWbvuWvvOiIquWPguaVsOmbhuWQiA0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY3VzdG9tVmlld1BhcmFtcyA9IHt9OwogICAgLyoqDQogICAgICog6KeG5Zu+5qih5Z6L5pWw5o2uDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5tb2RlbCA9IHsKICAgICAgc3JmQ2FwdGlvbjogJ2VudGl0aWVzLnBpbWNvbnRyYWN0LnZpZXdzLmx3Z3JpZHZpZXcuY2FwdGlvbicsCiAgICAgIHNyZlRpdGxlOiAnZW50aXRpZXMucGltY29udHJhY3Qudmlld3MubHdncmlkdmlldy50aXRsZScsCiAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltY29udHJhY3Qudmlld3MubHdncmlkdmlldy5zdWJ0aXRsZScsCiAgICAgIGRhdGFJbmZvOiAnJwogICAgfTsKICAgIC8qKg0KICAgICAqIOWuueWZqOaooeWeiw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY29udGFpbmVyTW9kZWwgPSB7CiAgICAgIHZpZXdfdG9vbGJhcjogewogICAgICAgIG5hbWU6ICd0b29sYmFyJywKICAgICAgICB0eXBlOiAnVE9PTEJBUicKICAgICAgfSwKICAgICAgdmlld19ncmlkOiB7CiAgICAgICAgbmFtZTogJ2dyaWQnLAogICAgICAgIHR5cGU6ICdHUklEJwogICAgICB9LAogICAgICB2aWV3X3NlYXJjaGZvcm06IHsKICAgICAgICBuYW1lOiAnc2VhcmNoZm9ybScsCiAgICAgICAgdHlwZTogJ1NFQVJDSEZPUk0nCiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiDop4blm77nirbmgIHorqLpmIXlr7nosaENCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7U3ViamVjdDx7YWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueX0+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXdTdGF0ZSA9IG5ldyBTdWJqZWN0KCk7CiAgICAvKioNCiAgICAgKiDlt6XlhbfmoI/mqKHlnosNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpczIudG9vbEJhck1vZGVscyA9IHsKICAgICAgZGV1aWFjdGlvbjY6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjYnLAogICAgICAgIGNhcHRpb246ICflr7zlh7onLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WvvOWHuicsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLWZpbGUtZXhjZWwtbycsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnRXhwb3J0RXhjZWwnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgTWF4Um93Q291bnQ6IDUwMDAsCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgZGV1aWFjdGlvbjI6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjInLAogICAgICAgIGNhcHRpb246ICfov4fmu6QnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+i/h+a7pCcsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLWZpbHRlcicsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnU1JGVVJfX0pHTFlLUUxYJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnVG9nZ2xlRmlsdGVyJywKICAgICAgICAgIHRhcmdldDogJycKICAgICAgICB9LAogICAgICAgICJjbGFzcyI6ICcnCiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiDop4blm77lvJXmk44NCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7RW5naW5lfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmVuZ2luZSA9IG5ldyBHcmlkVmlld0VuZ2luZSgpOwogICAgLyoqDQogICAgICog5piv5ZCm5Y2V6YCJDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc1NpbmdsZVNlbGVjdCA9IGZhbHNlOwogICAgLyoqDQogICAgICog5pCc57Si5YC8DQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnF1ZXJ5ID0gJyc7CiAgICAvKioNCiAgICAgKiDmmK/lkKblsZXlvIDmkJzntKLooajljZUNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmlzRXhwYW5kU2VhcmNoRm9ybSA9IGZhbHNlOwogICAgLyoqDQogICAgICog6KGo5qC86KGM5pWw5o2u6buY6K6k5r+A5rS75qih5byPDQogICAgICogMCDkuI3mv4DmtLsNCiAgICAgKiAxIOWNleWHu+a/gOa0uw0KICAgICAqIDIg5Y+M5Ye75r+A5rS7DQogICAgICoNCiAgICAgKiBAdHlwZSB7KG51bWJlciB8IDAgfCAxIHwgMil9DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZ3JpZFJvd0FjdGl2ZU1vZGUgPSAyOwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgLyoqDQogICAqIOaVsOaNruWPmOWMlg0KICAgKg0KICAgKiBAcGFyYW0geyp9IHZhbA0KICAgKiBAcmV0dXJucyB7Kn0NCiAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZSwgW3sKICAgIGtleTogInZpZXdEYXRhc0NoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmlld0RhdGFzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gdmFsOwogICAgfQogICAgLyoqDQogICAgICog5byV5pOO5Yid5aeL5YyWDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZW5naW5lSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW5naW5lSW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVuZ2luZS5pbml0KHsKICAgICAgICB2aWV3OiB0aGlzLAogICAgICAgIG9wZW5kYXRhOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5vcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICAgIH0sCiAgICAgICAgbmV3ZGF0YTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5uZXdkYXRhKGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7CiAgICAgICAgfSwKICAgICAgICBncmlkOiB0aGlzLiRyZWZzLmdyaWQsCiAgICAgICAgc2VhcmNoZm9ybTogdGhpcy4kcmVmcy5zZWFyY2hmb3JtLAogICAgICAgIGtleVBTREVGaWVsZDogJ3BpbWNvbnRyYWN0JywKICAgICAgICBtYWpvclBTREVGaWVsZDogJ3BpbXBlcnNvbm5hbWUnLAogICAgICAgIGlzTG9hZERlZmF1bHQ6IHRydWUKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiB0b29sYmFyIOmDqOS7tiBjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2NsaWNrKCRldmVudCwgJGV2ZW50MikgewogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICdkZXVpYWN0aW9uMycpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb24zX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAnZGV1aWFjdGlvbjYnKSkgewogICAgICAgIHRoaXMudG9vbGJhcl9kZXVpYWN0aW9uNl9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ2RldWlhY3Rpb24yJykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfZGV1aWFjdGlvbjJfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzZWxlY3Rpb25jaGFuZ2Ug5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ3JpZF9zZWxlY3Rpb25jaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfc2VsZWN0aW9uY2hhbmdlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdzZWxlY3Rpb25jaGFuZ2UnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgYmVmb3JlbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX2JlZm9yZWxvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfYmVmb3JlbG9hZCgkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnYmVmb3JlbG9hZCcsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByb3dkYmxjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX3Jvd2RibGNsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBncmlkX3Jvd2RibGNsaWNrKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyb3dkYmxjbGljaycsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByZW1vdmUg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ3JpZF9yZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfcmVtb3ZlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyZW1vdmUnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX2xvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfbG9hZCgkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnbG9hZCcsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlYXJjaGZvcm1fc2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoZm9ybV9zYXZlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdzYXZlJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IHNlYXJjaCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZWFyY2hmb3JtX3NlYXJjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoZm9ybV9zZWFyY2goJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdzZWFyY2hmb3JtJywgJ3NlYXJjaCcsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlYXJjaGZvcm1fbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoZm9ybV9sb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfZGV1aWFjdGlvbjNfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfZGV1aWFjdGlvbjNfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuT3BlblJvd0VkaXQoZGF0YXMsIGNvbnRleHRKTywgcGFyYW1KTywgJGV2ZW50LCB4RGF0YSwgdGhpcywgIlBpbUNvbnRyYWN0Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2RldWlhY3Rpb242X2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2RldWlhY3Rpb242X2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkV4cG9ydEV4Y2VsKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1Db250cmFjdCIpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl9kZXVpYWN0aW9uMl9jbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9vbGJhcl9kZXVpYWN0aW9uMl9jbGljaygpIHsKICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciB0YWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyICRldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICAvLyDlj4LmlbAKICAgICAgLy8g5Y+W5pWwCiAgICAgIHZhciBkYXRhcyA9IFtdOwogICAgICB2YXIgeERhdGEgPSBudWxsOyAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1KTyA9IHt9OwogICAgICB2YXIgY29udGV4dEpPID0ge307CiAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICBkYXRhcyA9IF90b0NvbnN1bWFibGVBcnJheSh4RGF0YS5nZXREYXRhcygpKTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcykgewogICAgICAgIGRhdGFzID0gW3BhcmFtc107CiAgICAgIH0gLy8g55WM6Z2i6KGM5Li6CgoKICAgICAgdGhpcy5Ub2dnbGVGaWx0ZXIoZGF0YXMsIGNvbnRleHRKTywgcGFyYW1KTywgJGV2ZW50LCB4RGF0YSwgdGhpcywgIlBpbUNvbnRyYWN0Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDmiZPlvIDmlrDlu7rmlbDmja7op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdDQogICAgICogQHBhcmFtIHsqfSBbZnVsbGFyZ3NdDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXQ0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibmV3ZGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBmdWxsYXJncywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGxvY2FsQ29udGV4dCA9IG51bGw7CiAgICAgIHZhciBsb2NhbFZpZXdQYXJhbSA9IG51bGw7CiAgICAgIHZhciBkYXRhID0ge307CgogICAgICBpZiAoYXJnc1swXS5zcmZzb3VyY2VrZXkpIHsKICAgICAgICBkYXRhLnNyZnNvdXJjZWtleSA9IGFyZ3NbMF0uc3Jmc291cmNla2V5OwogICAgICB9CgogICAgICB2YXIgdGVtcENvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpOwogICAgICBkZWxldGUgdGVtcENvbnRleHQucGltY29udHJhY3Q7CgogICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCwgYXJnc1swXSk7CiAgICAgIH0KCiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBbXTsKCiAgICAgIGlmICh0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSkgewogICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFt7CiAgICAgICAgICBwYXRoTmFtZTogJ3BpbXBlb3BsZScsCiAgICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltcGVyc29uJwogICAgICAgIH1dOwogICAgICB9CgogICAgICB2YXIgcGFyYW1ldGVycyA9IFt7CiAgICAgICAgcGF0aE5hbWU6ICdwaW1jb250cmFjdHMnLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW1jb250cmFjdCcKICAgICAgfSwgewogICAgICAgIHBhdGhOYW1lOiAnbHdlZGl0dmlldycsCiAgICAgICAgcGFyYW1ldGVyTmFtZTogJ2x3ZWRpdHZpZXcnCiAgICAgIH1dOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcGVuSW5kZXhWaWV3VGFiID0gZnVuY3Rpb24gb3BlbkluZGV4Vmlld1RhYihkYXRhKSB7CiAgICAgICAgdmFyIF9kYXRhID0gewogICAgICAgICAgdzogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgICB9OwogICAgICAgIE9iamVjdC5hc3NpZ24oX2RhdGEsIGRhdGEpOwoKICAgICAgICB2YXIgcm91dGVQYXRoID0gX3RoaXM0LiR2aWV3VG9vbC5idWlsZFVwUm91dGVQYXRoKF90aGlzNC4kcm91dGUsIHRlbXBDb250ZXh0LCBkZVJlc1BhcmFtZXRlcnMsIHBhcmFtZXRlcnMsIGFyZ3MsIF9kYXRhKTsKCiAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaChyb3V0ZVBhdGgpOwogICAgICB9OwoKICAgICAgb3BlbkluZGV4Vmlld1RhYihkYXRhKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOe8lui+keaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvcGVuZGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbmRhdGEoYXJncywgZnVsbGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBsb2NhbENvbnRleHQgPSBudWxsOwogICAgICB2YXIgbG9jYWxWaWV3UGFyYW0gPSBudWxsOwogICAgICB2YXIgZGF0YSA9IHt9OwogICAgICB2YXIgdGVtcENvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpOwoKICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGVtcENvbnRleHQsIGFyZ3NbMF0pOwogICAgICB9CgogICAgICB2YXIgZGVSZXNQYXJhbWV0ZXJzID0gW107CgogICAgICBpZiAodGVtcENvbnRleHQucGltcGVyc29uICYmIHRydWUpIHsKICAgICAgICBkZVJlc1BhcmFtZXRlcnMgPSBbewogICAgICAgICAgcGF0aE5hbWU6ICdwaW1wZW9wbGUnLAogICAgICAgICAgcGFyYW1ldGVyTmFtZTogJ3BpbXBlcnNvbicKICAgICAgICB9XTsKICAgICAgfQoKICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbewogICAgICAgIHBhdGhOYW1lOiAncGltY29udHJhY3RzJywKICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltY29udHJhY3QnCiAgICAgIH0sIHsKICAgICAgICBwYXRoTmFtZTogJ2x3ZWRpdHZpZXcnLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICdsd2VkaXR2aWV3JwogICAgICB9XTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgb3BlbkluZGV4Vmlld1RhYiA9IGZ1bmN0aW9uIG9wZW5JbmRleFZpZXdUYWIoZGF0YSkgewogICAgICAgIHZhciByb3V0ZVBhdGggPSBfdGhpczUuJHZpZXdUb29sLmJ1aWxkVXBSb3V0ZVBhdGgoX3RoaXM1LiRyb3V0ZSwgdGVtcENvbnRleHQsIGRlUmVzUGFyYW1ldGVycywgcGFyYW1ldGVycywgYXJncywgZGF0YSk7CgogICAgICAgIF90aGlzNS4kcm91dGVyLnB1c2gocm91dGVQYXRoKTsKICAgICAgfTsKCiAgICAgIG9wZW5JbmRleFZpZXdUYWIoZGF0YSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDlvIDlkK/ooYznvJbovpENCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiT3BlblJvd0VkaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIE9wZW5Sb3dFZGl0KGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHt9CiAgICAvKioNCiAgICAgKiDlr7zlh7oNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiRXhwb3J0RXhjZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEV4cG9ydEV4Y2VsKGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5leHBvcnRFeGNlbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAhJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB4RGF0YS5leHBvcnRFeGNlbCgkZXZlbnQuZXhwb3J0cGFybXMpOwogICAgfQogICAgLyoqDQogICAgICog6L+H5rukDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIlRvZ2dsZUZpbHRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gVG9nZ2xlRmlsdGVyKGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5oYXNPd25Qcm9wZXJ0eSgnaXNFeHBhbmRTZWFyY2hGb3JtJykpIHsKICAgICAgICBfdGhpcy5pc0V4cGFuZFNlYXJjaEZvcm0gPSAhX3RoaXMuaXNFeHBhbmRTZWFyY2hGb3JtOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDplIDmr4Hop4blm77lm57osIMNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlc3Ryb3llZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZpZXdEZWZhdWx0VXNhZ2UpIHsKICAgICAgICB2YXIgbG9jYWxTdG9yZUxlbmd0aCA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSk7CgogICAgICAgIGlmIChsb2NhbFN0b3JlTGVuZ3RoLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGxvY2FsU3RvcmVMZW5ndGguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoaXRlbS5zdGFydHNXaXRoKF90aGlzNi5jb250ZXh0LnNyZnNlc3Npb25pZCkpIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBWdWXlo7DmmI7lkajmnJ8NCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIF9nZXQoX2dldFByb3RvdHlwZU9mKFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UucHJvdG90eXBlKSwgImNyZWF0ZWQiLCB0aGlzKS5jYWxsKHRoaXMpOwoKICAgICAgaWYgKHRoaXMuZm9ybURydWlwYXJ0KSB7CiAgICAgICAgdGhpcy5mb3JtRHJ1aXBhcnQuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChPYmplY3QuaXMocmVzLmFjdGlvbiwgJ3NhdmUnKSkgewogICAgICAgICAgICBfdGhpczcudmlld1N0YXRlLm5leHQoewogICAgICAgICAgICAgIHRhZzogJ2dyaWQnLAogICAgICAgICAgICAgIGFjdGlvbjogJ3NhdmUnLAogICAgICAgICAgICAgIGRhdGE6IF90aGlzNy52aWV3cGFyYW1zCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMocmVzLmFjdGlvbiwgJ2xvYWQnKSkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczc7CgogICAgICAgICAgICBfdGhpcy5lbmdpbmUubG9hZChyZXMuZGF0YSwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOW/q+mAn+aQnOe0og0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNlYXJjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWFyY2goJGV2ZW50KSB7CiAgICAgIHZhciBncmlkID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKGdyaWQpIHsKICAgICAgICBncmlkLmxvYWQodGhpcy5jb250ZXh0KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7Ygc2F2ZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgRU5USVRZVEVTVDFVc3IyR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TYXZlKCRldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdkcmRhdGFzYXZlZCcsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiDliLfmlrDmlbDmja4NCiAgICAgKg0KICAgICAqIEByZWFkb25seQ0KICAgICAqIEB0eXBlIHsobnVtYmVyIHwgbnVsbCl9DQogICAgICogQG1lbWJlcm9mIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25SZWZyZXNoRGF0YSIsCgogICAgLyoqDQogICAgICog55uR5o6n5pWw5o2u5Y+Y5YyWDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQHJldHVybnMNCiAgICAgKiBAbWVtYmVyb2YgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZQ0KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVmcmVzaERhdGEobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCA9PT0gbnVsbCB8fCBuZXdWYWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG5ld1ZhbCA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGdyaWQubG9hZCh7fSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoZGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ZpZXdhY3Rpb24vZ2V0UmVmcmVzaERhdGEnXSh0aGlzLnZpZXd0YWcpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2U7Cn0oR3JpZFZpZXdCYXNlKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbRW1pdCgpXSwgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZS5wcm90b3R5cGUsICJ2aWV3RGF0YXNDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZS5wcm90b3R5cGUsICJmb3JtRHJ1aXBhcnQiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgncmVmcmVzaGRhdGEnKV0sIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UucHJvdG90eXBlLCAib25SZWZyZXNoRGF0YSIsIG51bGwpOwoKUElNQ09OVFJBQ1RMV0dyaWRWaWV3QmFzZSA9IHRzbGliXzEuX19kZWNvcmF0ZShbQ29tcG9uZW50KHt9KSwgVnVlTGlmZUN5Y2xlUHJvY2Vzc2luZ10sIFBJTUNPTlRSQUNUTFdHcmlkVmlld0Jhc2UpOwpleHBvcnQgZGVmYXVsdCBQSU1DT05UUkFDVExXR3JpZFZpZXdCYXNlOw=="},null]}