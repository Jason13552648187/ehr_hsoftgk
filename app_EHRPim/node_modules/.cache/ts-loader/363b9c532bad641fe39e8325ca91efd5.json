{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-contract\\pim-contract-ui-service-base.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-contract\\pim-contract-ui-service-base.ts","mtime":1630509410766},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgRW52aXJvbm1lbnQgfSBmcm9tICdAL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7CmltcG9ydCB7IFVJQWN0aW9uVG9vbCwgVXRpbCB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgVUlTZXJ2aWNlIGZyb20gJy4uL3VpLXNlcnZpY2UnOwppbXBvcnQgUGltQ29udHJhY3RTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9waW0tY29udHJhY3QvcGltLWNvbnRyYWN0LXNlcnZpY2UnOwovKioNCiAqIOWQiOWQjOS/oeaBr1VJ5pyN5Yqh5a+56LGh5Z+657G7DQogKg0KICogQGV4cG9ydA0KICogQGNsYXNzIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICovCgp2YXIgUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1VJU2VydmljZSkgewogIF9pbmhlcml0cyhQaW1Db250cmFjdFVJU2VydmljZUJhc2UsIF9VSVNlcnZpY2UpOwoKICAvKioNCiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiAgUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlLg0KICAgKg0KICAgKiBAcGFyYW0geyp9IFtvcHRzPXt9XQ0KICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgKi8KICBmdW5jdGlvbiBQaW1Db250cmFjdFVJU2VydmljZUJhc2UoKSB7CiAgICB2YXIgX3RoaXMyOwoKICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlKTsKCiAgICBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlKS5jYWxsKHRoaXMsIG9wdHMpKTsKICAgIC8qKg0KICAgICAqIOaYr+WQpuaUr+aMgeW3peS9nOa1gQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuaXNFbmFibGVXb3JrZmxvdyA9IGZhbHNlOwogICAgLyoqDQogICAgICog5b2T5YmNVUnmnI3liqHlr7nlupTnmoTmlbDmja7mnI3liqHlr7nosaENCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLmRhdGFTZXJ2aWNlID0gbmV3IFBpbUNvbnRyYWN0U2VydmljZSgpOwogICAgLyoqDQogICAgICog5omA5pyJ5YWz6IGU6KeG5Zu+DQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5hbGxWaWV3TWFwID0gbmV3IE1hcCgpOwogICAgLyoqDQogICAgICog54q25oCB5YC8DQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5zdGF0ZVZhbHVlID0gMDsKICAgIC8qKg0KICAgICAqIOeKtuaAgeWxnuaApw0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3RhdGVGaWVsZCA9ICIiOwogICAgLyoqDQogICAgICog5Li754q25oCB5bGe5oCn6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5tYWluU3RhdGVGaWVsZHMgPSBbXTsKICAgIC8qKg0KICAgICAqIOS4u+eKtuaAgembhuWQiE1hcA0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYWxsRGVNYWluU3RhdGVNYXAgPSBuZXcgTWFwKCk7CgogICAgX3RoaXMyLmluaXRWaWV3TWFwKCk7CgogICAgX3RoaXMyLmluaXREZU1haW5TdGF0ZU1hcCgpOwoKICAgIHJldHVybiBfdGhpczI7CiAgfQogIC8qKg0KICAgKiDliJ3lp4vljJbop4blm75NYXANCiAgICoNCiAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlLCBbewogICAga2V5OiAiaW5pdFZpZXdNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRWaWV3TWFwKCkgewogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnc3RvcHJlbWluZGdyaWR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJ01QSUNLVVBWSUVXOicsIHsKICAgICAgICB2aWV3bmFtZTogJ21waWNrdXB2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdncmNvbnRyYWN0ZWRpdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnUElDS1VQVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdwaWNrdXB2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJ01EQVRBVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnd3NzZ3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ2x3Z3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ2dyY29udHJhY3RncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAneHlncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnZWRpdHZpZXcyJywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdsZGVkaXR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdzaWducmVtaW5kZ3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ2x3ZWRpdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ3RyZWVleHB2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdyZW5ld2VkaXR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICd5bHdlZGl0dmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCdSRURJUkVDVFZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAncmVkaXJlY3R2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWNvbnRyYWN0cycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdwaWNrdXBncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCdFRElUVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdlZGl0dmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAneWR0eGdyaWR2aWV3OScsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnZXhwaXJlZ3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ3N0b3B0aW1lc2VsZWN0ZWRpdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltY29udHJhY3RzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ3h5bHdlZGl0dmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnbGRncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1jb250cmFjdHMnCiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog5Yid5aeL5YyW5Li754q25oCB6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpbml0RGVNYWluU3RhdGVNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREZU1haW5TdGF0ZU1hcCgpIHt9CiAgICAvKioNCiAgICAgKiDnu63nrb4NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHQg6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3NyZlBhcmVudERlTmFtZV0g54i25a6e5L2T5ZCN56ewDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUGltQ29udHJhY3RfUmVuZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9QaW1Db250cmFjdF9SZW5ldyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYXJncykgewogICAgICAgIHZhciBjb250ZXh0LAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgeERhdGEsCiAgICAgICAgICAgIGFjdGlvbkNvbnRleHQsCiAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSwKICAgICAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBfYXJnczIubGVuZ3RoID4gMSAmJiBfYXJnczJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlsxXSA6IHt9OwogICAgICAgICAgICAgICAgcGFyYW1zID0gX2FyZ3MyLmxlbmd0aCA+IDIgJiYgX2FyZ3MyWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMl0gOiB7fTsKICAgICAgICAgICAgICAgICRldmVudCA9IF9hcmdzMi5sZW5ndGggPiAzID8gX2FyZ3MyWzNdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgeERhdGEgPSBfYXJnczIubGVuZ3RoID4gNCA/IF9hcmdzMls0XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQgPSBfYXJnczIubGVuZ3RoID4gNSA/IF9hcmdzMls1XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSA9IF9hcmdzMi5sZW5ndGggPiA2ID8gX2FyZ3MyWzZdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICBkZXNjOiAn5LiN5pSv5oyB5Y2V6aG55pWw5o2uJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBQaW1Db250cmFjdF9SZW5ldyhfeCkgewogICAgICAgIHJldHVybiBfUGltQ29udHJhY3RfUmVuZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFBpbUNvbnRyYWN0X1JlbmV3OwogICAgfSgpCiAgICAvKioNCiAgICAgKiDnu4jmraLlkIjlkIwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHQg6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3NyZlBhcmVudERlTmFtZV0g54i25a6e5L2T5ZCN56ewDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUGltQ29udHJhY3RfU3RvcENvbnRyYWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfUGltQ29udHJhY3RfU3RvcENvbnRyYWN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoYXJncykgewogICAgICAgIHZhciBjb250ZXh0LAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgeERhdGEsCiAgICAgICAgICAgIGFjdGlvbkNvbnRleHQsCiAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSwKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgcGFyZW50Q29udGV4dCwKICAgICAgICAgICAgcGFyZW50Vmlld1BhcmFtLAogICAgICAgICAgICBfdGhpcywKICAgICAgICAgICAgX2FyZ3MsCiAgICAgICAgICAgIGFjdGlvblRhcmdldCwKICAgICAgICAgICAgcGFyZW50T2JqLAogICAgICAgICAgICBkZVJlc1BhcmFtZXRlcnMsCiAgICAgICAgICAgIHBhcmFtZXRlcnMsCiAgICAgICAgICAgIG9wZW5JbmRleFZpZXdUYWIsCiAgICAgICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50czsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBfYXJnczMubGVuZ3RoID4gMSAmJiBfYXJnczNbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzM1sxXSA6IHt9OwogICAgICAgICAgICAgICAgcGFyYW1zID0gX2FyZ3MzLmxlbmd0aCA+IDIgJiYgX2FyZ3MzWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczNbMl0gOiB7fTsKICAgICAgICAgICAgICAgICRldmVudCA9IF9hcmdzMy5sZW5ndGggPiAzID8gX2FyZ3MzWzNdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgeERhdGEgPSBfYXJnczMubGVuZ3RoID4gNCA/IF9hcmdzM1s0XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQgPSBfYXJnczMubGVuZ3RoID4gNSA/IF9hcmdzM1s1XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSA9IF9hcmdzMy5sZW5ndGggPiA2ID8gX2FyZ3MzWzZdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgcGFyZW50Q29udGV4dCA9IHt9OwogICAgICAgICAgICAgICAgcGFyZW50Vmlld1BhcmFtID0ge307CiAgICAgICAgICAgICAgICBfdGhpcyA9IGFjdGlvbkNvbnRleHQ7CiAgICAgICAgICAgICAgICBfYXJncyA9IFV0aWwuZGVlcENvcHkoYXJncyk7CiAgICAgICAgICAgICAgICBhY3Rpb25UYXJnZXQgPSAnU0lOR0xFS0VZJzsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgewogICAgICAgICAgICAgICAgICBwaW1jb250cmFjdDogJyVwaW1jb250cmFjdCUnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCB7CiAgICAgICAgICAgICAgICAgIHBpbWNvbnRyYWN0aWQ6ICclcGltY29udHJhY3QlJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHBhcmFtcywgewogICAgICAgICAgICAgICAgICBwaW1wZXJzb25uYW1lOiAnJXBpbXBlcnNvbm5hbWUlJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgcGFyZW50Q29udGV4dCA9IF90aGlzLmNvbnRleHQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLnZpZXdwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgcGFyZW50Vmlld1BhcmFtID0gX3RoaXMudmlld3BhcmFtczsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb250ZXh0ID0gVUlBY3Rpb25Ub29sLmhhbmRsZUNvbnRleHRQYXJhbShhY3Rpb25UYXJnZXQsIF9hcmdzLCBwYXJlbnRDb250ZXh0LCBwYXJlbnRWaWV3UGFyYW0sIGNvbnRleHQpOwogICAgICAgICAgICAgICAgZGF0YSA9IFVJQWN0aW9uVG9vbC5oYW5kbGVBY3Rpb25QYXJhbShhY3Rpb25UYXJnZXQsIF9hcmdzLCBwYXJlbnRDb250ZXh0LCBwYXJlbnRWaWV3UGFyYW0sIHBhcmFtcyk7CiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uQ29udGV4dC5jb250ZXh0LCBjb250ZXh0KTsKICAgICAgICAgICAgICAgIHBhcmVudE9iaiA9IHsKICAgICAgICAgICAgICAgICAgc3JmcGFyZW50ZGVuYW1lOiBzcmZQYXJlbnREZU5hbWUgPyBzcmZQYXJlbnREZU5hbWUgOiBudWxsLAogICAgICAgICAgICAgICAgICBzcmZwYXJlbnRrZXk6IHNyZlBhcmVudERlTmFtZSA/IGNvbnRleHRbc3JmUGFyZW50RGVOYW1lLnRvTG93ZXJDYXNlKCldIDogbnVsbAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZGF0YSwgcGFyZW50T2JqKTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgcGFyZW50T2JqKTsKICAgICAgICAgICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFtdOwoKICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnBpbXBlcnNvbiAmJiB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFt7CiAgICAgICAgICAgICAgICAgICAgcGF0aE5hbWU6ICdwaW1wZW9wbGUnLAogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW1wZXJzb24nCiAgICAgICAgICAgICAgICAgIH1dOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBhcmFtZXRlcnMgPSBbewogICAgICAgICAgICAgICAgICBwYXRoTmFtZTogJ3BpbWNvbnRyYWN0cycsCiAgICAgICAgICAgICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW1jb250cmFjdCcKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgcGF0aE5hbWU6ICdzdG9wdGltZXNlbGVjdGVkaXR2aWV3JywKICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyTmFtZTogJ3N0b3B0aW1lc2VsZWN0ZWRpdHZpZXcnCiAgICAgICAgICAgICAgICB9XTsKCiAgICAgICAgICAgICAgICBvcGVuSW5kZXhWaWV3VGFiID0gZnVuY3Rpb24gb3BlbkluZGV4Vmlld1RhYihkYXRhKSB7CiAgICAgICAgICAgICAgICAgIHZhciByb3V0ZVBhdGggPSBhY3Rpb25Db250ZXh0LiR2aWV3VG9vbC5idWlsZFVwUm91dGVQYXRoKGFjdGlvbkNvbnRleHQuJHJvdXRlLCBjb250ZXh0LCBkZVJlc1BhcmFtZXRlcnMsIHBhcmFtZXRlcnMsIF9hcmdzLCBkYXRhKTsKICAgICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC4kcm91dGVyLnB1c2gocm91dGVQYXRoKTsKCiAgICAgICAgICAgICAgICAgIGlmICh4RGF0YSAmJiB4RGF0YS5yZWZyZXNoICYmIHhEYXRhLnJlZnJlc2ggaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgICAgICAgICAgIHhEYXRhLnJlZnJlc2goYXJncyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBvcGVuSW5kZXhWaWV3VGFiKGRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gUGltQ29udHJhY3RfU3RvcENvbnRyYWN0KF94MikgewogICAgICAgIHJldHVybiBfUGltQ29udHJhY3RfU3RvcENvbnRyYWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBQaW1Db250cmFjdF9TdG9wQ29udHJhY3Q7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOaWsOetvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dCDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbc3JmUGFyZW50RGVOYW1lXSDniLblrp7kvZPlkI3np7ANCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJQaW1Db250cmFjdF9TaWdubmV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfUGltQ29udHJhY3RfU2lnbm5ldyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGFyZ3MpIHsKICAgICAgICB2YXIgY29udGV4dCwKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgIHhEYXRhLAogICAgICAgICAgICBhY3Rpb25Db250ZXh0LAogICAgICAgICAgICBzcmZQYXJlbnREZU5hbWUsCiAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29udGV4dCA9IF9hcmdzNC5sZW5ndGggPiAxICYmIF9hcmdzNFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzFdIDoge307CiAgICAgICAgICAgICAgICBwYXJhbXMgPSBfYXJnczQubGVuZ3RoID4gMiAmJiBfYXJnczRbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNFsyXSA6IHt9OwogICAgICAgICAgICAgICAgJGV2ZW50ID0gX2FyZ3M0Lmxlbmd0aCA+IDMgPyBfYXJnczRbM10gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICB4RGF0YSA9IF9hcmdzNC5sZW5ndGggPiA0ID8gX2FyZ3M0WzRdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dCA9IF9hcmdzNC5sZW5ndGggPiA1ID8gX2FyZ3M0WzVdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgc3JmUGFyZW50RGVOYW1lID0gX2FyZ3M0Lmxlbmd0aCA+IDYgPyBfYXJnczRbNl0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgIGRlc2M6ICfkuI3mlK/mjIHljZXpobnmlbDmja4nCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gUGltQ29udHJhY3RfU2lnbm5ldyhfeDMpIHsKICAgICAgICByZXR1cm4gX1BpbUNvbnRyYWN0X1NpZ25uZXcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFBpbUNvbnRyYWN0X1NpZ25uZXc7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOiOt+WPluaMh+WumuaVsOaNrueahOmHjeWumuWQkemhtemdog0KICAgICAqDQogICAgICogQHBhcmFtIHNyZmtleSDmlbDmja7kuLvplK4NCiAgICAgKiBAcGFyYW0gaXNFbmFibGVXb3JrZmxvdyAg6YeN5a6a5ZCR6KeG5Zu+5piv5ZCm6ZyA6KaB5aSE55CG5rWB56iL5Lit55qE5pWw5o2uDQogICAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0UkRBcHBWaWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0UkRBcHBWaWV3ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoc3Jma2V5LCBpc0VuYWJsZVdvcmtmbG93KSB7CiAgICAgICAgdmFyIHJlc3VsdCwgY3VyRGF0YSwgaVJlYWxERU1vZGVsLCBiRGF0YUluV0YsIGJXRk1vZGUsIHN0clBEVFZpZXdQYXJhbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5pc0VuYWJsZVdvcmtmbG93ID0gaXNFbmFibGVXb3JrZmxvdzsgLy8g6L+b6KGM5pWw5o2u5p+l6K+iCgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UuR2V0KHsKICAgICAgICAgICAgICAgICAgcGltY29udHJhY3Q6IHNyZmtleQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgY3VyRGF0YSA9IHJlc3VsdC5kYXRhOyAvL+WIpOaWreW9k+WJjeaVsOaNruaooeW8jyzpu5jorqTkuLp0cnVl77yMdG9kbwoKICAgICAgICAgICAgICAgIGlSZWFsREVNb2RlbCA9IHRydWU7CiAgICAgICAgICAgICAgICBiRGF0YUluV0YgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGJXRk1vZGUgPSBmYWxzZTsgLy8g6K6h566X5pWw5o2u5qih5byPCgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRW5hYmxlV29ya2Zsb3cpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLnRlc3REYXRhSW5XRih7CiAgICAgICAgICAgICAgICAgIHN0YXRlVmFsdWU6IHRoaXMuc3RhdGVWYWx1ZSwKICAgICAgICAgICAgICAgICAgc3RhdGVGaWVsZDogdGhpcy5zdGF0ZUZpZWxkCiAgICAgICAgICAgICAgICB9LCBjdXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGJEYXRhSW5XRiA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghYkRhdGFJbldGKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGJEYXRhSW5XRiA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UudGVzdFVzZXJFeGlzdFdvcmtsaXN0KG51bGwsIGN1ckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgYldGTW9kZSA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERFU0RERVZpZXdQRFRQYXJhbShjdXJEYXRhLCBiRGF0YUluV0YsIGJXRk1vZGUpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgc3RyUERUVmlld1BhcmFtID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5hbGxWaWV3TWFwLmdldChzdHJQRFRWaWV3UGFyYW0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFJEQXBwVmlldyhfeDQsIF94NSkgewogICAgICAgIHJldHVybiBfZ2V0UkRBcHBWaWV3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRSREFwcFZpZXc7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOiOt+WPluWunumZheeahOaVsOaNruexu+Weiw0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1Db250cmFjdFVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0UmVhbERFVHlwZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVhbERFVHlwZShlbnRpdHkpIHt9CiAgICAvKioNCiAgICAgKiDojrflj5blrp7kvZPljZXmlbDmja7lrp7kvZPop4blm77pooTlrprkuYnlj4LmlbANCiAgICAgKg0KICAgICAqIEBwYXJhbSBjdXJEYXRhIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSBiRGF0YUluV0Yg5piv5ZCm5pyJ5pWw5o2u5Zyo5bel5L2c5rWB5LitDQogICAgICogQHBhcmFtIGJXRk1vZGUgICDmmK/lkKblt6XkvZzmtYHmqKHlvI8NCiAgICAgKiBAbWVtYmVyb2YgIFBpbUNvbnRyYWN0VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRERVNEREVWaWV3UERUUGFyYW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRERVNEREVWaWV3UERUUGFyYW0gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShjdXJEYXRhLCBiRGF0YUluV0YsIGJXRk1vZGUpIHsKICAgICAgICB2YXIgc3RyUERUUGFyYW0sIGlzRW5hYmxlTXVsdGlGb3JtLCBtdWx0aUZvcm1ERUZpZWxkLCBvYmpGb3JtVmFsdWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0clBEVFBhcmFtID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKGJEYXRhSW5XRikge30gLy8g5Yik5pat5pWw5o2u5piv5ZCm5Zyo5rWB56iL5LitCiAgICAgICAgICAgICAgICAvL+WkmuihqOWNle+8jHRvZG8KCgogICAgICAgICAgICAgICAgaXNFbmFibGVNdWx0aUZvcm0gPSBmYWxzZTsKICAgICAgICAgICAgICAgIG11bHRpRm9ybURFRmllbGQgPSBudWxsOwoKICAgICAgICAgICAgICAgIGlmICghKGlzRW5hYmxlTXVsdGlGb3JtICYmIG11bHRpRm9ybURFRmllbGQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgb2JqRm9ybVZhbHVlID0gY3VyRGF0YVttdWx0aUZvcm1ERUZpZWxkXTsKCiAgICAgICAgICAgICAgICBpZiAoRW52aXJvbm1lbnQuaXNBcHBNb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsICdNT0JFRElUVklFVycgKyBvYmpGb3JtVmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgJ0VESVRWSUVXJyArIG9iakZvcm1WYWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlmIChFbnZpcm9ubWVudC5pc0FwcE1vZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9ICJNT0JFRElUVklFVzpNU1RBRzoiOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnQwLmNvbmNhdC5jYWxsKF9jb250ZXh0NS50MCwgX2NvbnRleHQ1LnQxKSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgJ01PQkVESVRWSUVXOicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MiA9ICJFRElUVklFVzpNU1RBRzoiOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQzID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnQyLmNvbmNhdC5jYWxsKF9jb250ZXh0NS50MiwgX2NvbnRleHQ1LnQzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgJ0VESVRWSUVXOicpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0REVTRERFVmlld1BEVFBhcmFtKF94NiwgX3g3LCBfeDgpIHsKICAgICAgICByZXR1cm4gX2dldERFU0RERVZpZXdQRFRQYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0REVTRERFVmlld1BEVFBhcmFtOwogICAgfSgpCiAgICAvKioNCiAgICAgKiDojrflj5bmlbDmja7lr7nosaHnmoTkuLvnirbmgIHmoIfor4YNCiAgICAgKg0KICAgICAqIEBwYXJhbSBjdXJEYXRhIOW9k+WJjeaVsOaNrg0KICAgICAqIEBtZW1iZXJvZiAgUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldERFTWFpblN0YXRlVGFnIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0REVNYWluU3RhdGVUYWcgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihjdXJEYXRhKSB7CiAgICAgICAgdmFyIHN0clRhZywgaSwgX3N0clRhZywgaiwgc3RyVGFnMiwgaywgc3RyVGFnMzsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMubWFpblN0YXRlRmllbGRzLmxlbmd0aCA9PT0gMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHRoaXMubWFpblN0YXRlRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKHNpbmdsZU1haW5GaWVsZCkgewogICAgICAgICAgICAgICAgICBpZiAoIShzaW5nbGVNYWluRmllbGQgaW4gY3VyRGF0YSkpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJcdTVGNTNcdTUyNERcdTY1NzBcdTYzNkVcdTVCRjlcdThDNjFcdTRFMERcdTUzMDVcdTU0MkJcdTVDNUVcdTYwMjdzaW5nbGVNYWluRmllbGRcdUZGMENcdTUzRUZcdTgwRkRcdTRGMUFcdTUzRDFcdTc1MUZcdTk1MTlcdThCRUYiKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzdHJUYWcgPSAiIjsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBpZiAoIShpIDw9IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMzE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9zdHJUYWcgPSBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzBdXSA/IGkgPT0gMCA/IGN1ckRhdGFbdGhpcy5tYWluU3RhdGVGaWVsZHNbMF1dIDogIiIgOiAiIjsKCiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm1haW5TdGF0ZUZpZWxkcy5sZW5ndGggPj0gMikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaiA9IDA7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlmICghKGogPD0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RyVGFnMiA9IGN1ckRhdGFbdGhpcy5tYWluU3RhdGVGaWVsZHNbMV1dID8gIiIuY29uY2F0KF9zdHJUYWcsICJfXyIpLmNvbmNhdChqID09IDAgPyBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzFdXSA6ICIiKSA6IF9zdHJUYWc7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5tYWluU3RhdGVGaWVsZHMubGVuZ3RoID49IDMpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGsgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgaWYgKCEoayA8PSAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzdHJUYWczID0gY3VyRGF0YVt0aGlzLm1haW5TdGF0ZUZpZWxkc1syXV0gPyAiIi5jb25jYXQoc3RyVGFnMiwgIl9fIikuY29uY2F0KGsgPT0gMCA/IGN1ckRhdGFbdGhpcy5tYWluU3RhdGVGaWVsZHNbMl1dIDogIiIpIDogc3RyVGFnMjsgLy8g5Yik5pat5piv5ZCm5a2Y5ZyoCgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHRoaXMuYWxsRGVNYWluU3RhdGVNYXAuZ2V0KHN0clRhZzMpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGsrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmFsbERlTWFpblN0YXRlTWFwLmdldChzdHJUYWcyKSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmFsbERlTWFpblN0YXRlTWFwLmdldChfc3RyVGFnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldERFTWFpblN0YXRlVGFnKF94OSkgewogICAgICAgIHJldHVybiBfZ2V0REVNYWluU3RhdGVUYWcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldERFTWFpblN0YXRlVGFnOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gUGltQ29udHJhY3RVSVNlcnZpY2VCYXNlOwp9KFVJU2VydmljZSk7CgpleHBvcnQgeyBQaW1Db250cmFjdFVJU2VydmljZUJhc2UgYXMgZGVmYXVsdCB9Ow=="},null]}