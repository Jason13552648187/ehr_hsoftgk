{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-language-ability\\pim-language-ability-ui-service-base.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-language-ability\\pim-language-ability-ui-service-base.ts","mtime":1630509410801},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgRW52aXJvbm1lbnQgfSBmcm9tICdAL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7CmltcG9ydCB7IFVJQWN0aW9uVG9vbCwgVXRpbCB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgVUlTZXJ2aWNlIGZyb20gJy4uL3VpLXNlcnZpY2UnOwppbXBvcnQgUGltTGFuZ3VhZ2VBYmlsaXR5U2VydmljZSBmcm9tICdAL3NlcnZpY2UvcGltLWxhbmd1YWdlLWFiaWxpdHkvcGltLWxhbmd1YWdlLWFiaWxpdHktc2VydmljZSc7Ci8qKg0KICog6K+t6KiA6IO95YqbVUnmnI3liqHlr7nosaHln7rnsbsNCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICovCgp2YXIgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9VSVNlcnZpY2UpIHsKICBfaW5oZXJpdHMoUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZSwgX1VJU2VydmljZSk7CgogIC8qKg0KICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlLg0KICAgKg0KICAgKiBAcGFyYW0geyp9IFtvcHRzPXt9XQ0KICAgKiBAbWVtYmVyb2YgIFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICovCiAgZnVuY3Rpb24gUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZSgpIHsKICAgIHZhciBfdGhpczI7CgogICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlKTsKCiAgICBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZSkuY2FsbCh0aGlzLCBvcHRzKSk7CiAgICAvKioNCiAgICAgKiDmmK/lkKbmlK/mjIHlt6XkvZzmtYENCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc0VuYWJsZVdvcmtmbG93ID0gZmFsc2U7CiAgICAvKioNCiAgICAgKiDlvZPliY1VSeacjeWKoeWvueW6lOeahOaVsOaNruacjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLmRhdGFTZXJ2aWNlID0gbmV3IFBpbUxhbmd1YWdlQWJpbGl0eVNlcnZpY2UoKTsKICAgIC8qKg0KICAgICAqIOaJgOacieWFs+iBlOinhuWbvg0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLmFsbFZpZXdNYXAgPSBuZXcgTWFwKCk7CiAgICAvKioNCiAgICAgKiDnirbmgIHlgLwNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5zdGF0ZVZhbHVlID0gMDsKICAgIC8qKg0KICAgICAqIOeKtuaAgeWxnuaApw0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLnN0YXRlRmllbGQgPSAiIjsKICAgIC8qKg0KICAgICAqIOS4u+eKtuaAgeWxnuaAp+mbhuWQiA0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLm1haW5TdGF0ZUZpZWxkcyA9IFtdOwogICAgLyoqDQogICAgICog5Li754q25oCB6ZuG5ZCITWFwDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYWxsRGVNYWluU3RhdGVNYXAgPSBuZXcgTWFwKCk7CgogICAgX3RoaXMyLmluaXRWaWV3TWFwKCk7CgogICAgX3RoaXMyLmluaXREZU1haW5TdGF0ZU1hcCgpOwoKICAgIHJldHVybiBfdGhpczI7CiAgfQogIC8qKg0KICAgKiDliJ3lp4vljJbop4blm75NYXANCiAgICoNCiAgICogQG1lbWJlcm9mICBQaW1MYW5ndWFnZUFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2UsIFt7CiAgICBrZXk6ICJpbml0Vmlld01hcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFZpZXdNYXAoKSB7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJ1JFRElSRUNUVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdyZWRpcmVjdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltbGFuZ3VhZ2VhYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAneXlubGdyaWR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWxhbmd1YWdlYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ2VkaXR2aWV3MicsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1sYW5ndWFnZWFiaWxpdGllcycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJ01EQVRBVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1sYW5ndWFnZWFiaWxpdGllcycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJ1BJQ0tVUFZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAncGlja3VwdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1sYW5ndWFnZWFiaWxpdGllcycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdncmVkaXR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWxhbmd1YWdlYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnOicsIHsKICAgICAgICB2aWV3bmFtZTogJ2dyeXlubGdyaWR2aWV3JywKICAgICAgICBzcmZhcHBkZTogJ3BpbWxhbmd1YWdlYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnRURJVFZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAnZWRpdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltbGFuZ3VhZ2VhYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAncGlja3VwZ3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltbGFuZ3VhZ2VhYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCdNUElDS1VQVklFVzonLCB7CiAgICAgICAgdmlld25hbWU6ICdtcGlja3VwdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1sYW5ndWFnZWFiaWxpdGllcycKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDliJ3lp4vljJbkuLvnirbmgIHpm4blkIgNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpbml0RGVNYWluU3RhdGVNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREZU1haW5TdGF0ZU1hcCgpIHt9CiAgICAvKioNCiAgICAgKiDliKDpmaQNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHQg6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3NyZlBhcmVudERlTmFtZV0g54i25a6e5L2T5ZCN56ewDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUGltTGFuZ3VhZ2VBYmlsaXR5X0N1c3RSZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9QaW1MYW5ndWFnZUFiaWxpdHlfQ3VzdFJlbW92ZSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYXJncykgewogICAgICAgIHZhciBjb250ZXh0LAogICAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICAgICRldmVudCwKICAgICAgICAgICAgeERhdGEsCiAgICAgICAgICAgIGFjdGlvbkNvbnRleHQsCiAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSwKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgcGFyZW50Q29udGV4dCwKICAgICAgICAgICAgcGFyZW50Vmlld1BhcmFtLAogICAgICAgICAgICBfdGhpcywKICAgICAgICAgICAgX2FyZ3MsCiAgICAgICAgICAgIGFjdGlvblRhcmdldCwKICAgICAgICAgICAgcGFyZW50T2JqLAogICAgICAgICAgICBiYWNrZW5kLAogICAgICAgICAgICBfYXJnczIgPSBhcmd1bWVudHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBfYXJnczIubGVuZ3RoID4gMSAmJiBfYXJnczJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMlsxXSA6IHt9OwogICAgICAgICAgICAgICAgcGFyYW1zID0gX2FyZ3MyLmxlbmd0aCA+IDIgJiYgX2FyZ3MyWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMl0gOiB7fTsKICAgICAgICAgICAgICAgICRldmVudCA9IF9hcmdzMi5sZW5ndGggPiAzID8gX2FyZ3MyWzNdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgeERhdGEgPSBfYXJnczIubGVuZ3RoID4gNCA/IF9hcmdzMls0XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQgPSBfYXJnczIubGVuZ3RoID4gNSA/IF9hcmdzMls1XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHNyZlBhcmVudERlTmFtZSA9IF9hcmdzMi5sZW5ndGggPiA2ID8gX2FyZ3MyWzZdIDogdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgZGF0YSA9IHt9OwogICAgICAgICAgICAgICAgcGFyZW50Q29udGV4dCA9IHt9OwogICAgICAgICAgICAgICAgcGFyZW50Vmlld1BhcmFtID0ge307CiAgICAgICAgICAgICAgICBfdGhpcyA9IGFjdGlvbkNvbnRleHQ7CiAgICAgICAgICAgICAgICBfYXJncyA9IFV0aWwuZGVlcENvcHkoYXJncyk7CiAgICAgICAgICAgICAgICBhY3Rpb25UYXJnZXQgPSAnU0lOR0xFS0VZJzsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgewogICAgICAgICAgICAgICAgICBwaW1sYW5ndWFnZWFiaWxpdHk6ICclcGltbGFuZ3VhZ2VhYmlsaXR5JScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwYXJhbXMsIHsKICAgICAgICAgICAgICAgICAgcGltbGFuZ3VhZ2VhYmlsaXR5aWQ6ICclcGltbGFuZ3VhZ2VhYmlsaXR5JScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihwYXJhbXMsIHsKICAgICAgICAgICAgICAgICAgcGltbGFuZ3VhZ2VhYmlsaXR5bmFtZTogJyVwaW1sYW5ndWFnZWFiaWxpdHluYW1lJScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHBhcmVudENvbnRleHQgPSBfdGhpcy5jb250ZXh0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy52aWV3cGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgIHBhcmVudFZpZXdQYXJhbSA9IF90aGlzLnZpZXdwYXJhbXM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29udGV4dCA9IFVJQWN0aW9uVG9vbC5oYW5kbGVDb250ZXh0UGFyYW0oYWN0aW9uVGFyZ2V0LCBfYXJncywgcGFyZW50Q29udGV4dCwgcGFyZW50Vmlld1BhcmFtLCBjb250ZXh0KTsKICAgICAgICAgICAgICAgIGRhdGEgPSBVSUFjdGlvblRvb2wuaGFuZGxlQWN0aW9uUGFyYW0oYWN0aW9uVGFyZ2V0LCBfYXJncywgcGFyZW50Q29udGV4dCwgcGFyZW50Vmlld1BhcmFtLCBwYXJhbXMpOwogICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbkNvbnRleHQuY29udGV4dCwgY29udGV4dCk7CiAgICAgICAgICAgICAgICBwYXJlbnRPYmogPSB7CiAgICAgICAgICAgICAgICAgIHNyZnBhcmVudGRlbmFtZTogc3JmUGFyZW50RGVOYW1lID8gc3JmUGFyZW50RGVOYW1lIDogbnVsbCwKICAgICAgICAgICAgICAgICAgc3JmcGFyZW50a2V5OiBzcmZQYXJlbnREZU5hbWUgPyBjb250ZXh0W3NyZlBhcmVudERlTmFtZS50b0xvd2VyQ2FzZSgpXSA6IG51bGwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHBhcmVudE9iaik7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHBhcmVudE9iaik7IC8vIOebtOaOpeiwg+WunuS9k+acjeWKoemcgOimgei9rOaNoueahOaVsOaNrgoKICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuc3Jmc2Vzc2lvbmlkKSB7CiAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Jmc2Vzc2lvbmtleSA9IGNvbnRleHQuc3Jmc2Vzc2lvbmlkOwogICAgICAgICAgICAgICAgICBkZWxldGUgY29udGV4dC5zcmZzZXNzaW9uaWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYmFja2VuZCA9IGZ1bmN0aW9uIGJhY2tlbmQoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjdXJTZXJ2aWNlID0gbmV3IFBpbUxhbmd1YWdlQWJpbGl0eVNlcnZpY2UoKTsKICAgICAgICAgICAgICAgICAgY3VyU2VydmljZS5DdXN0UmVtb3ZlKGNvbnRleHQsIGRhdGEsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQuJE5vdGljZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfliKDpmaTmiJDlip/vvIEnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gYWN0aW9uQ29udGV4dDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHhEYXRhICYmIHhEYXRhLnJlZnJlc2ggJiYgeERhdGEucmVmcmVzaCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgICB4RGF0YS5yZWZyZXNoKGFyZ3MpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5zdGF0dXMgfHwgIXJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkNvbnRleHQuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+ezu+e7n+W8guW4uO+8gScKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBiYWNrZW5kKCk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gUGltTGFuZ3VhZ2VBYmlsaXR5X0N1c3RSZW1vdmUoX3gpIHsKICAgICAgICByZXR1cm4gX1BpbUxhbmd1YWdlQWJpbGl0eV9DdXN0UmVtb3ZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBQaW1MYW5ndWFnZUFiaWxpdHlfQ3VzdFJlbW92ZTsKICAgIH0oKQogICAgLyoqDQogICAgICog6I635Y+W5oyH5a6a5pWw5o2u55qE6YeN5a6a5ZCR6aG16Z2iDQogICAgICoNCiAgICAgKiBAcGFyYW0gc3Jma2V5IOaVsOaNruS4u+mUrg0KICAgICAqIEBwYXJhbSBpc0VuYWJsZVdvcmtmbG93ICDph43lrprlkJHop4blm77mmK/lkKbpnIDopoHlpITnkIbmtYHnqIvkuK3nmoTmlbDmja4NCiAgICAgKiBAbWVtYmVyb2YgIFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0UkRBcHBWaWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0UkRBcHBWaWV3ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoc3Jma2V5LCBpc0VuYWJsZVdvcmtmbG93KSB7CiAgICAgICAgdmFyIHJlc3VsdCwgY3VyRGF0YSwgaVJlYWxERU1vZGVsLCBiRGF0YUluV0YsIGJXRk1vZGUsIHN0clBEVFZpZXdQYXJhbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGhpcy5pc0VuYWJsZVdvcmtmbG93ID0gaXNFbmFibGVXb3JrZmxvdzsgLy8g6L+b6KGM5pWw5o2u5p+l6K+iCgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVNlcnZpY2UuR2V0KHsKICAgICAgICAgICAgICAgICAgcGltbGFuZ3VhZ2VhYmlsaXR5OiBzcmZrZXkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGN1ckRhdGEgPSByZXN1bHQuZGF0YTsgLy/liKTmlq3lvZPliY3mlbDmja7mqKHlvI8s6buY6K6k5Li6dHJ1Ze+8jHRvZG8KCiAgICAgICAgICAgICAgICBpUmVhbERFTW9kZWwgPSB0cnVlOwogICAgICAgICAgICAgICAgYkRhdGFJbldGID0gZmFsc2U7CiAgICAgICAgICAgICAgICBiV0ZNb2RlID0gZmFsc2U7IC8vIOiuoeeul+aVsOaNruaooeW8jwoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0VuYWJsZVdvcmtmbG93KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS50ZXN0RGF0YUluV0YoewogICAgICAgICAgICAgICAgICBzdGF0ZVZhbHVlOiB0aGlzLnN0YXRlVmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXRlRmllbGQ6IHRoaXMuc3RhdGVGaWVsZAogICAgICAgICAgICAgICAgfSwgY3VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBiRGF0YUluV0YgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWJEYXRhSW5XRikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBiRGF0YUluV0YgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLnRlc3RVc2VyRXhpc3RXb3JrbGlzdChudWxsLCBjdXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGJXRk1vZGUgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRERVNEREVWaWV3UERUUGFyYW0oY3VyRGF0YSwgYkRhdGFJbldGLCBiV0ZNb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIHN0clBEVFZpZXdQYXJhbSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHRoaXMuYWxsVmlld01hcC5nZXQoc3RyUERUVmlld1BhcmFtKSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRSREFwcFZpZXcoX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX2dldFJEQXBwVmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0UkRBcHBWaWV3OwogICAgfSgpCiAgICAvKioNCiAgICAgKiDojrflj5blrp7pmYXnmoTmlbDmja7nsbvlnosNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRSZWFsREVUeXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWFsREVUeXBlKGVudGl0eSkge30KICAgIC8qKg0KICAgICAqIOiOt+WPluWunuS9k+WNleaVsOaNruWunuS9k+inhuWbvumihOWumuS5ieWPguaVsA0KICAgICAqDQogICAgICogQHBhcmFtIGN1ckRhdGEg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIGJEYXRhSW5XRiDmmK/lkKbmnInmlbDmja7lnKjlt6XkvZzmtYHkuK0NCiAgICAgKiBAcGFyYW0gYldGTW9kZSAgIOaYr+WQpuW3peS9nOa1geaooeW8jw0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRERVNEREVWaWV3UERUUGFyYW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRERVNEREVWaWV3UERUUGFyYW0gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhjdXJEYXRhLCBiRGF0YUluV0YsIGJXRk1vZGUpIHsKICAgICAgICB2YXIgc3RyUERUUGFyYW0sIGlzRW5hYmxlTXVsdGlGb3JtLCBtdWx0aUZvcm1ERUZpZWxkLCBvYmpGb3JtVmFsdWU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0clBEVFBhcmFtID0gJyc7CgogICAgICAgICAgICAgICAgaWYgKGJEYXRhSW5XRikge30gLy8g5Yik5pat5pWw5o2u5piv5ZCm5Zyo5rWB56iL5LitCiAgICAgICAgICAgICAgICAvL+WkmuihqOWNle+8jHRvZG8KCgogICAgICAgICAgICAgICAgaXNFbmFibGVNdWx0aUZvcm0gPSBmYWxzZTsKICAgICAgICAgICAgICAgIG11bHRpRm9ybURFRmllbGQgPSBudWxsOwoKICAgICAgICAgICAgICAgIGlmICghKGlzRW5hYmxlTXVsdGlGb3JtICYmIG11bHRpRm9ybURFRmllbGQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgb2JqRm9ybVZhbHVlID0gY3VyRGF0YVttdWx0aUZvcm1ERUZpZWxkXTsKCiAgICAgICAgICAgICAgICBpZiAoRW52aXJvbm1lbnQuaXNBcHBNb2RlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsICdNT0JFRElUVklFVycgKyBvYmpGb3JtVmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgJ0VESVRWSUVXJyArIG9iakZvcm1WYWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGlmIChFbnZpcm9ubWVudC5pc0FwcE1vZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9ICJNT0JFRElUVklFVzpNU1RBRzoiOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnQwLmNvbmNhdC5jYWxsKF9jb250ZXh0My50MCwgX2NvbnRleHQzLnQxKSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgJ01PQkVESVRWSUVXOicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MiA9ICJFRElUVklFVzpNU1RBRzoiOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldERFTWFpblN0YXRlVGFnKGN1ckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnQyLmNvbmNhdC5jYWxsKF9jb250ZXh0My50MiwgX2NvbnRleHQzLnQzKSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgJ0VESVRWSUVXOicpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0REVTRERFVmlld1BEVFBhcmFtKF94NCwgX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX2dldERFU0RERVZpZXdQRFRQYXJhbS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0REVTRERFVmlld1BEVFBhcmFtOwogICAgfSgpCiAgICAvKioNCiAgICAgKiDojrflj5bmlbDmja7lr7nosaHnmoTkuLvnirbmgIHmoIfor4YNCiAgICAgKg0KICAgICAqIEBwYXJhbSBjdXJEYXRhIOW9k+WJjeaVsOaNrg0KICAgICAqIEBtZW1iZXJvZiAgUGltTGFuZ3VhZ2VBYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRERU1haW5TdGF0ZVRhZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERFTWFpblN0YXRlVGFnID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoY3VyRGF0YSkgewogICAgICAgIHZhciBzdHJUYWcsIGksIF9zdHJUYWcsIGosIHN0clRhZzIsIGssIHN0clRhZzM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm1haW5TdGF0ZUZpZWxkcy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLm1haW5TdGF0ZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzaW5nbGVNYWluRmllbGQpIHsKICAgICAgICAgICAgICAgICAgaWYgKCEoc2luZ2xlTWFpbkZpZWxkIGluIGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1RjUzXHU1MjREXHU2NTcwXHU2MzZFXHU1QkY5XHU4QzYxXHU0RTBEXHU1MzA1XHU1NDJCXHU1QzVFXHU2MDI3c2luZ2xlTWFpbkZpZWxkXHVGRjBDXHU1M0VGXHU4MEZEXHU0RjFBXHU1M0QxXHU3NTFGXHU5NTE5XHU4QkVGIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3RyVGFnID0gIiI7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8PSAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfc3RyVGFnID0gY3VyRGF0YVt0aGlzLm1haW5TdGF0ZUZpZWxkc1swXV0gPyBpID09IDAgPyBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzBdXSA6ICIiIDogIiI7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5tYWluU3RhdGVGaWVsZHMubGVuZ3RoID49IDIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGogPSAwOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoIShqIDw9IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0clRhZzIgPSBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzFdXSA/ICIiLmNvbmNhdChfc3RyVGFnLCAiX18iKS5jb25jYXQoaiA9PSAwID8gY3VyRGF0YVt0aGlzLm1haW5TdGF0ZUZpZWxkc1sxXV0gOiAiIikgOiBfc3RyVGFnOwoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMubWFpblN0YXRlRmllbGRzLmxlbmd0aCA+PSAzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBrID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmICghKGsgPD0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RyVGFnMyA9IGN1ckRhdGFbdGhpcy5tYWluU3RhdGVGaWVsZHNbMl1dID8gIiIuY29uY2F0KHN0clRhZzIsICJfXyIpLmNvbmNhdChrID09IDAgPyBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzJdXSA6ICIiKSA6IHN0clRhZzI7IC8vIOWIpOaWreaYr+WQpuWtmOWcqAoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmFsbERlTWFpblN0YXRlTWFwLmdldChzdHJUYWczKSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBrKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5hbGxEZU1haW5TdGF0ZU1hcC5nZXQoc3RyVGFnMikpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5hbGxEZU1haW5TdGF0ZU1hcC5nZXQoX3N0clRhZykpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRERU1haW5TdGF0ZVRhZyhfeDcpIHsKICAgICAgICByZXR1cm4gX2dldERFTWFpblN0YXRlVGFnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRERU1haW5TdGF0ZVRhZzsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2U7Cn0oVUlTZXJ2aWNlKTsKCmV4cG9ydCB7IFBpbUxhbmd1YWdlQWJpbGl0eVVJU2VydmljZUJhc2UgYXMgZGVmYXVsdCB9Ow=="},null]}