{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimlabourcampanygrid-view\\pimlabourcampanygrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimlabourcampanygrid-view\\pimlabourcampanygrid-view-base.vue","mtime":1630509410017},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZ2V0IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBFbWl0LCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmcsIEdyaWRWaWV3QmFzZSB9IGZyb20gJ0AvY3JtLWNvcmUnOwppbXBvcnQgUGltTGFib3VyY2FtcGFueVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL3BpbS1sYWJvdXJjYW1wYW55L3BpbS1sYWJvdXJjYW1wYW55LXNlcnZpY2UnOwppbXBvcnQgR3JpZFZpZXdFbmdpbmUgZnJvbSAnQGVuZ2luZS92aWV3L2dyaWQtdmlldy1lbmdpbmUnOwovKioNCiAqIOWKs+WKoea0vumBo+WFrOWPuOihqOagvOinhuWbvuWfuuexuw0KICoNCiAqIEBleHBvcnQNCiAqIEBjbGFzcyBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogKiBAZXh0ZW5kcyB7R3JpZFZpZXdCYXNlfQ0KICovCgp2YXIgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9HcmlkVmlld0Jhc2UpIHsKICBfaW5oZXJpdHMoUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZSwgX0dyaWRWaWV3QmFzZSk7CgogIC8qKg0KICAgKiDlirPliqHmtL7pgaPlhazlj7jooajmoLzop4blm77ln7rnsbsNCiAgICoNCiAgICogQGV4cG9ydA0KICAgKiBAY2xhc3MgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgKiBAZXh0ZW5kcyB7R3JpZFZpZXdCYXNlfQ0KICAgKi8KICBmdW5jdGlvbiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlKCkgewogICAgdmFyIF90aGlzMjsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZSk7CgogICAgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgLyoqDQogICAgICog5a6e5L2T5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7UGltTGFib3VyY2FtcGFueVNlcnZpY2V9DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYXBwRW50aXR5U2VydmljZSA9IG5ldyBQaW1MYWJvdXJjYW1wYW55U2VydmljZSgpOwogICAgLyoqDQogICAgICog6K6h5pWw5Zmo5pyN5Yqh5a+56LGh6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY291bnRlclNlcnZpY2VBcnJheSA9IFtdOwogICAgLyoqDQogICAgICog6KeG5Zu+5qCH6K+GDQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXd0YWcgPSAnOTVjNDc4ZTQ1YzFiMjY2MGMyNWJiNzZkZDJlYTIyZDMnOwogICAgLyoqDQogICAgICog54i25pWw5o2u5a+56LGhDQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3JmcGFyZW50ZGF0YSA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5LiK5LiL5paH6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jdXN0b21WaWV3TmF2Q29udGV4dHMgPSB7fTsKICAgIC8qKg0KICAgICAqIOiHquWumuS5ieinhuWbvuWvvOiIquWPguaVsOmbhuWQiA0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY3VzdG9tVmlld1BhcmFtcyA9IHt9OwogICAgLyoqDQogICAgICog6KeG5Zu+5qih5Z6L5pWw5o2uDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5tb2RlbCA9IHsKICAgICAgc3JmQ2FwdGlvbjogJ2VudGl0aWVzLnBpbWxhYm91cmNhbXBhbnkudmlld3MuZ3JpZHZpZXcuY2FwdGlvbicsCiAgICAgIHNyZlRpdGxlOiAnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5ncmlkdmlldy50aXRsZScsCiAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5ncmlkdmlldy5zdWJ0aXRsZScsCiAgICAgIGRhdGFJbmZvOiAnJwogICAgfTsKICAgIC8qKg0KICAgICAqIOWuueWZqOaooeWeiw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY29udGFpbmVyTW9kZWwgPSB7CiAgICAgIHZpZXdfdG9vbGJhcjogewogICAgICAgIG5hbWU6ICd0b29sYmFyJywKICAgICAgICB0eXBlOiAnVE9PTEJBUicKICAgICAgfSwKICAgICAgdmlld19ncmlkOiB7CiAgICAgICAgbmFtZTogJ2dyaWQnLAogICAgICAgIHR5cGU6ICdHUklEJwogICAgICB9LAogICAgICB2aWV3X3NlYXJjaGZvcm06IHsKICAgICAgICBuYW1lOiAnc2VhcmNoZm9ybScsCiAgICAgICAgdHlwZTogJ1NFQVJDSEZPUk0nCiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiDop4blm77nirbmgIHorqLpmIXlr7nosaENCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7U3ViamVjdDx7YWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueX0+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXdTdGF0ZSA9IG5ldyBTdWJqZWN0KCk7CiAgICAvKioNCiAgICAgKiDlt6XlhbfmoI/mqKHlnosNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpczIudG9vbEJhck1vZGVscyA9IHsKICAgICAgdGJpdGVtMzogewogICAgICAgIG5hbWU6ICd0Yml0ZW0zJywKICAgICAgICBjYXB0aW9uOiAn5paw5bu6JywKICAgICAgICAnaXNTaG93Q2FwdGlvbic6IHRydWUsCiAgICAgICAgJ2lzU2hvd0ljb24nOiB0cnVlLAogICAgICAgIHRvb2x0aXA6ICfmlrDlu7onLAogICAgICAgIGljb25jbHM6ICdmYSBmYS1maWxlLXRleHQtbycsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnTmV3JywKICAgICAgICAgIHRhcmdldDogJycKICAgICAgICB9LAogICAgICAgICJjbGFzcyI6ICcnCiAgICAgIH0sCiAgICAgIHRiaXRlbTg6IHsKICAgICAgICBuYW1lOiAndGJpdGVtOCcsCiAgICAgICAgY2FwdGlvbjogJ+WIoOmZpCcsCiAgICAgICAgJ2lzU2hvd0NhcHRpb24nOiB0cnVlLAogICAgICAgICdpc1Nob3dJY29uJzogdHJ1ZSwKICAgICAgICB0b29sdGlwOiAn5Yig6ZmkJywKICAgICAgICBpY29uY2xzOiAnZmEgZmEtcmVtb3ZlJywKICAgICAgICBpY29uOiAnJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ0RFVUlBQ1RJT04nLAogICAgICAgIHZpc2FibGVkOiB0cnVlLAogICAgICAgIGRhdGFhY2NhY3Rpb246ICdTUkZVUl9fSkdMWUdYTUwnLAogICAgICAgIHVpYWN0aW9uOiB7CiAgICAgICAgICB0YWc6ICdSZW1vdmUnLAogICAgICAgICAgdGFyZ2V0OiAnTVVMVElLRVknCiAgICAgICAgfSwKICAgICAgICAiY2xhc3MiOiAnJwogICAgICB9LAogICAgICB0Yml0ZW0xOTogewogICAgICAgIG5hbWU6ICd0Yml0ZW0xOScsCiAgICAgICAgY2FwdGlvbjogJ+i/h+a7pCcsCiAgICAgICAgJ2lzU2hvd0NhcHRpb24nOiB0cnVlLAogICAgICAgICdpc1Nob3dJY29uJzogdHJ1ZSwKICAgICAgICB0b29sdGlwOiAn6L+H5rukJywKICAgICAgICBpY29uY2xzOiAnZmEgZmEtZmlsdGVyJywKICAgICAgICBpY29uOiAnJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ0RFVUlBQ1RJT04nLAogICAgICAgIHZpc2FibGVkOiB0cnVlLAogICAgICAgIGRhdGFhY2NhY3Rpb246ICdTUkZVUl9fSkdMWUtRTFgnLAogICAgICAgIHVpYWN0aW9uOiB7CiAgICAgICAgICB0YWc6ICdUb2dnbGVGaWx0ZXInLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgdGJpdGVtMTM6IHsKICAgICAgICBuYW1lOiAndGJpdGVtMTMnLAogICAgICAgIGNhcHRpb246ICflr7zlh7onLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WvvOWHuicsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLWZpbGUtZXhjZWwtbycsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnRXhwb3J0RXhjZWwnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgTWF4Um93Q291bnQ6IDUwMDAsCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgdGJpdGVtMTg6IHsKICAgICAgICBuYW1lOiAndGJpdGVtMTgnLAogICAgICAgIGNhcHRpb246ICfluK7liqknLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+W4ruWKqScsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLXF1ZXN0aW9uJywKICAgICAgICBpY29uOiAnJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ0RFVUlBQ1RJT04nLAogICAgICAgIHZpc2FibGVkOiB0cnVlLAogICAgICAgIGRhdGFhY2NhY3Rpb246ICcnLAogICAgICAgIHVpYWN0aW9uOiB7CiAgICAgICAgICB0YWc6ICdIZWxwJywKICAgICAgICAgIHRhcmdldDogJycKICAgICAgICB9LAogICAgICAgICJjbGFzcyI6ICcnCiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiDop4blm77lvJXmk44NCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7RW5naW5lfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmVuZ2luZSA9IG5ldyBHcmlkVmlld0VuZ2luZSgpOwogICAgLyoqDQogICAgICog5piv5ZCm5Y2V6YCJDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc1NpbmdsZVNlbGVjdCA9IGZhbHNlOwogICAgLyoqDQogICAgICog5pCc57Si5YC8DQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnF1ZXJ5ID0gJyc7CiAgICAvKioNCiAgICAgKiDmmK/lkKblsZXlvIDmkJzntKLooajljZUNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmlzRXhwYW5kU2VhcmNoRm9ybSA9IGZhbHNlOwogICAgLyoqDQogICAgICog6KGo5qC86KGM5pWw5o2u6buY6K6k5r+A5rS75qih5byPDQogICAgICogMCDkuI3mv4DmtLsNCiAgICAgKiAxIOWNleWHu+a/gOa0uw0KICAgICAqIDIg5Y+M5Ye75r+A5rS7DQogICAgICoNCiAgICAgKiBAdHlwZSB7KG51bWJlciB8IDAgfCAxIHwgMil9DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZ3JpZFJvd0FjdGl2ZU1vZGUgPSAyOwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgLyoqDQogICAqIOaVsOaNruWPmOWMlg0KICAgKg0KICAgKiBAcGFyYW0geyp9IHZhbA0KICAgKiBAcmV0dXJucyB7Kn0NCiAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZSwgW3sKICAgIGtleTogInZpZXdEYXRhc0NoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmlld0RhdGFzQ2hhbmdlKHZhbCkgewogICAgICByZXR1cm4gdmFsOwogICAgfQogICAgLyoqDQogICAgICog5byV5pOO5Yid5aeL5YyWDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZW5naW5lSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW5naW5lSW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVuZ2luZS5pbml0KHsKICAgICAgICB2aWV3OiB0aGlzLAogICAgICAgIG9wZW5kYXRhOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5vcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICAgIH0sCiAgICAgICAgbmV3ZGF0YTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5uZXdkYXRhKGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7CiAgICAgICAgfSwKICAgICAgICBncmlkOiB0aGlzLiRyZWZzLmdyaWQsCiAgICAgICAgc2VhcmNoZm9ybTogdGhpcy4kcmVmcy5zZWFyY2hmb3JtLAogICAgICAgIGtleVBTREVGaWVsZDogJ3BpbWxhYm91cmNhbXBhbnknLAogICAgICAgIG1ham9yUFNERUZpZWxkOiAncGltbGFib3VyY2FtcGFueW5hbWUnLAogICAgICAgIGlzTG9hZERlZmF1bHQ6IHRydWUKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiB0b29sYmFyIOmDqOS7tiBjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2NsaWNrKCRldmVudCwgJGV2ZW50MikgewogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW0zJykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtM19jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ3RiaXRlbTgnKSkgewogICAgICAgIHRoaXMudG9vbGJhcl90Yml0ZW04X2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAndGJpdGVtMTknKSkgewogICAgICAgIHRoaXMudG9vbGJhcl90Yml0ZW0xOV9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ3RiaXRlbTEzJykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtMTNfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICdkZXVpYWN0aW9uMScpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb24xX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAndGJpdGVtMTgnKSkgewogICAgICAgIHRoaXMudG9vbGJhcl90Yml0ZW0xOF9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHNlbGVjdGlvbmNoYW5nZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX3NlbGVjdGlvbmNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9zZWxlY3Rpb25jaGFuZ2UoJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3NlbGVjdGlvbmNoYW5nZScsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBiZWZvcmVsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfYmVmb3JlbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9iZWZvcmVsb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdiZWZvcmVsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHJvd2RibGNsaWNrIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfcm93ZGJsY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfcm93ZGJsY2xpY2soJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3Jvd2RibGNsaWNrJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHJlbW92ZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX3JlbW92ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9yZW1vdmUoJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3JlbW92ZScsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9sb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IHNhdmUg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2VhcmNoZm9ybV9zYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hmb3JtX3NhdmUoJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdzZWFyY2hmb3JtJywgJ3NhdmUnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogc2VhcmNoZm9ybSDpg6jku7Ygc2VhcmNoIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlYXJjaGZvcm1fc2VhcmNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hmb3JtX3NlYXJjaCgkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ3NlYXJjaGZvcm0nLCAnc2VhcmNoJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IGxvYWQg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2VhcmNoZm9ybV9sb2FkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hmb3JtX2xvYWQoJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdzZWFyY2hmb3JtJywgJ2xvYWQnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl90Yml0ZW0zX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbTNfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuTmV3KGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX3RiaXRlbThfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfdGJpdGVtOF9jbGljaygpIHsKICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciB0YWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyICRldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICAvLyDlj4LmlbAKICAgICAgLy8g5Y+W5pWwCiAgICAgIHZhciBkYXRhcyA9IFtdOwogICAgICB2YXIgeERhdGEgPSBudWxsOyAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1KTyA9IHt9OwogICAgICB2YXIgY29udGV4dEpPID0ge307CiAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICBkYXRhcyA9IF90b0NvbnN1bWFibGVBcnJheSh4RGF0YS5nZXREYXRhcygpKTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcykgewogICAgICAgIGRhdGFzID0gW3BhcmFtc107CiAgICAgIH0gLy8g55WM6Z2i6KGM5Li6CgoKICAgICAgdGhpcy5SZW1vdmUoZGF0YXMsIGNvbnRleHRKTywgcGFyYW1KTywgJGV2ZW50LCB4RGF0YSwgdGhpcywgIlBpbUxhYm91cmNhbXBhbnkiKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfdGJpdGVtMTlfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfdGJpdGVtMTlfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuVG9nZ2xlRmlsdGVyKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX3RiaXRlbTEzX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbTEzX2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkV4cG9ydEV4Y2VsKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2RldWlhY3Rpb24xX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2RldWlhY3Rpb24xX2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLk9wZW5Sb3dFZGl0KGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX3RiaXRlbTE4X2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbTE4X2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkhlbHAoZGF0YXMsIGNvbnRleHRKTywgcGFyYW1KTywgJGV2ZW50LCB4RGF0YSwgdGhpcywgIlBpbUxhYm91cmNhbXBhbnkiKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOaWsOW7uuaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJuZXdkYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuZXdkYXRhKGFyZ3MsIGZ1bGxhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgbG9jYWxDb250ZXh0ID0gbnVsbDsKICAgICAgdmFyIGxvY2FsVmlld1BhcmFtID0gbnVsbDsKICAgICAgdmFyIGRhdGEgPSB7fTsKCiAgICAgIGlmIChhcmdzWzBdLnNyZnNvdXJjZWtleSkgewogICAgICAgIGRhdGEuc3Jmc291cmNla2V5ID0gYXJnc1swXS5zcmZzb3VyY2VrZXk7CiAgICAgIH0KCiAgICAgIHZhciB0ZW1wQ29udGV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSk7CiAgICAgIGRlbGV0ZSB0ZW1wQ29udGV4dC5waW1sYWJvdXJjYW1wYW55OwoKICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGVtcENvbnRleHQsIGFyZ3NbMF0pOwogICAgICB9CgogICAgICB2YXIgZGVSZXNQYXJhbWV0ZXJzID0gW107CiAgICAgIHZhciBwYXJhbWV0ZXJzID0gW3sKICAgICAgICBwYXRoTmFtZTogJ3BpbWxhYm91cmNhbXBhbmllcycsCiAgICAgICAgcGFyYW1ldGVyTmFtZTogJ3BpbWxhYm91cmNhbXBhbnknCiAgICAgIH1dOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcGVuRHJhd2VyID0gZnVuY3Rpb24gb3BlbkRyYXdlcih2aWV3LCBkYXRhKSB7CiAgICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzNC4kYXBwZHJhd2VyLm9wZW5EcmF3ZXIodmlldywgdGVtcENvbnRleHQsIGRhdGEpOwoKICAgICAgICBjb250YWluZXIuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFPYmplY3QuaXMocmVzdWx0LnJldCwgJ09LJykpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5yZWZyZXNoIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB4RGF0YS5yZWZyZXNoKHJlc3VsdC5kYXRhcyk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgdmlldyA9IHsKICAgICAgICB2aWV3bmFtZTogJ3BpbWxhYm91cmNhbXBhbnllZGl0LXZpZXcnLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICB3aWR0aDogMTM2NiwKICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5lZGl0dmlldy50aXRsZScpLAogICAgICAgIHBsYWNlbWVudDogJ0RSQVdFUl9SSUdIVCcKICAgICAgfTsKICAgICAgb3BlbkRyYXdlcih2aWV3LCBkYXRhKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOe8lui+keaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvcGVuZGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb3BlbmRhdGEoYXJncywgZnVsbGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBsb2NhbENvbnRleHQgPSBudWxsOwogICAgICB2YXIgbG9jYWxWaWV3UGFyYW0gPSBudWxsOwogICAgICB2YXIgZGF0YSA9IHt9OwogICAgICB2YXIgdGVtcENvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpOwoKICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGVtcENvbnRleHQsIGFyZ3NbMF0pOwogICAgICB9CgogICAgICB2YXIgZGVSZXNQYXJhbWV0ZXJzID0gW107CiAgICAgIHZhciBwYXJhbWV0ZXJzID0gW3sKICAgICAgICBwYXRoTmFtZTogJ3BpbWxhYm91cmNhbXBhbmllcycsCiAgICAgICAgcGFyYW1ldGVyTmFtZTogJ3BpbWxhYm91cmNhbXBhbnknCiAgICAgIH1dOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcGVuRHJhd2VyID0gZnVuY3Rpb24gb3BlbkRyYXdlcih2aWV3LCBkYXRhKSB7CiAgICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzNS4kYXBwZHJhd2VyLm9wZW5EcmF3ZXIodmlldywgdGVtcENvbnRleHQsIGRhdGEpOwoKICAgICAgICBjb250YWluZXIuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmICghcmVzdWx0IHx8ICFPYmplY3QuaXMocmVzdWx0LnJldCwgJ09LJykpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5yZWZyZXNoIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB4RGF0YS5yZWZyZXNoKHJlc3VsdC5kYXRhcyk7CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICB2YXIgdmlldyA9IHsKICAgICAgICB2aWV3bmFtZTogJ3BpbWxhYm91cmNhbXBhbnllZGl0LXZpZXcnLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICB3aWR0aDogMTM2NiwKICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5lZGl0dmlldy50aXRsZScpLAogICAgICAgIHBsYWNlbWVudDogJ0RSQVdFUl9SSUdIVCcKICAgICAgfTsKICAgICAgb3BlbkRyYXdlcih2aWV3LCBkYXRhKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaWsOW7ug0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupANCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tg0KICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocNCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJOZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uIE5ldyhhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXMubmV3ZGF0YSAmJiBfdGhpcy5uZXdkYXRhIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICB2YXIgZGF0YSA9IHt9OwoKICAgICAgICBfdGhpcy5uZXdkYXRhKFtfb2JqZWN0U3ByZWFkKHt9LCBkYXRhKV0sIFtfb2JqZWN0U3ByZWFkKHt9LCBkYXRhKV0sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3RoaXMuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBkZXNjOiAnbmV3ZGF0YSDop4blm77lpITnkIbpgLvovpHkuI3lrZjlnKjvvIzor7fmt7vliqAhJwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDliKDpmaQNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBSZW1vdmUoYXJncywgY29udGV4dEpPLCBwYXJhbXMsICRldmVudCwgeERhdGEsIGFjdGlvbkNvbnRleHQsIHNyZlBhcmVudERlTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnJlbW92ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgeERhdGEucmVtb3ZlKGFyZ3MpOwogICAgfQogICAgLyoqDQogICAgICog6L+H5rukDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIlRvZ2dsZUZpbHRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gVG9nZ2xlRmlsdGVyKGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5oYXNPd25Qcm9wZXJ0eSgnaXNFeHBhbmRTZWFyY2hGb3JtJykpIHsKICAgICAgICBfdGhpcy5pc0V4cGFuZFNlYXJjaEZvcm0gPSAhX3RoaXMuaXNFeHBhbmRTZWFyY2hGb3JtOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDlr7zlh7oNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiRXhwb3J0RXhjZWwiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEV4cG9ydEV4Y2VsKGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5leHBvcnRFeGNlbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB8fCAhJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB4RGF0YS5leHBvcnRFeGNlbCgkZXZlbnQuZXhwb3J0cGFybXMpOwogICAgfQogICAgLyoqDQogICAgICog5byA5ZCv6KGM57yW6L6RDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIk9wZW5Sb3dFZGl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBPcGVuUm93RWRpdChhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7fQogICAgLyoqDQogICAgICog5biu5YqpDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIkhlbHAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEhlbHAoYXJncywgY29udGV4dEpPLCBwYXJhbXMsICRldmVudCwgeERhdGEsIGFjdGlvbkNvbnRleHQsIHNyZlBhcmVudERlTmFtZSkgewogICAgICB0aGlzLiROb3RpY2UuZXJyb3IoewogICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICBkZXNjOiAn5biu5Yqp5pyq5pSv5oyBJwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmUgOavgeinhuWbvuWbnuiwgw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZGVzdHJveWVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudmlld0RlZmF1bHRVc2FnZSkgewogICAgICAgIHZhciBsb2NhbFN0b3JlTGVuZ3RoID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTsKCiAgICAgICAgaWYgKGxvY2FsU3RvcmVMZW5ndGgubGVuZ3RoID4gMCkgewogICAgICAgICAgbG9jYWxTdG9yZUxlbmd0aC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnN0YXJ0c1dpdGgoX3RoaXM2LmNvbnRleHQuc3Jmc2Vzc2lvbmlkKSkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGl0ZW0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIFZ1ZeWjsOaYjuWRqOacnw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZS5wcm90b3R5cGUpLCAiY3JlYXRlZCIsIHRoaXMpLmNhbGwodGhpcyk7CgogICAgICBpZiAodGhpcy5mb3JtRHJ1aXBhcnQpIHsKICAgICAgICB0aGlzLmZvcm1EcnVpcGFydC5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKE9iamVjdC5pcyhyZXMuYWN0aW9uLCAnc2F2ZScpKSB7CiAgICAgICAgICAgIF90aGlzNy52aWV3U3RhdGUubmV4dCh7CiAgICAgICAgICAgICAgdGFnOiAnZ3JpZCcsCiAgICAgICAgICAgICAgYWN0aW9uOiAnc2F2ZScsCiAgICAgICAgICAgICAgZGF0YTogX3RoaXM3LnZpZXdwYXJhbXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5pcyhyZXMuYWN0aW9uLCAnbG9hZCcpKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IF90aGlzNzsKCiAgICAgICAgICAgIF90aGlzLmVuZ2luZS5sb2FkKHJlcy5kYXRhLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5b+r6YCf5pCc57SiDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU2VhcmNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlYXJjaCgkZXZlbnQpIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGdyaWQubG9hZCh0aGlzLmNvbnRleHQpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBFTlRJVFlURVNUMVVzcjJHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25TYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNhdmUoJGV2ZW50KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2RyZGF0YXNhdmVkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWIt+aWsOaVsOaNrg0KICAgICAqDQogICAgICogQHJlYWRvbmx5DQogICAgICogQHR5cGUgeyhudW1iZXIgfCBudWxsKX0NCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblJlZnJlc2hEYXRhIiwKCiAgICAvKioNCiAgICAgKiDnm5HmjqfmlbDmja7lj5jljJYNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAcmV0dXJucw0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlDQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWZyZXNoRGF0YShuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsID09PSBudWxsIHx8IG5ld1ZhbCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobmV3VmFsID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmIChncmlkKSB7CiAgICAgICAgZ3JpZC5sb2FkKHt9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlZnJlc2hkYXRhIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndmlld2FjdGlvbi9nZXRSZWZyZXNoRGF0YSddKHRoaXMudmlld3RhZyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZTsKfShHcmlkVmlld0Jhc2UpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtFbWl0KCldLCBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlLnByb3RvdHlwZSwgInZpZXdEYXRhc0NoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlLnByb3RvdHlwZSwgImZvcm1EcnVpcGFydCIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdyZWZyZXNoZGF0YScpXSwgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZS5wcm90b3R5cGUsICJvblJlZnJlc2hEYXRhIiwgbnVsbCk7CgpQSU1MQUJPVVJDQU1QQU5ZR3JpZFZpZXdCYXNlID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnQoe30pLCBWdWVMaWZlQ3ljbGVQcm9jZXNzaW5nXSwgUElNTEFCT1VSQ0FNUEFOWUdyaWRWaWV3QmFzZSk7CmV4cG9ydCBkZWZhdWx0IFBJTUxBQk9VUkNBTVBBTllHcmlkVmlld0Jhc2U7"},null]}