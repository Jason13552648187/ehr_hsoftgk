{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\components\\app-data-upload\\app-data-upload.vue?vue&type=script&lang=ts&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\components\\app-data-upload\\app-data-upload.vue","mtime":1630509408669},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5pcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgWExTWCBmcm9tICd4bHN4JzsKaW1wb3J0IENvZGVMaXN0U2VydmljZSBmcm9tICJAc2VydmljZS9hcHAvY29kZWxpc3Qtc2VydmljZSI7CmltcG9ydCBFbnRpdHlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9lbnRpdHktc2VydmljZSc7CmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwoKdmFyIEFwcERhdGFVcGxvYWRWaWV3ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhBcHBEYXRhVXBsb2FkVmlldywgX1Z1ZSk7CgogIGZ1bmN0aW9uIEFwcERhdGFVcGxvYWRWaWV3KCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBEYXRhVXBsb2FkVmlldyk7CgogICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoQXBwRGF0YVVwbG9hZFZpZXcpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgLyoqDQogICAgICog5Luj56CB6KGo5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7Q29kZUxpc3RTZXJ2aWNlfQ0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICAgIF90aGlzLmNvZGVMaXN0U2VydmljZSA9IG5ldyBDb2RlTGlzdFNlcnZpY2UoewogICAgICAkc3RvcmU6IF90aGlzLiRzdG9yZQogICAgfSk7CiAgICAvKioNCiAgICAgKiDlrp7kvZPmnI3liqHlr7nosaENCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAdHlwZSB7RW50aXR5U2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5lbnRpdHlTZXJ2aWNlID0gbmV3IEVudGl0eVNlcnZpY2UoKTsKICAgIC8qKg0KICAgICAqIOinhuWbvuWPguaVsA0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCgogICAgX3RoaXMudmlld3BhcmFtcyA9IHt9OwogICAgLyoqDQogICAgICog5a+85YWl5pWw5o2u5qih5Z6LDQogICAgICoNCiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59DQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCgogICAgX3RoaXMuaW1wb3J0RGF0YU1vZGVsID0gW107CiAgICAvKioNCiAgICAgKiDlr7zlhaXmlbDmja7pm4blkIgNCiAgICAgKg0KICAgICAqIEB0eXBlIHtBcnJheTwqPn0NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5pbXBvcnREYXRhQXJyYXkgPSBbXTsKICAgIC8qKg0KICAgICAqIOWvvOWFpeagh+ivhg0KICAgICAqDQogICAgICogQHR5cGUge3N0cmluZ30NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5pbXBvcnRJZCA9ICIiOwogICAgLyoqDQogICAgICog5piv5ZCm5bey5pyJ5a+85YWl5pWw5o2uDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5oYXNJbXBvcnRlZCA9IGZhbHNlOwogICAgLyoqDQogICAgICog5a+85YWl5pWw5o2u6K+G5Yir6aG55bGe5oCnDQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICAgIF90aGlzLmltcG9ydFVuaXF1ZUl0ZW0gPSAiIjsKICAgIC8qKg0KICAgICAqIOaPkOekuuS/oeaBrw0KICAgICAqDQogICAgICogQHR5cGUge3N0cmluZ30NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5wcm9tcHRJbmZvID0gIiI7CiAgICAvKioNCiAgICAgKiDlr7zlhaXnirbmgIENCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICAgIF90aGlzLmlzVXBsb2FkaW5nID0gZmFsc2U7CiAgICAvKioNCiAgICAgKiDlr7zlhaXmiJDlip/mlbDmja4NCiAgICAgKg0KICAgICAqIEB0eXBlIHtzdHJpbmd9DQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCgogICAgX3RoaXMuaW1wb3J0U3VjY2Vzc0RhdGEgPSBbXTsKICAgIC8qKg0KICAgICAqIOWvvOWFpeWksei0peaVsOaNrg0KICAgICAqDQogICAgICogQHR5cGUge3N0cmluZ30NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5pbXBvcnRFcnJvckRhdGEgPSBbXTsKICAgIC8qKg0KICAgICAqIOWxnuaAp01hcCjnlKjkvZzlsZ7mgKfovazljJYpDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgICBfdGhpcy5hbGxGaWVsZE1hcCA9IG5ldyBNYXAoKTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgLyoqDQogICAqIOinhuWbvuWPguaVsOWPmOWMlg0KICAgKg0KICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoQXBwRGF0YVVwbG9hZFZpZXcsIFt7CiAgICBrZXk6ICJvblBhcmFtRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25QYXJhbURhdGEobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy52aWV3cGFyYW1zLCBKU09OLnBhcnNlKHRoaXMudmlld3BhcmFtKSk7CiAgICAgICAgdGhpcy5pbml0QmFzaWMoKTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5Yid5aeL5YyW5Z+656GA5pWw5o2uDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiaW5pdEJhc2ljIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW5pdEJhc2ljID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld3BhcmFtcy5pbXBvcnRJZCkgewogICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydElkID0gdGhpcy52aWV3cGFyYW1zLmltcG9ydElkOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdwYXJhbXMuaW1wb3J0RGF0YSkgewogICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydERhdGFNb2RlbCA9IE9iamVjdC52YWx1ZXModGhpcy52aWV3cGFyYW1zLmltcG9ydERhdGEpOwogICAgICAgICAgICAgICAgICB0aGlzLkJ1YmJsZVNvcnQodGhpcy5pbXBvcnREYXRhTW9kZWwsIHRoaXMuaW1wb3J0RGF0YU1vZGVsLmxlbmd0aCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnREYXRhTW9kZWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pc3VuaXF1ZWl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW1wb3J0VW5pcXVlSXRlbSA9IGl0ZW0uaGVhZGVybmFtZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsbEZpZWxkTWFwLnNldChpdGVtLmhlYWRlcm5hbWUsIGl0ZW0pOwogICAgICAgICAgICAgICAgfSk7IC8v6I635Y+W5Luj56CB6KGo5YC8CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFydEFsbENvZGVMaXN0KCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHRoaXMuYWxsQ29kZUxpc3QgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW5pdEJhc2ljKCkgewogICAgICAgIHJldHVybiBfaW5pdEJhc2ljLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbml0QmFzaWM7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOWGkuazoeaOkuW6jw0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJCdWJibGVTb3J0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBCdWJibGVTb3J0KGFycmF5LCBsZW5ndGgpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuZ3RoIC0gaSAtIDE7IGorKykgewogICAgICAgICAgaWYgKGFycmF5W2pdLm9yZGVyID4gYXJyYXlbaiArIDFdLm9yZGVyKSB7CiAgICAgICAgICAgIHZhciB0ZW1wID0gdm9pZCAwOwogICAgICAgICAgICB0ZW1wID0gYXJyYXlbaiArIDFdOwogICAgICAgICAgICBhcnJheVtqICsgMV0gPSBhcnJheVtqXTsKICAgICAgICAgICAgYXJyYXlbal0gPSB0ZW1wOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5LiL6L295a+85YWl5pWw5o2u5qih5p2/DQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZG93bmxvYWRUZW1wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkb3dubG9hZFRlbXAoKSB7CiAgICAgIHRoaXMuaW1wb3J0RXhjZWwodGhpcy52aWV3cGFyYW1zLmFwcERlTG9naWNOYW1lICsgdGhpcy4kdCgnY29tcG9uZW50cy5hcHBEYXRhVXBsb2FkVmlldy5kYXRhdGVtcCcpLCBbXSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgInmi6nmlofku7YNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJoYW5kbGVVcExvYWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVVwTG9hZCgpIHsKICAgICAgdGhpcy5pbXBvcnRTdWNjZXNzRGF0YSA9IFtdOwogICAgICB0aGlzLiRyZWZzLmlucHV0VXBMb2FkLmNsaWNrKCk7CiAgICB9CiAgICAvKioNCiAgICAgKiDkuIrkvKDmnI3liqHlmagNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ1cGxvYWRTZXJ2ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwbG9hZFNlcnZlcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5pbXBvcnREYXRhQXJyYXkubGVuZ3RoID09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0ZW1wRGF0YUFycmF5ID0gW107CiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmltcG9ydERhdGFBcnJheSwgdGVtcERhdGFBcnJheSk7CiAgICAgIHRoaXMuaGFzSW1wb3J0ZWQgPSB0cnVlOwogICAgICB0aGlzLmlzVXBsb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5pbXBvcnREYXRhQXJyYXkgPSBbXTsKCiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5lbnRpdHlTZXJ2aWNlLmdldFNlcnZpY2UodGhpcy52aWV3cGFyYW1zLnNlcnZpY2VOYW1lKS50aGVuKGZ1bmN0aW9uIChzZXJ2aWNlKSB7CiAgICAgICAgICBzZXJ2aWNlLkltcG9ydERhdGEoX3RoaXMzLnZpZXdkYXRhLCB7CiAgICAgICAgICAgIG5hbWU6IF90aGlzMy5pbXBvcnRJZCwKICAgICAgICAgICAgZGF0YTogdGVtcERhdGFBcnJheQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXMuZGF0YTsKCiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJzdCAhPT0gMCkgewogICAgICAgICAgICAgIF90aGlzMy5wcm9tcHRJbmZvID0gX3RoaXMzLiR0KCdjb21wb25lbnRzLmFwcERhdGFVcGxvYWRWaWV3LmltcG9ydGZhaWxlZCcpOwogICAgICAgICAgICAgIF90aGlzMy5pc1VwbG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMzLmltcG9ydFN1Y2Nlc3NEYXRhID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgIF90aGlzMy5wcm9tcHRJbmZvID0gX3RoaXMzLiR0KCdjb21wb25lbnRzLmFwcERhdGFVcGxvYWRWaWV3LmNvbXBsZXRlZCcpOwogICAgICAgICAgICBfdGhpczMuaXNVcGxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMzLmlzVXBsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBfdGhpczMucHJvbXB0SW5mbyA9IF90aGlzMy4kdCgnY29tcG9uZW50cy5hcHBEYXRhVXBsb2FkVmlldy5pbXBvcnRmYWlsZWQnKTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuaXNVcGxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnByb21wdEluZm8gPSB0aGlzLiR0KCdjb21wb25lbnRzLmFwcERhdGFVcGxvYWRWaWV3LmltcG9ydGZhaWxlZCcpOwogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9CgogICAgICA7CiAgICB9CiAgICAvKioNCiAgICAgKiDlr7zlh7pleGNlbA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCgogIH0sIHsKICAgIGtleTogImltcG9ydEV4Y2VsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfaW1wb3J0RXhjZWwgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmaWxlbmFtZSwgX2RhdGEpIHsKICAgICAgICB2YXIgdEhlYWRlciwgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdEhlYWRlciA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5pbXBvcnREYXRhTW9kZWwuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICB0SGVhZGVyLnB1c2goaXRlbS5oZWFkZXJuYW1lKTsKICAgICAgICAgICAgICAgIH0pOyAvL2NvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmZvcm1hdEV4Y2VsRGF0YShmaWx0ZXJWYWwsIF9kYXRhKTsKCiAgICAgICAgICAgICAgICBkYXRhID0gX2RhdGEgPyBfZGF0YSA6IFtdOwogICAgICAgICAgICAgICAgdGhpcy4kZXhwb3J0LmV4cG9ydEV4Y2VsKCkudGhlbihmdW5jdGlvbiAoZXhjZWwpIHsKICAgICAgICAgICAgICAgICAgZXhjZWwuZXhwb3J0X2pzb25fdG9fZXhjZWwoewogICAgICAgICAgICAgICAgICAgIGhlYWRlcjogdEhlYWRlciwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICBhdXRvV2lkdGg6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgYm9va1R5cGU6ICJ4bHN4IiAvL+mdnuW/heWhqwoKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gaW1wb3J0RXhjZWwoX3gsIF94MikgewogICAgICAgIHJldHVybiBfaW1wb3J0RXhjZWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGltcG9ydEV4Y2VsOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiaGFuZGxlT0siLAoKICAgIC8qKg0KICAgICAqIOehruiupA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlT0soKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJywgdGhpcy5pbXBvcnRTdWNjZXNzRGF0YSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDlr7zlhaVFeGNlbA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIEFwcERhdGFVcGxvYWRWaWV3DQogICAgICovCgogIH0sIHsKICAgIGtleTogImltcG9ydEZpbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGltcG9ydEZpbGUoJGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIG9iaiA9ICRldmVudC50YXJnZXQgfHwgJGV2ZW50LnNyY0VsZW1lbnQ7CgogICAgICBpZiAoIW9iai5maWxlcykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGYgPSBvYmouZmlsZXNbMF07CiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGRhdGEgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgX3RoaXM0LndvcmtCb29rRGF0YSA9IFhMU1gucmVhZChkYXRhLCB7CiAgICAgICAgICB0eXBlOiAnYmluYXJ5JwogICAgICAgIH0pOwogICAgICAgIHZhciB4bHN4RGF0YSA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbihfdGhpczQud29ya0Jvb2tEYXRhLlNoZWV0c1tfdGhpczQud29ya0Jvb2tEYXRhLlNoZWV0TmFtZXNbMF1dKTsKCiAgICAgICAgdmFyIGxpc3QxID0gX3RoaXM0LmdldEZpcnN0Um93KF90aGlzNC53b3JrQm9va0RhdGEpOwoKICAgICAgICB4bHN4RGF0YSA9IF90aGlzNC5BZGRYbHN4RGF0YSh4bHN4RGF0YSwgbGlzdDEpOwogICAgICAgIF90aGlzNC5pbXBvcnREYXRhQXJyYXkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHhsc3hEYXRhKSk7CiAgICAgICAgX3RoaXM0LiRyZWZzLmlucHV0VXBMb2FkLnZhbHVlID0gJyc7CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGYpOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+WZXhjZWznrKzkuIDooYznmoTlhoXlrrkNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRGaXJzdFJvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmlyc3RSb3cod2IpIHsKICAgICAgLy8vLyDor7vlj5bnmoRleGNlbOWNleWFg+agvOWGheWuuQogICAgICB2YXIgd2JEYXRhID0gd2IuU2hlZXRzW3diLlNoZWV0TmFtZXNbMF1dOyAvLyDljLnphY1leGNlbOesrOS4gOihjOeahOWGheWuuQoKICAgICAgdmFyIHJlID0gL15bQS1aXTEkLzsKICAgICAgdmFyIHRlbXBhcnIgPSBbXTsgLy8gZXhjZWznrKzkuIDooYzlhoXlrrnotYvlgLznu5nmlbDnu4QKCiAgICAgIGZvciAodmFyIGtleSBpbiB3YkRhdGEpIHsKICAgICAgICBpZiAod2JEYXRhLmhhc093blByb3BlcnR5KGtleSkpIHsKICAgICAgICAgIGlmIChyZS50ZXN0KGtleSkpIHsKICAgICAgICAgICAgdGVtcGFyci5wdXNoKHdiRGF0YVtrZXldLmgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRlbXBhcnI7CiAgICB9CiAgICAvKioNCiAgICAgKiDlop7liqDlr7nlupTlrZfmrrXnqbrnmb3lhoXlrrkNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJBZGRYbHN4RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gQWRkWGxzeERhdGEoeGxzeERhdGEsIGxpc3QxKSB7CiAgICAgIC8vIOepuueZveWtl+auteabv+aNouWAvAogICAgICB2YXIgYWRkRGF0YSA9IG51bGw7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhsc3hEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgLy8g6KaB6KKrSlNPTueahOaVsOe7hAogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGlzdDEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIC8vIGV4Y2Vs56ys5LiA6KGM5YaF5a65CiAgICAgICAgICBpZiAoIXhsc3hEYXRhW2ldW2xpc3QxW2pdXSkgewogICAgICAgICAgICB4bHN4RGF0YVtpXVtsaXN0MVtqXV0gPSBhZGREYXRhOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHhsc3hEYXRhOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5Zu+6KGo5omA6ZyA5Luj56CB6KGoDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0Q2hhcnRBbGxDb2RlTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldENoYXJ0QWxsQ29kZUxpc3QgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgICAgdmFyIGNvZGVMaXN0TWFwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb2RlTGlzdE1hcCA9IG5ldyBNYXAoKTsKCiAgICAgICAgICAgICAgICBpZiAoIShPYmplY3QudmFsdWVzKHRoaXMuaW1wb3J0RGF0YU1vZGVsKS5sZW5ndGggPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuaW1wb3J0RGF0YU1vZGVsKS5mb3JFYWNoKAogICAgICAgICAgICAgICAgLyojX19QVVJFX18qLwogICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHNpbmdsZURhdGFNb2RlbCkgewogICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wQ29kZUxpc3RNYXAsIHJlczsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaW5nbGVEYXRhTW9kZWwuY29kZWxpc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wQ29kZUxpc3RNYXAgPSBuZXcgTWFwKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldENvZGVMaXN0KHNpbmdsZURhdGFNb2RlbC5jb2RlbGlzdCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKGNvZGVMaXN0SXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBDb2RlTGlzdE1hcC5zZXQoY29kZUxpc3RJdGVtLnZhbHVlLCBjb2RlTGlzdEl0ZW0udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVMaXN0TWFwLnNldChzaW5nbGVEYXRhTW9kZWwuY29kZWxpc3QudGFnLCB0ZW1wQ29kZUxpc3RNYXApOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgY29kZUxpc3RNYXApOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRDaGFydEFsbENvZGVMaXN0KCkgewogICAgICAgIHJldHVybiBfZ2V0Q2hhcnRBbGxDb2RlTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0Q2hhcnRBbGxDb2RlTGlzdDsKICAgIH0oKQogICAgLyoqDQogICAgICog6I635Y+W5Luj56CB6KGoDQogICAgICoNCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fQ0KICAgICAqIEBtZW1iZXJvZiBBcHBEYXRhVXBsb2FkVmlldw0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRDb2RlTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29kZUxpc3QoY29kZUxpc3RPYmplY3QpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChjb2RlTGlzdE9iamVjdC50YWcgJiYgT2JqZWN0LmlzKGNvZGVMaXN0T2JqZWN0LnR5cGUsICJTVEFUSUMiKSkgewogICAgICAgICAgdmFyIGNvZGVsaXN0ID0gX3RoaXM2LiRzdG9yZS5nZXR0ZXJzLmdldENvZGVMaXN0KGNvZGVMaXN0T2JqZWN0LnRhZyk7CgogICAgICAgICAgaWYgKGNvZGVsaXN0KSB7CiAgICAgICAgICAgIHJlc29sdmUoX3RvQ29uc3VtYWJsZUFycmF5KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29kZWxpc3QuaXRlbXMpKSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIi0tLS0iLmNvbmNhdChjb2RlTGlzdE9iamVjdC50YWcsICItLS0tXHU0RUUzXHU3ODAxXHU4ODY4XHU0RTBEXHU1QjU4XHU1NzI4IikpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoY29kZUxpc3RPYmplY3QudGFnICYmIE9iamVjdC5pcyhjb2RlTGlzdE9iamVjdC50eXBlLCAiRFlOQU1JQyIpKSB7CiAgICAgICAgICBfdGhpczYuY29kZUxpc3RTZXJ2aWNlLmdldEl0ZW1zKGNvZGVMaXN0T2JqZWN0LnRhZykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygiLS0tLSIuY29uY2F0KGNvZGVMaXN0T2JqZWN0LnRhZywgIi0tLS1cdTRFRTNcdTc4MDFcdTg4NjhcdTRFMERcdTVCNThcdTU3MjgiKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog6L2s5YyW5pWw5o2uDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJhbnNmb3JtRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCByZXN1bHQpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgY3VyT2JqZWN0ID0ge307CiAgICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICBpZiAoX3RoaXM3LmFsbEZpZWxkTWFwLmdldChlbGUpLmNvZGVsaXN0KSB7CiAgICAgICAgICAgIHZhciBjb2RlbGlzdFRhZyA9IF90aGlzNy5hbGxGaWVsZE1hcC5nZXQoZWxlKS5jb2RlbGlzdC50YWc7CgogICAgICAgICAgICB2YXIgY29kZWxpc3RJc051bWJlciA9IF90aGlzNy5hbGxGaWVsZE1hcC5nZXQoZWxlKS5jb2RlbGlzdC5pc251bWJlcjsKCiAgICAgICAgICAgIHZhciBjdXJDb2RlTGlzdCA9IF90aGlzNy50cmFuc0NvZGVMaXN0KGNvZGVsaXN0VGFnLCBjb2RlbGlzdElzTnVtYmVyLCB0cnVlKTsKCiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJPYmplY3QsIF90aGlzNy5hbGxGaWVsZE1hcC5nZXQoZWxlKS5uYW1lLCB7CiAgICAgICAgICAgICAgdmFsdWU6IGN1ckNvZGVMaXN0LmdldChpdGVtW2VsZV0pLAogICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ck9iamVjdCwgX3RoaXM3LmFsbEZpZWxkTWFwLmdldChlbGUpLm5hbWUsIHsKICAgICAgICAgICAgICB2YWx1ZTogaXRlbVtlbGVdLAogICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJlc3VsdC5wdXNoKGN1ck9iamVjdCk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog57+76K+R5Luj56CB6KGoDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgQXBwRGF0YVVwbG9hZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidHJhbnNDb2RlTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNDb2RlTGlzdChjb2RlTGlzdFRhZywgY29kZWxpc3RJc051bWJlciwgaXNUcmFuc2Zvcm0pIHsKICAgICAgdmFyIGN1ckNvZGVMaXN0ID0gdGhpcy5hbGxDb2RlTGlzdC5nZXQoY29kZUxpc3RUYWcpOwoKICAgICAgaWYgKGlzVHJhbnNmb3JtKSB7CiAgICAgICAgdmFyIHRlbXBDb2RlbGlzdCA9IG5ldyBNYXAoKTsKICAgICAgICBjdXJDb2RlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICAgIHZhciB2YWx1ZSA9IGNvZGVsaXN0SXNOdW1iZXIgPyBOdW1iZXIoa2V5KSA6IGtleTsKICAgICAgICAgIHRlbXBDb2RlbGlzdC5zZXQoaXRlbSwgdmFsdWUpOwogICAgICAgIH0pOwogICAgICAgIGN1ckNvZGVMaXN0ID0gdGVtcENvZGVsaXN0OwogICAgICB9CgogICAgICByZXR1cm4gY3VyQ29kZUxpc3Q7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXBwRGF0YVVwbG9hZFZpZXc7Cn0oVnVlKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgQXBwRGF0YVVwbG9hZFZpZXcucHJvdG90eXBlLCAidmlld2RhdGEiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBBcHBEYXRhVXBsb2FkVmlldy5wcm90b3R5cGUsICJ2aWV3cGFyYW0iLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgndmlld3BhcmFtJywgewogIGltbWVkaWF0ZTogdHJ1ZSwKICBkZWVwOiB0cnVlCn0pXSwgQXBwRGF0YVVwbG9hZFZpZXcucHJvdG90eXBlLCAib25QYXJhbURhdGEiLCBudWxsKTsKCkFwcERhdGFVcGxvYWRWaWV3ID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnQoe30pXSwgQXBwRGF0YVVwbG9hZFZpZXcpOwpleHBvcnQgZGVmYXVsdCBBcHBEYXRhVXBsb2FkVmlldzs="},null]}