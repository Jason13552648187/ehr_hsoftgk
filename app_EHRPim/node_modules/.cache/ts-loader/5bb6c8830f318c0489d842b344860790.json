{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\trm-train-person\\main-form\\main-form-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\trm-train-person\\main-form\\main-form-base.vue","mtime":1630509413802},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0aWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5pcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIjsKaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXNzZXJ0VGhpc0luaXRpYWxpemVkIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwoKZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH0KCmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IFV0aWwgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IFRybVRyYWluUGVyc29uU2VydmljZSBmcm9tICdAL3NlcnZpY2UvdHJtLXRyYWluLXBlcnNvbi90cm0tdHJhaW4tcGVyc29uLXNlcnZpY2UnOwppbXBvcnQgTWFpblNlcnZpY2UgZnJvbSAnLi9tYWluLWZvcm0tc2VydmljZSc7CmltcG9ydCB7IEZvcm1QYWdlTW9kZWwsIEZvcm1JdGVtTW9kZWwsIEZvcm1Hcm91cFBhbmVsTW9kZWwgfSBmcm9tICdAL21vZGVsL2Zvcm0tZGV0YWlsJzsKaW1wb3J0IHsgZGVib3VuY2VUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJzsKCnZhciBNYWluQmFzZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoTWFpbkJhc2UsIF9WdWUpOwoKICBmdW5jdGlvbiBNYWluQmFzZSgpIHsKICAgIHZhciBfdGhpczI7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW5CYXNlKTsKCiAgICBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoTWFpbkJhc2UpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgLyoqDQogICAgICog6K6h5pWw5Zmo5pyN5Yqh5a+56LGh6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogICAgX3RoaXMyLmNvdW50ZXJTZXJ2aWNlQXJyYXkgPSBbXTsKICAgIC8qKg0KICAgICAqIOW7uuaehOmDqOS7tuacjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQHR5cGUge01haW5TZXJ2aWNlfQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5zZXJ2aWNlID0gbmV3IE1haW5TZXJ2aWNlKHsKICAgICAgJHN0b3JlOiBfdGhpczIuJHN0b3JlCiAgICB9KTsKICAgIC8qKg0KICAgICAqIOWunuS9k+acjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQHR5cGUge1RybVRyYWluUGVyc29uU2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYXBwRW50aXR5U2VydmljZSA9IG5ldyBUcm1UcmFpblBlcnNvblNlcnZpY2UoewogICAgICAkc3RvcmU6IF90aGlzMi4kc3RvcmUKICAgIH0pOwogICAgLyoqDQogICAgICog5bel5L2c5rWB5a6h5om55oSP6KeB5o6n5Lu257uR5a6a5YC8DQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3Jmd2ZtZW1vID0gIiI7CiAgICAvKioNCiAgICAgKiDooajljZXnirbmgIENCiAgICAgKg0KICAgICAqIEB0eXBlIHtTdWJqZWN0PGFueT59DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogICAgX3RoaXMyLmZvcm1TdGF0ZSA9IG5ldyBTdWJqZWN0KCk7CiAgICAvKioNCiAgICAgKiDlv73nlaXooajljZXpobnlgLzlj5jljJYNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pZ25vcmVmaWVsZHZhbHVlY2hhbmdlID0gZmFsc2U7CiAgICAvKioNCiAgICAgKiDmlbDmja7lj5jljJYNCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7U3ViamVjdDxhbnk+fQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5kYXRhQ2hhbmcgPSBuZXcgU3ViamVjdCgpOwogICAgLyoqDQogICAgICog5Y6f5aeL5pWw5o2uDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogICAgX3RoaXMyLm9sZERhdGEgPSB7fTsKICAgIC8qKg0KICAgICAqIOihqOWNleaVsOaNruWvueixoQ0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogICAgX3RoaXMyLmRhdGEgPSB7CiAgICAgIHNyZnVwZGF0ZWRhdGU6IG51bGwsCiAgICAgIHNyZm9yaWtleTogbnVsbCwKICAgICAgc3Jma2V5OiBudWxsLAogICAgICBzcmZtYWpvcnRleHQ6IG51bGwsCiAgICAgIHNyZnRlbXBtb2RlOiBudWxsLAogICAgICBzcmZ1ZjogbnVsbCwKICAgICAgc3JmZGVpZDogbnVsbCwKICAgICAgc3Jmc291cmNla2V5OiBudWxsLAogICAgICBwaW1wZXJzb25uYW1lOiBudWxsLAogICAgICB5Z2JoOiBudWxsLAogICAgICB4YjogbnVsbCwKICAgICAgbmo6IG51bGwsCiAgICAgIGx4ZGg6IG51bGwsCiAgICAgIHp6OiBudWxsLAogICAgICBibTogbnVsbCwKICAgICAgenc6IG51bGwsCiAgICAgIGpzZnM6IG51bGwsCiAgICAgIHNmenM6IG51bGwsCiAgICAgIGZqaDogbnVsbCwKICAgICAgdHJtdHJhaW5wbGFudGVybWlkOiBudWxsLAogICAgICB0cm10cmlhbnBlcnNvbmlkOiBudWxsLAogICAgICBwaW1wZXJzb25pZDogbnVsbCwKICAgICAgdHJtdHJhaW5wZXJzb246IG51bGwKICAgIH07CiAgICAvKioNCiAgICAgICog5b2T5YmN5omn6KGM55qE6KGM5Li66YC76L6RDQogICAgICAqDQogICAgICAqIEB0eXBlIHtzdHJpbmd9DQogICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAgKi8KCiAgICBfdGhpczIuY3VycmVudEFjdGlvbiA9ICIiOwogICAgLyoqDQogICAgICAqIOWFs+ezu+eVjOmdouiuoeaVsOWZqA0KICAgICAgKg0KICAgICAgKiBAdHlwZSB7bnVtYmVyfQ0KICAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgICovCgogICAgX3RoaXMyLmRyY291bnRlciA9IDA7CiAgICAvKioNCiAgICAgICog6ZyA6KaB562J5b6F5YWz57O755WM6Z2i5L+d5a2Y5pe277yM56ys5LiA5qyh6LCD55Soc2F2ZeWPguaVsOeahOWkh+S7vQ0KICAgICAgKg0KICAgICAgKiBAdHlwZSB7bnVtYmVyfQ0KICAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgICovCgogICAgX3RoaXMyLmRyc2F2ZW9wdCA9IHt9OwogICAgLyoqDQogICAgICog5bGe5oCn5YC86KeE5YiZDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIucnVsZXMgPSB7CiAgICAgIHNyZnVwZGF0ZWRhdGU6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaXtumXtCDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5pu05paw5pe26Ze0IOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaXtumXtCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaXtumXtCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgc3Jmb3Jpa2V5OiBbewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICcg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICcg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICcg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHNyZmtleTogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfln7norq3kurrlkZjmoIfor4Yg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBzcmZtYWpvcnRleHQ6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WPguWfueS6uuWRmCDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Y+C5Z+55Lq65ZGYIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WPguWfueS6uuWRmCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WPguWfueS6uuWRmCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgc3JmdGVtcG1vZGU6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgc3JmdWY6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgc3JmZGVpZDogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICcg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBzcmZzb3VyY2VrZXk6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAnIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJyDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgcGltcGVyc29ubmFtZTogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5aeT5ZCNIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICflp5PlkI0g5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5aeT5ZCNIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5aeT5ZCNIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICB5Z2JoOiBbewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICflkZjlt6XnvJblj7cg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WRmOW3pee8luWPtyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICflkZjlt6XnvJblj7cg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICflkZjlt6XnvJblj7cg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHhiOiBbewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfmgKfliKsg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+aAp+WIqyDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfmgKfliKsg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfmgKfliKsg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIG5qOiBbewogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICflubTpvoQg5YC85b+F6aG75Li65pWw5YC857G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgbWVzc2FnZTogJ+W5tOm+hCDlgLzlv4XpobvkuLrmlbDlgLznsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICflubTpvoQg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICflubTpvoQg5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIGx4ZGg6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBlOezu+eUteivnSDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn6IGU57O755S16K+dIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBlOezu+eUteivnSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBlOezu+eUteivnSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgeno6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WNleS9jSDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Y2V5L2NIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WNleS9jSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WNleS9jSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgYm06IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+mDqOmXqCDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn6YOo6ZeoIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+mDqOmXqCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+mDqOmXqCDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgenc6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBjOWKoSDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn6IGM5YqhIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBjOWKoSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+iBjOWKoSDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAganNmczogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5o6l6YCB5pa55byPIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfmjqXpgIHmlrnlvI8g5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5o6l6YCB5pa55byPIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5o6l6YCB5pa55byPIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBzZnpzOiBbewogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICfmmK/lkKbkvY/lrr8g5YC85b+F6aG75Li65pWw5YC857G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgbWVzc2FnZTogJ+aYr+WQpuS9j+WuvyDlgLzlv4XpobvkuLrmlbDlgLznsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICfmmK/lkKbkvY/lrr8g5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9LCB7CiAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdudW1iZXInLAogICAgICAgIG1lc3NhZ2U6ICfmmK/lkKbkvY/lrr8g5YC85LiN6IO95Li656m6JywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIGZqaDogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5oi/6Ze05Y+3IOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfmiL/pl7Tlj7cg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5oi/6Ze05Y+3IOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5oi/6Ze05Y+3IOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICB0cm10cmFpbnBsYW50ZXJtaWQ6IFt7CiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WfueiureiuoeWIkumhueagh+ivhiDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t6K6h5YiS6aG55qCH6K+GIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WfueiureiuoeWIkumhueagh+ivhiDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnCiAgICAgIH0sIHsKICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ3N0cmluZycsCiAgICAgICAgbWVzc2FnZTogJ+WfueiureiuoeWIkumhueagh+ivhiDlgLzkuI3og73kuLrnqbonLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XSwKICAgICAgdHJtdHJpYW5wZXJzb25pZDogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfln7norq3kurrlkZjmoIfor4Yg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Z+56K6t5Lq65ZGY5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBwaW1wZXJzb25pZDogW3sKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Lq65ZGY5L+h5oGv5qCH6K+GIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdzdHJpbmcnLAogICAgICAgIG1lc3NhZ2U6ICfkurrlkZjkv6Hmga/moIfor4Yg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Lq65ZGY5L+h5oGv5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfSwgewogICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICBtZXNzYWdlOiAn5Lq65ZGY5L+h5oGv5qCH6K+GIOWAvOS4jeiDveS4uuepuicsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dCiAgICB9OwogICAgLyoqDQogICAgICog6K+m5oOF5qih5Z6L6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZGV0YWlsc01vZGVsID0gewogICAgICBncm91cDE6IG5ldyBGb3JtR3JvdXBQYW5lbE1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5Z+56K6t5Lq65ZGY5Z+65pys5L+h5oGvJywKICAgICAgICBkZXRhaWxUeXBlOiAnR1JPVVBQQU5FTCcsCiAgICAgICAgbmFtZTogJ2dyb3VwMScsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICB1aUFjdGlvbkdyb3VwOiB7CiAgICAgICAgICBjYXB0aW9uOiAnJywKICAgICAgICAgIGxhbmdiYXNlOiAnZW50aXRpZXMudHJtdHJhaW5wZXJzb24ubWFpbl9mb3JtJywKICAgICAgICAgIGV4dHJhY3RNb2RlOiAnSVRFTScsCiAgICAgICAgICBkZXRhaWxzOiBbXQogICAgICAgIH0KICAgICAgfSksCiAgICAgIGZvcm1wYWdlMTogbmV3IEZvcm1QYWdlTW9kZWwoewogICAgICAgIGNhcHRpb246ICfln7rmnKzkv6Hmga8nLAogICAgICAgIGRldGFpbFR5cGU6ICdGT1JNUEFHRScsCiAgICAgICAgbmFtZTogJ2Zvcm1wYWdlMScsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKQogICAgICB9KSwKICAgICAgc3JmdXBkYXRlZGF0ZTogbmV3IEZvcm1JdGVtTW9kZWwoewogICAgICAgIGNhcHRpb246ICfmm7TmlrDml7bpl7QnLAogICAgICAgIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsCiAgICAgICAgbmFtZTogJ3NyZnVwZGF0ZWRhdGUnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHNyZm9yaWtleTogbmV3IEZvcm1JdGVtTW9kZWwoewogICAgICAgIGNhcHRpb246ICcnLAogICAgICAgIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsCiAgICAgICAgbmFtZTogJ3NyZm9yaWtleScsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlQ29uZDogMwogICAgICB9KSwKICAgICAgc3Jma2V5OiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+WfueiureS6uuWRmOagh+ivhicsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnc3Jma2V5JywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICBzcmZtYWpvcnRleHQ6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5Y+C5Z+55Lq65ZGYJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICdzcmZtYWpvcnRleHQnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHNyZnRlbXBtb2RlOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJycsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnc3JmdGVtcG1vZGUnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHNyZnVmOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJycsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnc3JmdWYnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHNyZmRlaWQ6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAnJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICdzcmZkZWlkJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICBzcmZzb3VyY2VrZXk6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAnJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICdzcmZzb3VyY2VrZXknLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHBpbXBlcnNvbm5hbWU6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5aeT5ZCNJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICdwaW1wZXJzb25uYW1lJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICB5Z2JoOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+WRmOW3pee8luWPtycsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAneWdiaCcsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlQ29uZDogMwogICAgICB9KSwKICAgICAgeGI6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5oCn5YirJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICd4YicsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlQ29uZDogMwogICAgICB9KSwKICAgICAgbmo6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5bm06b6EJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICduaicsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlQ29uZDogMwogICAgICB9KSwKICAgICAgbHhkaDogbmV3IEZvcm1JdGVtTW9kZWwoewogICAgICAgIGNhcHRpb246ICfogZTns7vnlLXor50nLAogICAgICAgIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsCiAgICAgICAgbmFtZTogJ2x4ZGgnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHp6OiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+WNleS9jScsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnenonLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIGJtOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+mDqOmXqCcsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnYm0nLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHp3OiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+iBjOWKoScsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnencnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIGpzZnM6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5o6l6YCB5pa55byPJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICdqc2ZzJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICBzZnpzOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+aYr+WQpuS9j+WuvycsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnc2Z6cycsCiAgICAgICAgdmlzaWJsZTogdHJ1ZSwKICAgICAgICBpc1Nob3dDYXB0aW9uOiB0cnVlLAogICAgICAgIGZvcm06IF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgZW5hYmxlQ29uZDogMwogICAgICB9KSwKICAgICAgZmpoOiBuZXcgRm9ybUl0ZW1Nb2RlbCh7CiAgICAgICAgY2FwdGlvbjogJ+aIv+mXtOWPtycsCiAgICAgICAgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywKICAgICAgICBuYW1lOiAnZmpoJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICB0cm10cmFpbnBsYW50ZXJtaWQ6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5Z+56K6t6K6h5YiS6aG55qCH6K+GJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICd0cm10cmFpbnBsYW50ZXJtaWQnLAogICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgaXNTaG93Q2FwdGlvbjogdHJ1ZSwKICAgICAgICBmb3JtOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIGVuYWJsZUNvbmQ6IDMKICAgICAgfSksCiAgICAgIHRybXRyaWFucGVyc29uaWQ6IG5ldyBGb3JtSXRlbU1vZGVsKHsKICAgICAgICBjYXB0aW9uOiAn5Z+56K6t5Lq65ZGY5qCH6K+GJywKICAgICAgICBkZXRhaWxUeXBlOiAnRk9STUlURU0nLAogICAgICAgIG5hbWU6ICd0cm10cmlhbnBlcnNvbmlkJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pLAogICAgICBwaW1wZXJzb25pZDogbmV3IEZvcm1JdGVtTW9kZWwoewogICAgICAgIGNhcHRpb246ICfkurrlkZjkv6Hmga/moIfor4YnLAogICAgICAgIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsCiAgICAgICAgbmFtZTogJ3BpbXBlcnNvbmlkJywKICAgICAgICB2aXNpYmxlOiB0cnVlLAogICAgICAgIGlzU2hvd0NhcHRpb246IHRydWUsCiAgICAgICAgZm9ybTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpczIpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICBlbmFibGVDb25kOiAzCiAgICAgIH0pCiAgICB9OwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgLyoqDQogICAqIOiOt+WPlumDqOS7tuexu+Weiw0KICAgKg0KICAgKiBAcmV0dXJucyB7c3RyaW5nfQ0KICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoTWFpbkJhc2UsIFt7CiAgICBrZXk6ICJnZXRDb250cm9sVHlwZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29udHJvbFR5cGUoKSB7CiAgICAgIHJldHVybiAnRk9STSc7CiAgICB9CiAgICAvKioNCiAgICAgKiDlhbPpl63op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55fSBhcmdzDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNsb3NlVmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VWaWV3KGFyZ3MpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLiRlbWl0KCdjbG9zZXZpZXcnLCBbYXJnc10pOwogICAgfQogICAgLyoqDQogICAgICogIOiuoeaVsOWZqOWIt+aWsA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNvdW50ZXJSZWZyZXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudGVyUmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5jb3VudGVyU2VydmljZUFycmF5ICYmIF90aGlzLmNvdW50ZXJTZXJ2aWNlQXJyYXkubGVuZ3RoID4gMCkgewogICAgICAgIF90aGlzLmNvdW50ZXJTZXJ2aWNlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0ucmVmcmVzaERhdGEgJiYgaXRlbS5yZWZyZXNoRGF0YSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGl0ZW0ucmVmcmVzaERhdGEoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5aSa6aG55pWw5o2uDQogICAgICoNCiAgICAgKiBAcmV0dXJucyB7YW55W119DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldERhdGFzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhcygpIHsKICAgICAgcmV0dXJuIFt0aGlzLmRhdGFdOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5Y2V6aG55qCRDQogICAgICoNCiAgICAgKiBAcmV0dXJucyB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBzcmZ1cGRhdGVkYXRlIOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNyZnVwZGF0ZWRhdGVDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3JmdXBkYXRlZGF0ZUNoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnc3JmdXBkYXRlZGF0ZScsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgc3Jmb3Jpa2V5IOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNyZm9yaWtleUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcmZvcmlrZXlDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3NyZm9yaWtleScsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgc3Jma2V5IOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNyZmtleUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcmZrZXlDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3NyZmtleScsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgc3JmbWFqb3J0ZXh0IOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNyZm1ham9ydGV4dENoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcmZtYWpvcnRleHRDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3NyZm1ham9ydGV4dCcsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgc3JmdGVtcG1vZGUg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU3JmdGVtcG1vZGVDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3JmdGVtcG1vZGVDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3NyZnRlbXBtb2RlJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBzcmZ1ZiDlgLwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25TcmZ1ZkNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcmZ1ZkNoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnc3JmdWYnLAogICAgICAgIG5ld1ZhbDogbmV3VmFsLAogICAgICAgIG9sZFZhbDogb2xkVmFsCiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog55uR5o6n6KGo5Y2V5bGe5oCnIHNyZmRlaWQg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU3JmZGVpZENoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TcmZkZWlkQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuZm9ybURhdGFDaGFuZ2UoewogICAgICAgIG5hbWU6ICdzcmZkZWlkJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBzcmZzb3VyY2VrZXkg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU3Jmc291cmNla2V5Q2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNyZnNvdXJjZWtleUNoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnc3Jmc291cmNla2V5JywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBwaW1wZXJzb25uYW1lIOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblBpbXBlcnNvbm5hbWVDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGltcGVyc29ubmFtZUNoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAncGltcGVyc29ubmFtZScsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgeWdiaCDlgLwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25ZZ2JoQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbllnYmhDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3lnYmgnLAogICAgICAgIG5ld1ZhbDogbmV3VmFsLAogICAgICAgIG9sZFZhbDogb2xkVmFsCiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog55uR5o6n6KGo5Y2V5bGe5oCnIHhiIOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblhiQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblhiQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuZm9ybURhdGFDaGFuZ2UoewogICAgICAgIG5hbWU6ICd4YicsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgbmog5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uTmpDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uTmpDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ25qJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBseGRoIOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvbkx4ZGhDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uTHhkaENoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnbHhkaCcsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgenog5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uWnpDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uWnpDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3p6JywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBibSDlgLwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25CbUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbUNoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnYm0nLAogICAgICAgIG5ld1ZhbDogbmV3VmFsLAogICAgICAgIG9sZFZhbDogb2xkVmFsCiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog55uR5o6n6KGo5Y2V5bGe5oCnIHp3IOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblp3Q2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblp3Q2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuZm9ybURhdGFDaGFuZ2UoewogICAgICAgIG5hbWU6ICd6dycsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcganNmcyDlgLwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25Kc2ZzQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkpzZnNDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ2pzZnMnLAogICAgICAgIG5ld1ZhbDogbmV3VmFsLAogICAgICAgIG9sZFZhbDogb2xkVmFsCiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog55uR5o6n6KGo5Y2V5bGe5oCnIHNmenMg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU2Z6c0NoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZnpzQ2hhbmdlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIHRoaXMuZm9ybURhdGFDaGFuZ2UoewogICAgICAgIG5hbWU6ICdzZnpzJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBmamgg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uRmpoQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZqaENoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAnZmpoJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyB0cm10cmFpbnBsYW50ZXJtaWQg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uVHJtdHJhaW5wbGFudGVybWlkQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblRybXRyYWlucGxhbnRlcm1pZENoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAndHJtdHJhaW5wbGFudGVybWlkJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOebkeaOp+ihqOWNleWxnuaApyB0cm10cmlhbnBlcnNvbmlkIOWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblRybXRyaWFucGVyc29uaWRDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uVHJtdHJpYW5wZXJzb25pZENoYW5nZShuZXdWYWwsIG9sZFZhbCkgewogICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsKICAgICAgICBuYW1lOiAndHJtdHJpYW5wZXJzb25pZCcsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgcGltcGVyc29uaWQg5YC8DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uUGltcGVyc29uaWRDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUGltcGVyc29uaWRDaGFuZ2UobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7CiAgICAgICAgbmFtZTogJ3BpbXBlcnNvbmlkJywKICAgICAgICBuZXdWYWw6IG5ld1ZhbCwKICAgICAgICBvbGRWYWw6IG9sZFZhbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmHjee9ruihqOWNlemhueWAvA0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7eyBuYW1lOiBzdHJpbmcsIG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSB9fSB7IG5hbWUsIG5ld1ZhbCwgb2xkVmFsIH0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicmVzZXRGb3JtRGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRGb3JtRGF0YShfcmVmKSB7CiAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLAogICAgICAgICAgbmV3VmFsID0gX3JlZi5uZXdWYWwsCiAgICAgICAgICBvbGRWYWwgPSBfcmVmLm9sZFZhbDsKICAgIH0KICAgIC8qKg0KICAgICAgKiDnva7nqbrlr7nosaENCiAgICAgICoNCiAgICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUmVzZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBSZXNldERhdGEoX2RhdGFzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKE9iamVjdC5rZXlzKF9kYXRhcykubGVuZ3RoID4gMCkgewogICAgICAgIE9iamVjdC5rZXlzKF9kYXRhcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgaWYgKF90aGlzMy5kYXRhLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIF90aGlzMy5kYXRhW25hbWVdID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6KGo5Y2V6YC76L6RDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHt7IG5hbWU6IHN0cmluZywgbmV3VmFsOiBhbnksIG9sZFZhbDogYW55IH19IHsgbmFtZSwgbmV3VmFsLCBvbGRWYWwgfQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJmb3JtTG9naWMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1Mb2dpYyhfcmVmMikgewogICAgICB2YXIgbmFtZSA9IF9yZWYyLm5hbWUsCiAgICAgICAgICBuZXdWYWwgPSBfcmVmMi5uZXdWYWwsCiAgICAgICAgICBvbGRWYWwgPSBfcmVmMi5vbGRWYWw7CiAgICB9CiAgICAvKioNCiAgICAgKiDooajljZXlgLzlj5jljJYNCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAcGFyYW0ge3sgbmFtZTogc3RyaW5nLCBuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkgfX0geyBuYW1lLCBuZXdWYWwsIG9sZFZhbCB9DQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImZvcm1EYXRhQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtRGF0YUNoYW5nZShfcmVmMykgewogICAgICB2YXIgbmFtZSA9IF9yZWYzLm5hbWUsCiAgICAgICAgICBuZXdWYWwgPSBfcmVmMy5uZXdWYWwsCiAgICAgICAgICBvbGRWYWwgPSBfcmVmMy5vbGRWYWw7CgogICAgICBpZiAodGhpcy5pZ25vcmVmaWVsZHZhbHVlY2hhbmdlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnJlc2V0Rm9ybURhdGEoewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgb2xkVmFsOiBvbGRWYWwKICAgICAgfSk7CiAgICAgIHRoaXMuZm9ybUxvZ2ljKHsKICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgIG5ld1ZhbDogbmV3VmFsLAogICAgICAgIG9sZFZhbDogb2xkVmFsCiAgICAgIH0pOwogICAgICB0aGlzLmRhdGFDaGFuZy5uZXh0KEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpOwogICAgfQogICAgLyoqDQogICAgICog6KGo5Y2V5Yqg6L295a6M5oiQDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0NCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2FjdGlvbl0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25Gb3JtTG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb3JtTG9hZCgpIHsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIGlmIChPYmplY3QuaXMoYWN0aW9uLCAic2F2ZSIpIHx8IE9iamVjdC5pcyhhY3Rpb24sICJhdXRvU2F2ZSIpIHx8IE9iamVjdC5pcyhhY3Rpb24sICJzdWJtaXQiKSkgLy8g5pu05pawY29udGV4dOeahOWunuS9k+S4u+mUrgogICAgICAgIGlmIChkYXRhLnRybXRyYWlucGVyc29uKSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udGV4dCwgewogICAgICAgICAgICB0cm10cmFpbnBlcnNvbjogZGF0YS50cm10cmFpbnBlcnNvbgogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB0aGlzLnNldEZvcm1FbmFibGVDb25kKGRhdGEpOwogICAgICB0aGlzLmZpbGxGb3JtKGRhdGEsIGFjdGlvbik7CiAgICAgIHRoaXMub2xkRGF0YSA9IHt9OwogICAgICBPYmplY3QuYXNzaWduKHRoaXMub2xkRGF0YSwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndmlld2FjdGlvbi9zZXRWaWV3RGF0YUNoYW5nZScsIHsKICAgICAgICB2aWV3dGFnOiB0aGlzLnZpZXd0YWcsCiAgICAgICAgdmlld2RhdGFjaGFuZ2U6IGZhbHNlCiAgICAgIH0pOwogICAgICB0aGlzLmZvcm1Mb2dpYyh7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgbmV3VmFsOiBudWxsLAogICAgICAgIG9sZFZhbDogbnVsbAogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWAvOWhq+WFhQ0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbX2RhdGFzPXt9XQ0KICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbYWN0aW9uXQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJmaWxsRm9ybSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmlsbEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIF9kYXRhcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHRoaXMuaWdub3JlZmllbGR2YWx1ZWNoYW5nZSA9IHRydWU7CiAgICAgIE9iamVjdC5rZXlzKF9kYXRhcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgIGlmIChfdGhpczQuZGF0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgX3RoaXM0LmRhdGFbbmFtZV0gPSBfZGF0YXNbbmFtZV07CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChPYmplY3QuaXMoYWN0aW9uLCAnbG9hZERyYWZ0JykpIHsKICAgICAgICB0aGlzLmNyZWF0ZURlZmF1bHQoKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhhY3Rpb24sICdsb2FkJykpIHsKICAgICAgICB0aGlzLnVwZGF0ZURlZmF1bHQoKTsKICAgICAgfQoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuaWdub3JlZmllbGR2YWx1ZWNoYW5nZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOiuvue9ruihqOWNlemhueaYr+WQpuWQr+eUqA0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7Kn0gZGF0YQ0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZXRGb3JtRW5hYmxlQ29uZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Rm9ybUVuYWJsZUNvbmQoZGF0YSkgewogICAgICBPYmplY3QudmFsdWVzKHRoaXMuZGV0YWlsc01vZGVsKS5mb3JFYWNoKGZ1bmN0aW9uIChkZXRhaWwpIHsKICAgICAgICBpZiAoIU9iamVjdC5pcyhkZXRhaWwuZGV0YWlsVHlwZSwgJ0ZPUk1JVEVNJykpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBmb3JtSXRlbSA9IGRldGFpbDsKICAgICAgICBmb3JtSXRlbS5zZXRFbmFibGVDb25kKGRhdGEuc3JmdWYpOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmHjee9ruiNieeov+ihqOWNleeKtuaAgQ0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZXNldERyYWZ0Rm9ybVN0YXRlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXREcmFmdEZvcm1TdGF0ZXMoKSB7CiAgICAgIHZhciBmb3JtID0gdGhpcy4kcmVmcy5mb3JtOwoKICAgICAgaWYgKGZvcm0pIHsKICAgICAgICBmb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOmHjee9ruagoemqjOe7k+aenA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInJlc2V0VmFsaWRhdGVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFZhbGlkYXRlcygpIHsKICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmRldGFpbHNNb2RlbCkuZm9yRWFjaChmdW5jdGlvbiAoZGV0YWlsKSB7CiAgICAgICAgaWYgKCFPYmplY3QuaXMoZGV0YWlsLmRldGFpbFR5cGUsICdGT1JNSVRFTScpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZm9ybUl0ZW0gPSBkZXRhaWw7CiAgICAgICAgZm9ybUl0ZW0uc2V0RXJyb3IoJycpOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWhq+WFheagoemqjOe7k+aenCDvvIjlkI7lj7DvvIkNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGZpZWxkRXJyb3JzDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImZpbGxWYWxpZGF0ZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbGxWYWxpZGF0ZXMoZmllbGRFcnJvcnMpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBmaWVsZEVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZhciBmb3JtSXRlbSA9IF90aGlzNS5kZXRhaWxzTW9kZWxbZXJyb3IuZmllbGRdOwoKICAgICAgICBpZiAoIWZvcm1JdGVtKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdGhpczUuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZvcm1JdGVtLnNldEVycm9yKGVycm9yLm1lc3NhZ2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOihqOWNleagoemqjOeKtuaAgQ0KICAgICAqDQogICAgICogQHJldHVybnMge2Jvb2xlYW59DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImZvcm1WYWxpZGF0ZVN0YXR1cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybVZhbGlkYXRlU3RhdHVzKCkgewogICAgICB2YXIgZm9ybSA9IHRoaXMuJHJlZnMuZm9ybTsKICAgICAgdmFyIHZhbGlkYXRlc3RhdGUgPSB0cnVlOwogICAgICBmb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIHZhbGlkYXRlc3RhdGUgPSB2YWxpZCA/IHRydWUgOiBmYWxzZTsKICAgICAgfSk7CiAgICAgIHJldHVybiB2YWxpZGF0ZXN0YXRlOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5YWo6YOo5YC8DQogICAgICoNCiAgICAgKiBAcmV0dXJucyB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0VmFsdWVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZXMoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGE7CiAgICB9CiAgICAvKioNCiAgICAgKiDooajljZXpobnlgLzlj5jmm7QNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7eyBuYW1lOiBzdHJpbmcsIHZhbHVlOiBhbnkgfX0gJGV2ZW50DQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uRm9ybUl0ZW1WYWx1ZUNoYW5nZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb3JtSXRlbVZhbHVlQ2hhbmdlKCRldmVudCkgewogICAgICBpZiAoISRldmVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCEkZXZlbnQubmFtZSB8fCBPYmplY3QuaXMoJGV2ZW50Lm5hbWUsICcnKSB8fCAhdGhpcy5kYXRhLmhhc093blByb3BlcnR5KCRldmVudC5uYW1lKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5kYXRhWyRldmVudC5uYW1lXSA9ICRldmVudC52YWx1ZTsKICAgIH0KICAgIC8qKg0KICAgICAqIOiuvue9ruaVsOaNrumhueWAvA0KICAgICAqDQogICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUNCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNldERhdGFJdGVtVmFsdWUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGFJdGVtVmFsdWUobmFtZSwgdmFsdWUpIHsKICAgICAgaWYgKCFuYW1lIHx8IE9iamVjdC5pcyhuYW1lLCAnJykgfHwgIXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyh0aGlzLmRhdGFbbmFtZV0sIHZhbHVlKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5kYXRhW25hbWVdID0gdmFsdWU7CiAgICB9CiAgICAvKioNCiAgICAgKiDliIbnu4TnlYzpnaLooYzkuLrkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyb3VwVUlBY3Rpb25DbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JvdXBVSUFjdGlvbkNsaWNrKCRldmVudCkgewogICAgICBpZiAoISRldmVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGl0ZW0gPSAkZXZlbnQuaXRlbTsKICAgIH0KICAgIC8qKg0KICAgICAqIFZ1ZeWjsOaYjuWRqOacnyjlpITnkIbnu4Tku7bnmoTovpPlhaXlsZ7mgKcpDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdGhpcy5hZnRlckNyZWF0ZWQoKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJp+ihjGNyZWF0ZWTlkI7nmoTpgLvovpENCiAgICAgKg0KICAgICAqICBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWZ0ZXJDcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlckNyZWF0ZWQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMudmlld1N0YXRlKSB7CiAgICAgICAgdGhpcy52aWV3U3RhdGVFdmVudCA9IHRoaXMudmlld1N0YXRlLnN1YnNjcmliZShmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICAgIHZhciB0YWcgPSBfcmVmNC50YWcsCiAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uLAogICAgICAgICAgICAgIGRhdGEgPSBfcmVmNC5kYXRhOwoKICAgICAgICAgIGlmICghT2JqZWN0LmlzKHRhZywgX3RoaXM2Lm5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmlzKCdhdXRvbG9hZCcsIGFjdGlvbikpIHsKICAgICAgICAgICAgX3RoaXM2LmF1dG9Mb2FkKGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ2xvYWQnLCBhY3Rpb24pKSB7CiAgICAgICAgICAgIF90aGlzNi5sb2FkKGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ2xvYWRkcmFmdCcsIGFjdGlvbikpIHsKICAgICAgICAgICAgaWYgKF90aGlzNi5jb250ZXh0LnNyZnNvdXJjZWtleSkgewogICAgICAgICAgICAgIF90aGlzNi5jb3B5KF90aGlzNi5jb250ZXh0LnNyZnNvdXJjZWtleSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM2LmxvYWREcmFmdChkYXRhKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ3NhdmUnLCBhY3Rpb24pKSB7CiAgICAgICAgICAgIF90aGlzNi5zYXZlKGRhdGEsIGRhdGEuc2hvd1Jlc3VsdEluZm8pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ3JlbW92ZScsIGFjdGlvbikpIHsKICAgICAgICAgICAgX3RoaXM2LnJlbW92ZShkYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmlzKCdzYXZlYW5kZXhpdCcsIGFjdGlvbikpIHsKICAgICAgICAgICAgX3RoaXM2LnNhdmVBbmRFeGl0KGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ3NhdmVhbmRuZXcnLCBhY3Rpb24pKSB7CiAgICAgICAgICAgIF90aGlzNi5zYXZlQW5kTmV3KGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ3JlbW92ZWFuZGV4aXQnLCBhY3Rpb24pKSB7CiAgICAgICAgICAgIF90aGlzNi5yZW1vdmVBbmRFeGl0KGRhdGEpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMoJ3JlZnJlc2gnLCBhY3Rpb24pKSB7CiAgICAgICAgICAgIF90aGlzNi5yZWZyZXNoKGRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmRhdGFDaGFuZy5waXBlKGRlYm91bmNlVGltZSgzMDApLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoX3RoaXM2LmF1dG9zYXZlKSB7CiAgICAgICAgICBfdGhpczYuYXV0b1NhdmUoKTsKICAgICAgICB9CgogICAgICAgIHZhciBzdGF0ZSA9ICFPYmplY3QuaXMoSlNPTi5zdHJpbmdpZnkoX3RoaXM2Lm9sZERhdGEpLCBKU09OLnN0cmluZ2lmeShfdGhpczYuZGF0YSkpID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICBfdGhpczYuJHN0b3JlLmNvbW1pdCgndmlld2FjdGlvbi9zZXRWaWV3RGF0YUNoYW5nZScsIHsKICAgICAgICAgIHZpZXd0YWc6IF90aGlzNi52aWV3dGFnLAogICAgICAgICAgdmlld2RhdGFjaGFuZ2U6IHN0YXRlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICogdnVlIOeUn+WRveWRqOacnw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlc3Ryb3llZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICB0aGlzLmFmdGVyRGVzdHJveSgpOwogICAgfQogICAgLyoqDQogICAgICog5omn6KGMZGVzdHJveWVk5ZCO55qE6YC76L6RDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiYWZ0ZXJEZXN0cm95IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlckRlc3Ryb3koKSB7CiAgICAgIGlmICh0aGlzLnZpZXdTdGF0ZUV2ZW50KSB7CiAgICAgICAgdGhpcy52aWV3U3RhdGVFdmVudC51bnN1YnNjcmliZSgpOwogICAgICB9CgogICAgICBpZiAodGhpcy5kYXRhQ2hhbmdFdmVudCkgewogICAgICAgIHRoaXMuZGF0YUNoYW5nRXZlbnQudW5zdWJzY3JpYmUoKTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5ou36LSd5YaF5a65DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmc9e31dDQogICAgICogQG1lbWJlcm9mIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjb3B5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3B5KHNyZmtleSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHZhciBjb3B5RGF0YSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q29weURhdGEoc3Jma2V5KTsKICAgICAgY29weURhdGEuc3Jma2V5ID0gVXRpbC5jcmVhdGVVVUlEKCk7CiAgICAgIGNvcHlEYXRhLnRybXRyYWlucGVyc29uID0gY29weURhdGEuc3Jma2V5OwogICAgICBjb3B5RGF0YS50cm10cmlhbnBlcnNvbmlkID0gY29weURhdGEuc3Jma2V5OwogICAgICBPYmplY3QuYXNzaWduKHRoaXMuY29udGV4dCwgewogICAgICAgIHRybXRyYWlucGVyc29uOiBjb3B5RGF0YS50cm10cmFpbnBlcnNvbgogICAgICB9KTsKICAgICAgdGhpcy5kYXRhID0gY29weURhdGE7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczcuZm9ybVN0YXRlLm5leHQoewogICAgICAgICAgdHlwZTogJ2xvYWQnLAogICAgICAgICAgZGF0YTogY29weURhdGEKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM3LmRhdGEuc3JmdWYgPSAnMCc7CgogICAgICAgIF90aGlzNy5zZXRGb3JtRW5hYmxlQ29uZChfdGhpczcuZGF0YSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICrmiZPljbANCiAgICAgKkBtZW1iZXJvZiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicHJpbnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHByaW50KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuJHByaW50KHsKICAgICAgICBpZDogJ3RybXRyYWlucGVyc29uX21haW4nLAogICAgICAgIHBvcFRpdGxlOiAn5Li757yW6L6R6KGo5Y2VJwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmDqOS7tuWIt+aWsA0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKGFyZ3MpIHsKICAgICAgdmFyIGFyZyA9IHt9OwogICAgICBPYmplY3QuYXNzaWduKGFyZywgYXJnc1swXSk7CgogICAgICBpZiAodGhpcy5kYXRhLnNyZmtleSAmJiAhT2JqZWN0LmlzKHRoaXMuZGF0YS5zcmZrZXksICcnKSkgewogICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgICBzcmZrZXk6IHRoaXMuZGF0YS5zcmZrZXkKICAgICAgICB9KTsKICAgICAgICB0aGlzLmxvYWQoYXJnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGEuc3Jma2V5cyAmJiAhT2JqZWN0LmlzKHRoaXMuZGF0YS5zcmZrZXlzLCAnJykpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGFyZywgewogICAgICAgICAgc3Jma2V5OiB0aGlzLmRhdGEuc3Jma2V5cwogICAgICAgIH0pOwogICAgICAgIHRoaXMubG9hZChhcmcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6Ieq5Yqo5Yqg6L29DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmc9e31dDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImF1dG9Mb2FkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRvTG9hZCgpIHsKICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICBpZiAoYXJnLnNyZmtleSAmJiAhT2JqZWN0LmlzKGFyZy5zcmZrZXksICcnKSkgewogICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgICBzcmZrZXk6IGFyZy5zcmZrZXkKICAgICAgICB9KTsKICAgICAgICB0aGlzLmxvYWQoYXJnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChhcmcuc3Jma2V5cyAmJiAhT2JqZWN0LmlzKGFyZy5zcmZrZXlzLCAnJykpIHsKICAgICAgICBPYmplY3QuYXNzaWduKGFyZywgewogICAgICAgICAgc3Jma2V5OiBhcmcuc3Jma2V5cwogICAgICAgIH0pOwogICAgICAgIHRoaXMubG9hZChhcmcpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkRHJhZnQoYXJnKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWKoOi9vQ0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7Kn0gW29wdD17fV0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgb3B0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgIGlmICghdGhpcy5sb2FkQWN0aW9uKSB7CiAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgIGRlc2M6ICdUUk1UUklBTlBFUlNPTkVkaXRWaWV36KeG5Zu+6KGo5Y2VbG9hZEFjdGlvbuWPguaVsOacqumFjee9ricKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBhcmcgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcHQpOwoKICAgICAgdmFyIHZpZXdwYXJhbVJlc3VsdCA9IE9iamVjdC5hc3NpZ24oYXJnLCB0aGlzLnZpZXdwYXJhbXMpOwogICAgICB2YXIgZ2V0ID0gdGhpcy5zZXJ2aWNlLmdldCh0aGlzLmxvYWRBY3Rpb24sIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSksIHsKICAgICAgICB2aWV3cGFyYW1zOiB2aWV3cGFyYW1SZXN1bHQKICAgICAgfSwgdGhpcy5zaG93QnVzeUluZGljYXRvcik7CiAgICAgIGdldC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgIF90aGlzOC5vbkZvcm1Mb2FkKGRhdGEsICdsb2FkJyk7CgogICAgICAgICAgX3RoaXM4LiRlbWl0KCdsb2FkJywgZGF0YSk7CgogICAgICAgICAgX3RoaXM4LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzOC5mb3JtU3RhdGUubmV4dCh7CiAgICAgICAgICAgICAgdHlwZTogJ2xvYWQnLAogICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgX3RoaXM4LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpczguJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgZGVzYzogJ+ezu+e7n+W8guW4uCcKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog5Yqg6L296I2J56i/DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtvcHQ9e31dDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImxvYWREcmFmdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZERyYWZ0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgaWYgKCF0aGlzLmxvYWRkcmFmdEFjdGlvbikgewogICAgICAgIHRoaXMuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBkZXNjOiAnVFJNVFJJQU5QRVJTT05FZGl0Vmlld+inhuWbvuihqOWNlWxvYWRkcmFmdEFjdGlvbuWPguaVsOacqumFjee9ricKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBhcmcgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcHQpOwoKICAgICAgdmFyIHZpZXdwYXJhbVJlc3VsdCA9IE9iamVjdC5hc3NpZ24oYXJnLCB0aGlzLnZpZXdwYXJhbXMpOwogICAgICB2YXIgcG9zdCA9IHRoaXMuc2VydmljZS5sb2FkRHJhZnQodGhpcy5sb2FkZHJhZnRBY3Rpb24sIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSksIHsKICAgICAgICB2aWV3cGFyYW1zOiB2aWV3cGFyYW1SZXN1bHQKICAgICAgfSwgdGhpcy5zaG93QnVzeUluZGljYXRvcik7CiAgICAgIHBvc3QudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgX3RoaXM5LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICBkZXNjOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAoZGF0YS50cm10cmFpbnBlcnNvbikgewogICAgICAgICAgT2JqZWN0LmFzc2lnbihfdGhpczkuY29udGV4dCwgewogICAgICAgICAgICB0cm10cmFpbnBlcnNvbjogZGF0YS50cm10cmFpbnBlcnNvbgogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczkucmVzZXREcmFmdEZvcm1TdGF0ZXMoKTsKCiAgICAgICAgX3RoaXM5Lm9uRm9ybUxvYWQoZGF0YSwgJ2xvYWREcmFmdCcpOwoKICAgICAgICBfdGhpczkuJGVtaXQoJ2xvYWQnLCBkYXRhKTsKCiAgICAgICAgX3RoaXM5LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczkuZm9ybVN0YXRlLm5leHQoewogICAgICAgICAgICB0eXBlOiAnbG9hZCcsCiAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBmb3JtID0gX3RoaXM5LiRyZWZzLmZvcm07CgogICAgICAgICAgaWYgKGZvcm0pIHsKICAgICAgICAgICAgZm9ybS5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHsKICAgICAgICAgICAgICBmaWVsZC52YWxpZGF0ZU1lc3NhZ2UgPSAiIjsKICAgICAgICAgICAgICBmaWVsZC52YWxpZGF0ZVN0YXRlID0gIiI7CiAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGVTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgX3RoaXM5LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpczkuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgZGVzYzogJ+ezu+e7n+W8guW4uCcKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog6Ieq5Yqo5L+d5a2YDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtvcHQ9e31dDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImF1dG9TYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhdXRvU2F2ZSgpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgdmFyIG9wdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICBpZiAoIXRoaXMuZm9ybVZhbGlkYXRlU3RhdHVzKCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBhcmcgPSBfb2JqZWN0U3ByZWFkKHt9LCBvcHQpOwoKICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldFZhbHVlcygpOwogICAgICBPYmplY3QuYXNzaWduKGFyZywgZGF0YSk7CiAgICAgIHZhciBhY3Rpb24gPSBPYmplY3QuaXMoZGF0YS5zcmZ1ZiwgJzEnKSA/IHRoaXMudXBkYXRlQWN0aW9uIDogdGhpcy5jcmVhdGVBY3Rpb247CgogICAgICBpZiAoIWFjdGlvbikgewogICAgICAgIHZhciBhY3Rpb25OYW1lID0gT2JqZWN0LmlzKGRhdGEuc3JmdWYsICcxJykgPyAidXBkYXRlQWN0aW9uIiA6ICJjcmVhdGVBY3Rpb24iOwogICAgICAgIHRoaXMuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBkZXNjOiAnVFJNVFJJQU5QRVJTT05FZGl0Vmlld+inhuWbvuihqOWNlScgKyBhY3Rpb25OYW1lICsgJ+WPguaVsOacqumFjee9ricKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgdmlld3BhcmFtczogdGhpcy52aWV3cGFyYW1zCiAgICAgIH0pOwogICAgICB2YXIgcG9zdCA9IHRoaXMuc2VydmljZS5hZGQoYWN0aW9uLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpLCBhcmcsIHRoaXMuc2hvd0J1c3lJbmRpY2F0b3IpOwogICAgICBwb3N0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgIF90aGlzMTAuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzMTAub25Gb3JtTG9hZChkYXRhLCAnYXV0b1NhdmUnKTsKCiAgICAgICAgX3RoaXMxMC4kZW1pdCgnc2F2ZScsIGRhdGEpOwoKICAgICAgICBfdGhpczEwLiRzdG9yZS5kaXNwYXRjaCgndmlld2FjdGlvbi9kYXRhc2F2ZWQnLCB7CiAgICAgICAgICB2aWV3dGFnOiBfdGhpczEwLnZpZXd0YWcKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMxMC4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMxMC5mb3JtU3RhdGUubmV4dCh7CiAgICAgICAgICAgIHR5cGU6ICdzYXZlJywKICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgX3RoaXMxMC4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICBkZXNjOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgIH0pOwoKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnN0YXR1cyB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgX3RoaXMxMC4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICBkZXNjOiAn57O757uf5byC5bi4JwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDkv53lrZgNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW29wdD17fV0NCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG93UmVzdWx0SW5mb10NCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpZlN0YXRlTmV4dF0gZm9ybVN0YXRl5piv5ZCm5LiL5Y+R6YCa55+lDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NhdmUgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfdGhpczExID0gdGhpczsKCiAgICAgICAgdmFyIG9wdCwKICAgICAgICAgICAgc2hvd1Jlc3VsdEluZm8sCiAgICAgICAgICAgIGlmU3RhdGVOZXh0LAogICAgICAgICAgICBfYXJncyA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBvcHQgPSBfYXJncy5sZW5ndGggPiAwICYmIF9hcmdzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnc1swXSA6IHt9OwogICAgICAgICAgICAgICAgc2hvd1Jlc3VsdEluZm8gPSBfYXJncy5sZW5ndGggPiAxID8gX2FyZ3NbMV0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBpZlN0YXRlTmV4dCA9IF9hcmdzLmxlbmd0aCA+IDIgJiYgX2FyZ3NbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzJdIDogdHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAgICAgICAgICAgc2hvd1Jlc3VsdEluZm8gPSBzaG93UmVzdWx0SW5mbyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpczExLmZvcm1WYWxpZGF0ZVN0YXR1cygpKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICflgLzop4TliJnmoKHpqozlvILluLgnCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgdmFyIGFyZyA9IF9vYmplY3RTcHJlYWQoe30sIG9wdCk7CgogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF90aGlzMTEuZ2V0VmFsdWVzKCk7CgogICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGFyZywgZGF0YSk7CiAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCBfdGhpczExLmNvbnRleHQpOwoKICAgICAgICAgICAgICAgICAgaWYgKGlmU3RhdGVOZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS5kcmNvdW50ZXIgPSAwOwoKICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS5kcmNvdW50ZXIgIT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuZHJzYXZlb3B0ID0gb3B0OwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuZm9ybVN0YXRlLm5leHQoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYmVmb3Jlc2F2ZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGFyZwogICAgICAgICAgICAgICAgICAgICAgfSk7IC8v5YWI6YCa55+l5YWz57O755WM6Z2i5L+d5a2YCgoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuc2F2ZVN0YXRlID0gcmVzb2x2ZTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBPYmplY3QuaXMoZGF0YS5zcmZ1ZiwgJzEnKSA/IF90aGlzMTEudXBkYXRlQWN0aW9uIDogX3RoaXMxMS5jcmVhdGVBY3Rpb247CgogICAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbikgewogICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25OYW1lID0gT2JqZWN0LmlzKGRhdGEuc3JmdWYsICcxJykgPyAidXBkYXRlQWN0aW9uIiA6ICJjcmVhdGVBY3Rpb24iOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczExLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ1RSTVRSSUFOUEVSU09ORWRpdFZpZXfop4blm77ooajljZUnICsgYWN0aW9uTmFtZSArICflj4LmlbDmnKrphY3nva4nCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhcmcsIHsKICAgICAgICAgICAgICAgICAgICB2aWV3cGFyYW1zOiBfdGhpczExLnZpZXdwYXJhbXMKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHZhciBwb3N0ID0gT2JqZWN0LmlzKGRhdGEuc3JmdWYsICcxJykgPyBfdGhpczExLnNlcnZpY2UudXBkYXRlKGFjdGlvbiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczExLmNvbnRleHQpKSwgYXJnLCBfdGhpczExLnNob3dCdXN5SW5kaWNhdG9yKSA6IF90aGlzMTEuc2VydmljZS5hZGQoYWN0aW9uLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTEuY29udGV4dCkpLCBhcmcsIF90aGlzMTEuc2hvd0J1c3lJbmRpY2F0b3IpOwogICAgICAgICAgICAgICAgICBwb3N0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTEub25Gb3JtTG9hZChkYXRhLCAnc2F2ZScpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczExLiRlbWl0KCdzYXZlJywgZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHN0b3JlLmRpc3BhdGNoKCd2aWV3YWN0aW9uL2RhdGFzYXZlZCcsIHsKICAgICAgICAgICAgICAgICAgICAgIHZpZXd0YWc6IF90aGlzMTEudmlld3RhZwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczExLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLmZvcm1TdGF0ZS5uZXh0KHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NhdmUnLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dSZXN1bHRJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLiROb3RpY2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogKGRhdGEuc3JmbWFqb3J0ZXh0ID8gZGF0YS5zcmZtYWpvcnRleHQgOiAnJykgKyAnJm5ic3A75L+d5a2Y5oiQ5Yqf77yBJwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyAmJiByZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczExLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnN0YXR1cyB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMS4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn57O757uf5byC5bi4JwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgICByZXR1cm4gX3NhdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmU7CiAgICB9KCkKICAgIC8qKg0KICAgICog5Yig6ZmkDQogICAgKg0KICAgICogQHB1YmxpYw0KICAgICogQHBhcmFtIHsqfSBbb3B0PXt9XQ0KICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgKi8KCiAgfSwgewogICAga2V5OiAicmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHZhciBvcHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdOwogICAgICB2YXIgc2hvd1Jlc3VsdEluZm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoIV90aGlzMTIucmVtb3ZlQWN0aW9uKSB7CiAgICAgICAgICBfdGhpczEyLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgIGRlc2M6ICdUUk1UUklBTlBFUlNPTkVkaXRWaWV36KeG5Zu+6KGo5Y2VcmVtb3ZlQWN0aW9u5Y+C5pWw5pyq6YWN572uJwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFyZyA9IG9wdFswXTsKICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczEyOwogICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgICB2aWV3cGFyYW1zOiBfdGhpczEyLnZpZXdwYXJhbXMKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMxMi5zZXJ2aWNlWyJkZWxldGUiXShfdGhpcy5yZW1vdmVBY3Rpb24sIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMxMi5jb250ZXh0KSksIGFyZywgc2hvd1Jlc3VsdEluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgX3RoaXMxMi4kZW1pdCgncmVtb3ZlJywgZGF0YSk7CgogICAgICAgICAgICBfdGhpczEyLmZvcm1TdGF0ZS5uZXh0KHsKICAgICAgICAgICAgICB0eXBlOiAncmVtb3ZlJywKICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMxMi5kYXRhLmlzbW9kaWZ5ID0gZmFsc2U7CgogICAgICAgICAgICBfdGhpczEyLiROb3RpY2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgICAgIGRlc2M6IChkYXRhLnNyZm1ham9ydGV4dCA/IGRhdGEuc3JmbWFqb3J0ZXh0IDogJycpICsgJyZuYnNwO+WIoOmZpOaIkOWKn++8gScKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHZhciBfZGF0YSA9IGVycm9yLmRhdGE7CgogICAgICAgICAgX3RoaXMxMi4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6IF9kYXRhLnRpdGxlLAogICAgICAgICAgICBkZXNjOiBfZGF0YS5tZXNzYWdlCiAgICAgICAgICB9KTsKCiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOW3peS9nOa1geWQr+WKqA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0NCiAgICAgKiBAcGFyYW0geyp9IFtsb2NhbGRhdGE9e31dDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAid2ZzdGFydCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3dmc3RhcnQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihkYXRhLCBsb2NhbGRhdGEpIHsKICAgICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczEzOwoKICAgICAgICAgICAgICAgICAgdmFyIHBvc3QgPSBfdGhpcy5zYXZlKHt9LCBmYWxzZSk7CgogICAgICAgICAgICAgICAgICBwb3N0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEzLnZpZXdwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwYXJhbXM6IF90aGlzMTMudmlld3BhcmFtcwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RoaXMxMy5zZXJ2aWNlLndmc3RhcnQoX3RoaXMuV0ZTdGFydEFjdGlvbiwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczEzLmNvbnRleHQpKSwgYXJnLCBfdGhpczEzLnNob3dCdXN5SW5kaWNhdG9yLCBsb2NhbGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+W3peS9nOa1geWQr+WKqOWksei0pSwgJyArIHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kTm90aWNlLmluZm8oewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICflt6XkvZzmtYHlkK/liqjmiJDlip8nCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEzLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfns7vnu5/lvILluLgnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiByZXNwb25zZS5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8ICFyZXNwb25zZS5zdGF0dXMgfHwgIXJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+ezu+e7n+W8guW4uCcKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gd2ZzdGFydChfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF93ZnN0YXJ0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB3ZnN0YXJ0OwogICAgfSgpCiAgICAvKioNCiAgICAgKiDlt6XkvZzmtYHmj5DkuqQNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9e31dDQogICAgICogQHBhcmFtIHsqfSBbbG9jYWxkYXRhPXt9XQ0KICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIndmc3VibWl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfd2ZzdWJtaXQgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhkYXRhLCBsb2NhbGRhdGEpIHsKICAgICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczE0OwogICAgICAgICAgICAgICAgICB2YXIgYXJnID0gZGF0YVswXTsKICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhcmcsIHsKICAgICAgICAgICAgICAgICAgICB2aWV3cGFyYW1zOiBfdGhpczE0LnZpZXdwYXJhbXMKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICBpZiAoIWFyZy50cm10cmFpbnBlcnNvbiB8fCBPYmplY3QuaXMoYXJnLnRybXRyYWlucGVyc29uLCAnJykpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHZhciBwb3N0ID0gT2JqZWN0LmlzKGFyZy5zcmZ1ZiwgJzEnKSA/IF90aGlzMTQuc2VydmljZS51cGRhdGUoX3RoaXMxNC51cGRhdGVBY3Rpb24sIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXMxNC5jb250ZXh0KSksIGFyZywgX3RoaXMxNC5zaG93QnVzeUluZGljYXRvcikgOiBfdGhpczE0LnNlcnZpY2UuYWRkKF90aGlzMTQuY3JlYXRlQWN0aW9uLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTQuY29udGV4dCkpLCBhcmcsIF90aGlzMTQuc2hvd0J1c3lJbmRpY2F0b3IpOwogICAgICAgICAgICAgICAgICBwb3N0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZyA9IHJlc3BvbnNlLmRhdGE7IC8vIOS/neWtmOWujOaIkFVJ5aSE55CGCgogICAgICAgICAgICAgICAgICAgIF90aGlzMTQub25Gb3JtTG9hZChhcmcsICdzYXZlJyk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJGVtaXQoJ3NhdmUnLCBhcmcpOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczE0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LmZvcm1TdGF0ZS5uZXh0KHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NhdmUnLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBhcmcKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOyAvLyDlh4blpIfmj5DkuqTlj4LmlbAKCgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LnZpZXdwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdwYXJhbXM6IF90aGlzMTQudmlld3BhcmFtcwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyDlvLrliLbooaXlhYVzcmZ3Zm1lbW8KCgogICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczE0LnNyZndmbWVtbykgewogICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhcmcsIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3Jmd2ZtZW1vOiBfdGhpczE0LnNyZndmbWVtbwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3RoaXMxNC5zZXJ2aWNlLndmc3VibWl0KF90aGlzLldGU3VibWl0QWN0aW9uLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMTQuY29udGV4dCkpLCBhcmcsIF90aGlzMTQuc2hvd0J1c3lJbmRpY2F0b3IsIGxvY2FsZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5bel5L2c5rWB5o+Q5Lqk5aSx6LSlLCAnICsgcmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0Lm9uRm9ybUxvYWQoYXJnLCAnc3VibWl0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kc3RvcmUuZGlzcGF0Y2goJ3ZpZXdhY3Rpb24vZGF0YXNhdmVkJywgewogICAgICAgICAgICAgICAgICAgICAgICB2aWV3dGFnOiBfdGhpczE0LnZpZXd0YWcKICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJE5vdGljZS5pbmZvKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5bel5L2c5rWB5o+Q5Lqk5oiQ5YqfJwogICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzICYmIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogcmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnN0YXR1cyB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn57O757uf5byC5bi4JwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzICYmIHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuJE5vdGljZS5lcnJvcih7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogcmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczE0LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfns7vnu5/lvILluLgnCiAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHdmc3VibWl0KF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF93ZnN1Ym1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gd2ZzdWJtaXQ7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOihqOWNlemhueabtOaWsA0KICAgICAqDQogICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUg55WM6Z2i6KGM5Li65ZCN56ewDQogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0g6K+35rGC5pWw5o2uDQogICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdXBkYXRlRGV0YWlscyDmm7TmlrDpobkNCiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG93bG9hZGluZ10g5piv5ZCm5pi+56S65Yqg6L2954q25oCBDQogICAgICogQHJldHVybnMge3ZvaWR9DQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInVwZGF0ZUZvcm1JdGVtcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlRm9ybUl0ZW1zKG1vZGUpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgdXBkYXRlRGV0YWlscyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICB2YXIgc2hvd2xvYWRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKCiAgICAgIGlmICghbW9kZSB8fCBtb2RlICYmIE9iamVjdC5pcyhtb2RlLCAnJykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBhcmcgPSBfb2JqZWN0U3ByZWFkKHt9LCBkYXRhKTsKCiAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB0aGlzLnZpZXdwYXJhbXMpOwogICAgICB2YXIgcG9zdCA9IHRoaXMuc2VydmljZS5mcm9udExvZ2ljKG1vZGUsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSksIGFyZywgc2hvd2xvYWRpbmcpOwogICAgICBwb3N0LnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgX3RoaXMxNS4kTm90aWNlLmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgICBkZXNjOiAn6KGo5Y2V6aG55pu05paw5aSx6LSlJwogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHZhciBfZGF0YSA9IHt9OwogICAgICAgIHVwZGF0ZURldGFpbHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBPYmplY3QuYXNzaWduKF9kYXRhLCBfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIGRhdGFbbmFtZV0pKTsKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMxNS5zZXRGb3JtRW5hYmxlQ29uZChfZGF0YSk7CgogICAgICAgIF90aGlzMTUuZmlsbEZvcm0oX2RhdGEsICd1cGRhdGVGb3JtSXRlbScpOwoKICAgICAgICBfdGhpczE1LmZvcm1Mb2dpYyh7CiAgICAgICAgICBuYW1lOiAnJywKICAgICAgICAgIG5ld1ZhbDogbnVsbCwKICAgICAgICAgIG9sZFZhbDogbnVsbAogICAgICAgIH0pOwoKICAgICAgICBfdGhpczE1LmRhdGFDaGFuZy5uZXh0KEpTT04uc3RyaW5naWZ5KF90aGlzMTUuZGF0YSkpOwoKICAgICAgICBfdGhpczE1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczE1LmZvcm1TdGF0ZS5uZXh0KHsKICAgICAgICAgICAgdHlwZTogJ3VwZGF0ZWZvcm1pdGVtJywKICAgICAgICAgICAgdWZpbW9kZTogYXJnLnNyZnVmaW1vZGUsCiAgICAgICAgICAgIGRhdGE6IF9kYXRhCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1cyAmJiByZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpczE1LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLmRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpczE1LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgIGRlc2M6ICfns7vnu5/lvILluLgnCiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWbnui9puS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25FbnRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25FbnRlcigkZXZlbnQpIHt9CiAgICAvKioNCiAgICAgKiDkv53lrZjlubbpgIDlh7oNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAbWVtYmVyb2YgTWFpbkJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2F2ZUFuZEV4aXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNhdmVBbmRFeGl0KGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGFyZyA9IHt9OwoKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCBkYXRhWzBdKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmN1cnJlbnRBY3Rpb24gPSAic2F2ZUFuZEV4aXQiOwoKICAgICAgICBfdGhpcy5zYXZlKFthcmddKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMuY2xvc2VWaWV3KHJlcy5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOS/neWtmOW5tuaWsOW7ug0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzYXZlQW5kTmV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlQW5kTmV3KGRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgdmFyIGFyZyA9IHt9OwoKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCBkYXRhWzBdKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmN1cnJlbnRBY3Rpb24gPSAic2F2ZUFuZE5ldyI7CgogICAgICAgIF90aGlzLnNhdmUoW2FyZ10pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuUmVzZXREYXRhKHJlcyk7CgogICAgICAgICAgX3RoaXMubG9hZERyYWZ0KHt9KTsKICAgICAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICog5Yig6Zmk5bm26YCA5Ye6DQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzDQogICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInJlbW92ZUFuZEV4aXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUFuZEV4aXQoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB2YXIgYXJnID0ge307CgogICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbihhcmcsIGRhdGFbMF0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMucmVtb3ZlKFthcmddKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMuY2xvc2VWaWV3KHJlcy5kYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICog5YWz57O755WM6Z2i5pWw5o2u5L+d5a2Y5a6M5oiQDQogICAgKg0KICAgICogQHBhcmFtIHthbnl9ICRldmVudA0KICAgICogQG1lbWJlcm9mIE1haW5CYXNlDQogICAgKi8KCiAgfSwgewogICAga2V5OiAiZHJkYXRhc2F2ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRyZGF0YXNhdmVkKCRldmVudCkgewogICAgICB2YXIgX3RoaXMxNiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kcmNvdW50ZXItLTsKCiAgICAgIGlmICh0aGlzLmRyY291bnRlciA9PT0gMCkgewogICAgICAgIHRoaXMuc2F2ZSh0aGlzLmRyc2F2ZW9wdCwgdW5kZWZpbmVkLCBmYWxzZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczE2LnNhdmVTdGF0ZShyZXMpOwoKICAgICAgICAgIF90aGlzMTYuZHJzYXZlb3B0ID0ge307CgogICAgICAgICAgaWYgKE9iamVjdC5pcyhfdGhpcy5jdXJyZW50QWN0aW9uLCAic2F2ZUFuZE5ldyIpKSB7CiAgICAgICAgICAgIF90aGlzLlJlc2V0RGF0YShyZXMpOwoKICAgICAgICAgICAgX3RoaXMubG9hZERyYWZ0KHt9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmlzKF90aGlzLmN1cnJlbnRBY3Rpb24sICJzYXZlQW5kRXhpdCIpKSB7CiAgICAgICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgICAgICBfdGhpcy5jbG9zZVZpZXcocmVzLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOaWsOW7uum7mOiupOWAvA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVEZWZhdWx0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0KCkge30KICAgIC8qKg0KICAgICAqIOabtOaWsOm7mOiupOWAvA0KICAgICAqIEBtZW1iZXJvZiBNYWluQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ1cGRhdGVEZWZhdWx0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVEZWZhdWx0KCkge30KICB9XSk7CgogIHJldHVybiBNYWluQmFzZTsKfShWdWUpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBNYWluQmFzZS5wcm90b3R5cGUsICJuYW1lIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAidmlld1N0YXRlIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAiY29udGV4dCIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgInZpZXdwYXJhbXMiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6IGZhbHNlCn0pXSwgTWFpbkJhc2UucHJvdG90eXBlLCAiYXV0b3NhdmUiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKHsKICAiZGVmYXVsdCI6IHRydWUKfSldLCBNYWluQmFzZS5wcm90b3R5cGUsICJzaG93QnVzeUluZGljYXRvciIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIldGU3VibWl0QWN0aW9uIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAiV0ZTdGFydEFjdGlvbiIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgInVwZGF0ZUFjdGlvbiIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgInJlbW92ZUFjdGlvbiIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgImxvYWRkcmFmdEFjdGlvbiIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgImxvYWRBY3Rpb24iLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBNYWluQmFzZS5wcm90b3R5cGUsICJjcmVhdGVBY3Rpb24iLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBNYWluQmFzZS5wcm90b3R5cGUsICJzZWFyY2hBY3Rpb24iLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBNYWluQmFzZS5wcm90b3R5cGUsICJ2aWV3dGFnIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEuc3JmdXBkYXRlZGF0ZScpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAib25TcmZ1cGRhdGVkYXRlQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnNyZm9yaWtleScpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAib25TcmZvcmlrZXlDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEuc3Jma2V5JyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblNyZmtleUNoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS5zcmZtYWpvcnRleHQnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uU3JmbWFqb3J0ZXh0Q2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnNyZnRlbXBtb2RlJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblNyZnRlbXBtb2RlQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnNyZnVmJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblNyZnVmQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnNyZmRlaWQnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uU3JmZGVpZENoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS5zcmZzb3VyY2VrZXknKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uU3Jmc291cmNla2V5Q2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnBpbXBlcnNvbm5hbWUnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uUGltcGVyc29ubmFtZUNoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS55Z2JoJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvbllnYmhDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEueGInKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uWGJDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEubmonKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uTmpDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEubHhkaCcpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAib25MeGRoQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnp6JyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblp6Q2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLmJtJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvbkJtQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnp3JyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblp3Q2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLmpzZnMnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uSnNmc0NoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS5zZnpzJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvblNmenNDaGFuZ2UiLCBudWxsKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbV2F0Y2goJ2RhdGEuZmpoJyldLCBNYWluQmFzZS5wcm90b3R5cGUsICJvbkZqaENoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS50cm10cmFpbnBsYW50ZXJtaWQnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uVHJtdHJhaW5wbGFudGVybWlkQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdkYXRhLnRybXRyaWFucGVyc29uaWQnKV0sIE1haW5CYXNlLnByb3RvdHlwZSwgIm9uVHJtdHJpYW5wZXJzb25pZENoYW5nZSIsIG51bGwpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgnZGF0YS5waW1wZXJzb25pZCcpXSwgTWFpbkJhc2UucHJvdG90eXBlLCAib25QaW1wZXJzb25pZENoYW5nZSIsIG51bGwpOwoKTWFpbkJhc2UgPSB0c2xpYl8xLl9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgY29tcG9uZW50czoge30KfSldLCBNYWluQmFzZSk7CmV4cG9ydCBkZWZhdWx0IE1haW5CYXNlOw=="},null]}