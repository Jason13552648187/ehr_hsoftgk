{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesloanandreturngrid-view\\pimarchivesloanandreturngrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesloanandreturngrid-view\\pimarchivesloanandreturngrid-view-base.vue","mtime":1630509409747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuaXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldFByb3RvdHlwZU9mIjsKaW1wb3J0IF9nZXQgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2dldCI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIEVtaXQsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJzsKaW1wb3J0IHsgVnVlTGlmZUN5Y2xlUHJvY2Vzc2luZywgR3JpZFZpZXdCYXNlIH0gZnJvbSAnQC9jcm0tY29yZSc7CmltcG9ydCBQaW1BcmNoaXZlU2xvYW5hbmRyZXR1cm5TZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9waW0tYXJjaGl2ZS1zbG9hbmFuZHJldHVybi9waW0tYXJjaGl2ZS1zbG9hbmFuZHJldHVybi1zZXJ2aWNlJzsKaW1wb3J0IEdyaWRWaWV3RW5naW5lIGZyb20gJ0BlbmdpbmUvdmlldy9ncmlkLXZpZXctZW5naW5lJzsKLyoqDQogKiDlgJ/pmIXorrDlvZXooajmoLzop4blm77ln7rnsbsNCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogKiBAZXh0ZW5kcyB7R3JpZFZpZXdCYXNlfQ0KICovCgp2YXIgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0dyaWRWaWV3QmFzZSkgewogIF9pbmhlcml0cyhQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UsIF9HcmlkVmlld0Jhc2UpOwoKICAvKioNCiAgICog5YCf6ZiF6K6w5b2V6KGo5qC86KeG5Zu+5Z+657G7DQogICAqDQogICAqIEBleHBvcnQNCiAgICogQGNsYXNzIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgKiBAZXh0ZW5kcyB7R3JpZFZpZXdCYXNlfQ0KICAgKi8KICBmdW5jdGlvbiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UoKSB7CiAgICB2YXIgX3RoaXMyOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UpOwoKICAgIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgLyoqDQogICAgICog5a6e5L2T5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7UGltQXJjaGl2ZVNsb2FuYW5kcmV0dXJuU2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmFwcEVudGl0eVNlcnZpY2UgPSBuZXcgUGltQXJjaGl2ZVNsb2FuYW5kcmV0dXJuU2VydmljZSgpOwogICAgLyoqDQogICAgICog6K6h5pWw5Zmo5pyN5Yqh5a+56LGh6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jb3VudGVyU2VydmljZUFycmF5ID0gW107CiAgICAvKioNCiAgICAgKiDop4blm77moIfor4YNCiAgICAgKg0KICAgICAqIEB0eXBlIHtzdHJpbmd9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi52aWV3dGFnID0gJ2U0NTc4ZmNmMjhhYzU3Mjg0ZmY0Y2E5ODU3NzNlZGY2JzsKICAgIC8qKg0KICAgICAqIOeItuaVsOaNruWvueixoQ0KICAgICAqDQogICAgICogQHByb3RlY3RlZA0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3JmcGFyZW50ZGF0YSA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5LiK5LiL5paH6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmN1c3RvbVZpZXdOYXZDb250ZXh0cyA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5Y+C5pWw6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmN1c3RvbVZpZXdQYXJhbXMgPSB7fTsKICAgIC8qKg0KICAgICAqIOinhuWbvuaooeWei+aVsOaNrg0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5tb2RlbCA9IHsKICAgICAgc3JmQ2FwdGlvbjogJ2VudGl0aWVzLnBpbWFyY2hpdmVzbG9hbmFuZHJldHVybi52aWV3cy5ncmlkdmlldy5jYXB0aW9uJywKICAgICAgc3JmVGl0bGU6ICdlbnRpdGllcy5waW1hcmNoaXZlc2xvYW5hbmRyZXR1cm4udmlld3MuZ3JpZHZpZXcudGl0bGUnLAogICAgICBzcmZTdWJUaXRsZTogJ2VudGl0aWVzLnBpbWFyY2hpdmVzbG9hbmFuZHJldHVybi52aWV3cy5ncmlkdmlldy5zdWJ0aXRsZScsCiAgICAgIGRhdGFJbmZvOiAnJwogICAgfTsKICAgIC8qKg0KICAgICAqIOWuueWZqOaooeWeiw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jb250YWluZXJNb2RlbCA9IHsKICAgICAgdmlld190b29sYmFyOiB7CiAgICAgICAgbmFtZTogJ3Rvb2xiYXInLAogICAgICAgIHR5cGU6ICdUT09MQkFSJwogICAgICB9LAogICAgICB2aWV3X2dyaWQ6IHsKICAgICAgICBuYW1lOiAnZ3JpZCcsCiAgICAgICAgdHlwZTogJ0dSSUQnCiAgICAgIH0KICAgIH07CiAgICAvKioNCiAgICAgKiDop4blm77nirbmgIHorqLpmIXlr7nosaENCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7U3ViamVjdDx7YWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueX0+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIudmlld1N0YXRlID0gbmV3IFN1YmplY3QoKTsKICAgIC8qKg0KICAgICAqIOW3peWFt+agj+aooeWeiw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3DQogICAgICovCgogICAgX3RoaXMyLnRvb2xCYXJNb2RlbHMgPSB7CiAgICAgIGRldWlhY3Rpb24xOiB7CiAgICAgICAgbmFtZTogJ2RldWlhY3Rpb24xJywKICAgICAgICBjYXB0aW9uOiAn5paw5bu6JywKICAgICAgICAnaXNTaG93Q2FwdGlvbic6IHRydWUsCiAgICAgICAgJ2lzU2hvd0ljb24nOiB0cnVlLAogICAgICAgIHRvb2x0aXA6ICfmlrDlu7onLAogICAgICAgIGljb25jbHM6ICdmYSBmYS1wbHVzJywKICAgICAgICBpY29uOiAnJywKICAgICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgICAgdHlwZTogJ0RFVUlBQ1RJT04nLAogICAgICAgIHZpc2FibGVkOiB0cnVlLAogICAgICAgIGRhdGFhY2NhY3Rpb246ICcnLAogICAgICAgIHVpYWN0aW9uOiB7CiAgICAgICAgICB0YWc6ICdOZXdSb3cnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgZGV1aWFjdGlvbjI6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjInLAogICAgICAgIGNhcHRpb246ICfkv53lrZgnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+S/neWtmCcsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLXNhdmUnLAogICAgICAgIGljb246ICcnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnREVVSUFDVElPTicsCiAgICAgICAgdmlzYWJsZWQ6IHRydWUsCiAgICAgICAgZGF0YWFjY2FjdGlvbjogJycsCiAgICAgICAgdWlhY3Rpb246IHsKICAgICAgICAgIHRhZzogJ1NhdmVSb3cnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgZGV1aWFjdGlvbjM6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjMnLAogICAgICAgIGNhcHRpb246ICfliKDpmaQnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WIoOmZpCcsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLXJlbW92ZScsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnU1JGVVJfX0pHTFlHWE1MJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnUmVtb3ZlJywKICAgICAgICAgIHRhcmdldDogJ01VTFRJS0VZJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgZGV1aWFjdGlvbjQ6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjQnLAogICAgICAgIGNhcHRpb246ICflr7zlhaUnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WvvOWFpScsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLXVwbG9hZCcsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnU1JGVVJfX0pHTFlZUFpTWllKVEonLAogICAgICAgIHVpYWN0aW9uOiB7CiAgICAgICAgICB0YWc6ICdJbXBvcnQnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgZGV1aWFjdGlvbjU6IHsKICAgICAgICBuYW1lOiAnZGV1aWFjdGlvbjUnLAogICAgICAgIGNhcHRpb246ICflr7zlh7onLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WvvOWHuicsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLWZpbGUtZXhjZWwtbycsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnRXhwb3J0RXhjZWwnLAogICAgICAgICAgdGFyZ2V0OiAnJwogICAgICAgIH0sCiAgICAgICAgTWF4Um93Q291bnQ6IDUwMDAsCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfQogICAgfTsKICAgIC8qKg0KICAgICAqIOinhuWbvuW8leaTjg0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEB0eXBlIHtFbmdpbmV9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5lbmdpbmUgPSBuZXcgR3JpZFZpZXdFbmdpbmUoKTsKICAgIC8qKg0KICAgICAqIOaYr+WQpuWNlemAiQ0KICAgICAqDQogICAgICogQHR5cGUge2Jvb2xlYW59DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc1NpbmdsZVNlbGVjdCA9IGZhbHNlOwogICAgLyoqDQogICAgICog5pCc57Si5YC8DQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIucXVlcnkgPSAnJzsKICAgIC8qKg0KICAgICAqIOaYr+WQpuWxleW8gOaQnOe0ouihqOWNlQ0KICAgICAqDQogICAgICogQHR5cGUge2Jvb2xlYW59DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc0V4cGFuZFNlYXJjaEZvcm0gPSBmYWxzZTsKICAgIC8qKg0KICAgICAqIOihqOagvOihjOaVsOaNrum7mOiupOa/gOa0u+aooeW8jw0KICAgICAqIDAg5LiN5r+A5rS7DQogICAgICogMSDljZXlh7vmv4DmtLsNCiAgICAgKiAyIOWPjOWHu+a/gOa0uw0KICAgICAqDQogICAgICogQHR5cGUgeyhudW1iZXIgfCAwIHwgMSB8IDIpfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZ3JpZFJvd0FjdGl2ZU1vZGUgPSAwOwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgLyoqDQogICAqIOaVsOaNruWPmOWMlg0KICAgKg0KICAgKiBAcGFyYW0geyp9IHZhbA0KICAgKiBAcmV0dXJucyB7Kn0NCiAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UsIFt7CiAgICBrZXk6ICJ2aWV3RGF0YXNDaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHZpZXdEYXRhc0NoYW5nZSh2YWwpIHsKICAgICAgcmV0dXJuIHZhbDsKICAgIH0KICAgIC8qKg0KICAgICAqIOW8leaTjuWIneWni+WMlg0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZW5naW5lSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW5naW5lSW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVuZ2luZS5pbml0KHsKICAgICAgICB2aWV3OiB0aGlzLAogICAgICAgIG9wZW5kYXRhOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5vcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICAgIH0sCiAgICAgICAgbmV3ZGF0YTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5uZXdkYXRhKGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7CiAgICAgICAgfSwKICAgICAgICBncmlkOiB0aGlzLiRyZWZzLmdyaWQsCiAgICAgICAga2V5UFNERUZpZWxkOiAncGltYXJjaGl2ZXNsb2FuYW5kcmV0dXJuJywKICAgICAgICBtYWpvclBTREVGaWVsZDogJ3BpbWFyY2hpdmVzbG9hbmFuZHJldHVybm5hbWUnLAogICAgICAgIGlzTG9hZERlZmF1bHQ6IHRydWUKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiB0b29sYmFyIOmDqOS7tiBjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfY2xpY2soJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ2RldWlhY3Rpb24xJykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfZGV1aWFjdGlvbjFfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICdkZXVpYWN0aW9uMicpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb24yX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAnZGV1aWFjdGlvbjMnKSkgewogICAgICAgIHRoaXMudG9vbGJhcl9kZXVpYWN0aW9uM19jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ2RldWlhY3Rpb240JykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfZGV1aWFjdGlvbjRfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICdkZXVpYWN0aW9uNScpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb241X2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7Ygc2VsZWN0aW9uY2hhbmdlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ3JpZF9zZWxlY3Rpb25jaGFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfc2VsZWN0aW9uY2hhbmdlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdzZWxlY3Rpb25jaGFuZ2UnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgYmVmb3JlbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfYmVmb3JlbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9iZWZvcmVsb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdiZWZvcmVsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHJvd2RibGNsaWNrIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ3JpZF9yb3dkYmxjbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9yb3dkYmxjbGljaygkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAncm93ZGJsY2xpY2snLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgcmVtb3ZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ3JpZF9yZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdyaWRfcmVtb3ZlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyZW1vdmUnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9sb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfZGV1aWFjdGlvbjFfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfZGV1aWFjdGlvbjFfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuTmV3Um93KGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1BcmNoaXZlU2xvYW5hbmRyZXR1cm4iKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfZGV1aWFjdGlvbjJfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfZGV1aWFjdGlvbjJfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuU2F2ZVJvdyhkYXRhcywgY29udGV4dEpPLCBwYXJhbUpPLCAkZXZlbnQsIHhEYXRhLCB0aGlzLCAiUGltQXJjaGl2ZVNsb2FuYW5kcmV0dXJuIik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2RldWlhY3Rpb24zX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2RldWlhY3Rpb24zX2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLlJlbW92ZShkYXRhcywgY29udGV4dEpPLCBwYXJhbUpPLCAkZXZlbnQsIHhEYXRhLCB0aGlzLCAiUGltQXJjaGl2ZVNsb2FuYW5kcmV0dXJuIik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2RldWlhY3Rpb240X2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2RldWlhY3Rpb240X2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkltcG9ydChkYXRhcywgY29udGV4dEpPLCBwYXJhbUpPLCAkZXZlbnQsIHhEYXRhLCB0aGlzLCAiUGltQXJjaGl2ZVNsb2FuYW5kcmV0dXJuIik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX2RldWlhY3Rpb241X2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX2RldWlhY3Rpb241X2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkV4cG9ydEV4Y2VsKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1BcmNoaXZlU2xvYW5hbmRyZXR1cm4iKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOaWsOW7uuaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3DQogICAgICovCgogIH0sIHsKICAgIGtleTogIm5ld2RhdGEiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG5ld2RhdGEoYXJncywgZnVsbGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBsb2NhbENvbnRleHQgPSBudWxsOwogICAgICB2YXIgbG9jYWxWaWV3UGFyYW0gPSBudWxsOwogICAgICB2YXIgZGF0YSA9IHt9OwoKICAgICAgaWYgKGFyZ3NbMF0uc3Jmc291cmNla2V5KSB7CiAgICAgICAgZGF0YS5zcmZzb3VyY2VrZXkgPSBhcmdzWzBdLnNyZnNvdXJjZWtleTsKICAgICAgfQoKICAgICAgdmFyIHRlbXBDb250ZXh0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRleHQpKTsKICAgICAgZGVsZXRlIHRlbXBDb250ZXh0LnBpbWFyY2hpdmVzbG9hbmFuZHJldHVybjsKCiAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHsKICAgICAgICBPYmplY3QuYXNzaWduKHRlbXBDb250ZXh0LCBhcmdzWzBdKTsKICAgICAgfQoKICAgICAgdmFyIGRlUmVzUGFyYW1ldGVycyA9IFtdOwoKICAgICAgaWYgKHRlbXBDb250ZXh0LnBpbWFyY2hpdmVzICYmIHRydWUpIHsKICAgICAgICBkZVJlc1BhcmFtZXRlcnMgPSBbewogICAgICAgICAgcGF0aE5hbWU6ICdwaW1hcmNoaXZlcycsCiAgICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltYXJjaGl2ZXMnCiAgICAgICAgfV07CiAgICAgIH0KCiAgICAgIHZhciBwYXJhbWV0ZXJzID0gW3sKICAgICAgICBwYXRoTmFtZTogJ3BpbWFyY2hpdmVzbG9hbmFuZHJldHVybnMnLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW1hcmNoaXZlc2xvYW5hbmRyZXR1cm4nCiAgICAgIH0sIHsKICAgICAgICBwYXRoTmFtZTogJ2VkaXR2aWV3JywKICAgICAgICBwYXJhbWV0ZXJOYW1lOiAnZWRpdHZpZXcnCiAgICAgIH1dOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcGVuSW5kZXhWaWV3VGFiID0gZnVuY3Rpb24gb3BlbkluZGV4Vmlld1RhYihkYXRhKSB7CiAgICAgICAgdmFyIF9kYXRhID0gewogICAgICAgICAgdzogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgICB9OwogICAgICAgIE9iamVjdC5hc3NpZ24oX2RhdGEsIGRhdGEpOwoKICAgICAgICB2YXIgcm91dGVQYXRoID0gX3RoaXM0LiR2aWV3VG9vbC5idWlsZFVwUm91dGVQYXRoKF90aGlzNC4kcm91dGUsIHRlbXBDb250ZXh0LCBkZVJlc1BhcmFtZXRlcnMsIHBhcmFtZXRlcnMsIGFyZ3MsIF9kYXRhKTsKCiAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaChyb3V0ZVBhdGgpOwogICAgICB9OwoKICAgICAgb3BlbkluZGV4Vmlld1RhYihkYXRhKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOe8lui+keaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3DQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9wZW5kYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBmdWxsYXJncywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGxvY2FsQ29udGV4dCA9IG51bGw7CiAgICAgIHZhciBsb2NhbFZpZXdQYXJhbSA9IG51bGw7CiAgICAgIHZhciBkYXRhID0ge307CiAgICAgIHZhciB0ZW1wQ29udGV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSk7CgogICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCwgYXJnc1swXSk7CiAgICAgIH0KCiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBbXTsKCiAgICAgIGlmICh0ZW1wQ29udGV4dC5waW1hcmNoaXZlcyAmJiB0cnVlKSB7CiAgICAgICAgZGVSZXNQYXJhbWV0ZXJzID0gW3sKICAgICAgICAgIHBhdGhOYW1lOiAncGltYXJjaGl2ZXMnLAogICAgICAgICAgcGFyYW1ldGVyTmFtZTogJ3BpbWFyY2hpdmVzJwogICAgICAgIH1dOwogICAgICB9CgogICAgICB2YXIgcGFyYW1ldGVycyA9IFt7CiAgICAgICAgcGF0aE5hbWU6ICdwaW1hcmNoaXZlc2xvYW5hbmRyZXR1cm5zJywKICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltYXJjaGl2ZXNsb2FuYW5kcmV0dXJuJwogICAgICB9LCB7CiAgICAgICAgcGF0aE5hbWU6ICdlZGl0dmlldycsCiAgICAgICAgcGFyYW1ldGVyTmFtZTogJ2VkaXR2aWV3JwogICAgICB9XTsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgb3BlbkluZGV4Vmlld1RhYiA9IGZ1bmN0aW9uIG9wZW5JbmRleFZpZXdUYWIoZGF0YSkgewogICAgICAgIHZhciByb3V0ZVBhdGggPSBfdGhpczUuJHZpZXdUb29sLmJ1aWxkVXBSb3V0ZVBhdGgoX3RoaXM1LiRyb3V0ZSwgdGVtcENvbnRleHQsIGRlUmVzUGFyYW1ldGVycywgcGFyYW1ldGVycywgYXJncywgZGF0YSk7CgogICAgICAgIF90aGlzNS4kcm91dGVyLnB1c2gocm91dGVQYXRoKTsKICAgICAgfTsKCiAgICAgIG9wZW5JbmRleFZpZXdUYWIoZGF0YSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmlrDlu7rooYwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJOZXdSb3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIE5ld1JvdyhhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHt9OwoKICAgICAgaWYgKF90aGlzLm5ld1JvdyAmJiBfdGhpcy5uZXdSb3cgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIF90aGlzLm5ld1JvdyhbX29iamVjdFNwcmVhZCh7fSwgZGF0YSldLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICB9IGVsc2UgaWYgKHhEYXRhLm5ld1JvdyAmJiB4RGF0YS5uZXdSb3cgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIHhEYXRhLm5ld1JvdyhbX29iamVjdFNwcmVhZCh7fSwgZGF0YSldLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLiROb3RpY2UuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgZGVzYzogJ25ld1JvdyDop4blm77lpITnkIbpgLvovpHkuI3lrZjlnKjvvIzor7fmt7vliqAhJwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDkv53lrZjooYwNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJTYXZlUm93IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBTYXZlUm93KGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgLy8g55WM6Z2i6KGM5Li65a655Zmo5a+56LGhIF90aGlzCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoeERhdGEgJiYgeERhdGEuc2F2ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgeERhdGEuc2F2ZSgpOwogICAgICB9IGVsc2UgaWYgKF90aGlzLnNhdmUgJiYgX3RoaXMuc2F2ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgX3RoaXMuc2F2ZSgpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDliKDpmaQNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJSZW1vdmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIFJlbW92ZShhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXhEYXRhIHx8ICEoeERhdGEucmVtb3ZlIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB4RGF0YS5yZW1vdmUoYXJncyk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmlbDmja7lr7zlhaUNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJJbXBvcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIEltcG9ydChhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXhEYXRhIHx8ICEoeERhdGEuaW1wb3J0RXhjZWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgfHwgISRldmVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgeERhdGEuaW1wb3J0RXhjZWwocGFyYW1zKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWvvOWHug0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupANCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tg0KICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIkV4cG9ydEV4Y2VsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBFeHBvcnRFeGNlbChhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXhEYXRhIHx8ICEoeERhdGEuZXhwb3J0RXhjZWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgfHwgISRldmVudCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgeERhdGEuZXhwb3J0RXhjZWwoJGV2ZW50LmV4cG9ydHBhcm1zKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmUgOavgeinhuWbvuWbnuiwgw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkZXN0cm95ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy52aWV3RGVmYXVsdFVzYWdlKSB7CiAgICAgICAgdmFyIGxvY2FsU3RvcmVMZW5ndGggPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpOwoKICAgICAgICBpZiAobG9jYWxTdG9yZUxlbmd0aC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBsb2NhbFN0b3JlTGVuZ3RoLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uc3RhcnRzV2l0aChfdGhpczYuY29udGV4dC5zcmZzZXNzaW9uaWQpKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogVnVl5aOw5piO5ZGo5pyfDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UucHJvdG90eXBlKSwgImNyZWF0ZWQiLCB0aGlzKS5jYWxsKHRoaXMpOwoKICAgICAgaWYgKHRoaXMuZm9ybURydWlwYXJ0KSB7CiAgICAgICAgdGhpcy5mb3JtRHJ1aXBhcnQuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChPYmplY3QuaXMocmVzLmFjdGlvbiwgJ3NhdmUnKSkgewogICAgICAgICAgICBfdGhpczcudmlld1N0YXRlLm5leHQoewogICAgICAgICAgICAgIHRhZzogJ2dyaWQnLAogICAgICAgICAgICAgIGFjdGlvbjogJ3NhdmUnLAogICAgICAgICAgICAgIGRhdGE6IF90aGlzNy52aWV3cGFyYW1zCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChPYmplY3QuaXMocmVzLmFjdGlvbiwgJ2xvYWQnKSkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSBfdGhpczc7CgogICAgICAgICAgICBfdGhpcy5lbmdpbmUubG9hZChyZXMuZGF0YSwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOW/q+mAn+aQnOe0og0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU2VhcmNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNlYXJjaCgkZXZlbnQpIHsKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGdyaWQubG9hZCh0aGlzLmNvbnRleHQpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBFTlRJVFlURVNUMVVzcjJHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25TYXZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvblNhdmUoJGV2ZW50KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2RyZGF0YXNhdmVkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWIt+aWsOaVsOaNrg0KICAgICAqDQogICAgICogQHJlYWRvbmx5DQogICAgICogQHR5cGUgeyhudW1iZXIgfCBudWxsKX0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT0FOQU5EUkVUVVJOR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uUmVmcmVzaERhdGEiLAoKICAgIC8qKg0KICAgICAqIOebkeaOp+aVsOaNruWPmOWMlg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEByZXR1cm5zDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZQ0KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIG9uUmVmcmVzaERhdGEobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCA9PT0gbnVsbCB8fCBuZXdWYWwgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKG5ld1ZhbCA9PT0gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGdyaWQgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoZ3JpZCkgewogICAgICAgIGdyaWQubG9hZCh7fSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoZGF0YSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3ZpZXdhY3Rpb24vZ2V0UmVmcmVzaERhdGEnXSh0aGlzLnZpZXd0YWcpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZTsKfShHcmlkVmlld0Jhc2UpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtFbWl0KCldLCBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UucHJvdG90eXBlLCAidmlld0RhdGFzQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZS5wcm90b3R5cGUsICJmb3JtRHJ1aXBhcnQiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtXYXRjaCgncmVmcmVzaGRhdGEnKV0sIFBJTUFSQ0hJVkVTTE9BTkFORFJFVFVSTkdyaWRWaWV3QmFzZS5wcm90b3R5cGUsICJvblJlZnJlc2hEYXRhIiwgbnVsbCk7CgpQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UgPSB0c2xpYl8xLl9fZGVjb3JhdGUoW0NvbXBvbmVudCh7fSksIFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmddLCBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2UpOwpleHBvcnQgZGVmYXVsdCBQSU1BUkNISVZFU0xPQU5BTkRSRVRVUk5HcmlkVmlld0Jhc2U7"},null]}