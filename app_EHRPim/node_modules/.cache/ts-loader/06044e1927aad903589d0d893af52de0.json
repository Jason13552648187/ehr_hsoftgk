{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\pim-person\\ygcd-drbar\\ygcd-drbar-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\pim-person\\ygcd-drbar\\ygcd-drbar-base.vue","mtime":1630509411997},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydGllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5kZWZpbmUtcHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuaXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSAidHNsaWIiOwppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgUGltUGVyc29uU2VydmljZSBmcm9tICdAL3NlcnZpY2UvcGltLXBlcnNvbi9waW0tcGVyc29uLXNlcnZpY2UnOwppbXBvcnQgWUdDRFNlcnZpY2UgZnJvbSAnLi95Z2NkLWRyYmFyLXNlcnZpY2UnOwoKdmFyIFlHQ0RCYXNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhZR0NEQmFzZSwgX1Z1ZSk7CgogIGZ1bmN0aW9uIFlHQ0RCYXNlKCkgewogICAgdmFyIF90aGlzMjsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWUdDREJhc2UpOwoKICAgIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihZR0NEQmFzZSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICAvKioNCiAgICAgKiDorqHmlbDlmajmnI3liqHlr7nosaHpm4blkIgNCiAgICAgKg0KICAgICAqIEB0eXBlIHtBcnJheTwqPn0NCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY291bnRlclNlcnZpY2VBcnJheSA9IFtdOwogICAgLyoqDQogICAgICog5bu65p6E6YOo5Lu25pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7WUdDRFNlcnZpY2V9DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogICAgX3RoaXMyLnNlcnZpY2UgPSBuZXcgWUdDRFNlcnZpY2UoewogICAgICAkc3RvcmU6IF90aGlzMi4kc3RvcmUKICAgIH0pOwogICAgLyoqDQogICAgICog5a6e5L2T5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7UGltUGVyc29uU2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYXBwRW50aXR5U2VydmljZSA9IG5ldyBQaW1QZXJzb25TZXJ2aWNlKHsKICAgICAgJHN0b3JlOiBfdGhpczIuJHN0b3JlCiAgICB9KTsKICAgIC8qKg0KICAgICAqIOaVsOaNrumAieS4remhuQ0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogICAgX3RoaXMyLnNlbGVjdGlvbiA9IHt9OwogICAgLyoqDQogICAgICog5YWz57O75qCP5pWw5o2u6aG5DQogICAgICoNCiAgICAgKiBAdHlwZSB7YW55W119DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogICAgX3RoaXMyLml0ZW1zID0gW3sKICAgICAgdGV4dDogIuWRmOW3peS/oeaBryIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW0yNCIsCiAgICAgIGljb25jbHM6ICcnLAogICAgICBpY29uOiAnLi4vLi4vLi4vaW1nL2pjZ2wvMS9nZXJlbnhpbnhpLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIuWIhumFjeS/oeaBryIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW03IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2ZlbnBlaXhpbnhpLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIuaVmeiCsuS/oeaBryIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW00IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2ppYW95dXhpbnhpLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIuivreiogOiDveWKmyIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW0xNCIsCiAgICAgIGljb25jbHM6ICcnLAogICAgICBpY29uOiAnLi4vLi4vLi4vaW1nL2pjZ2wvMS95dXlhbnNodWlwaW5nLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIuWutuW6reaDheWGtSIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW0zIiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2ppYXRpbmdxaW5na3VhbmcucG5nJwogICAgfSwgewogICAgICB0ZXh0OiAi5bel5L2c5bGl5Y6GIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpZDogImRyaXRlbTEiLAogICAgICBpY29uY2xzOiAnJywKICAgICAgaWNvbjogJy4uLy4uLy4uL2ltZy9qY2dsLzEvZ29uZ3p1b2x2bGkucG5nJwogICAgfSwgewogICAgICB0ZXh0OiAi5qGj5qGI5L+h5oGvIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpZDogImRyaXRlbTE4IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2RhbmdhbnhpbnhpLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIue7qeaViOS/oeaBryIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW02IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2ppeGlhb3hpbnhpLnBuZycKICAgIH0sIHsKICAgICAgdGV4dDogIuiAg+WLpOS/oeaBryIsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgaWQ6ICJkcml0ZW0yMiIsCiAgICAgIGljb25jbHM6ICcnLAogICAgICBpY29uOiAnLi4vLi4vLi4vaW1nL2pjZ2wvMS9rYW9xaW54aW54aS5wbmcnCiAgICB9LCB7CiAgICAgIHRleHQ6ICLlkIjlkIzkv6Hmga8iLAogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIGlkOiAiZHJpdGVtOSIsCiAgICAgIGljb25jbHM6ICcnLAogICAgICBpY29uOiAnLi4vLi4vLi4vaW1nL2pjZ2wvMS9oZXRvbmd4aW54aS5wbmcnCiAgICB9LCB7CiAgICAgIHRleHQ6ICLor4Hkuabkv6Hmga8iLAogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIGlkOiAiZHJpdGVtMjYiLAogICAgICBpY29uY2xzOiAnJywKICAgICAgaWNvbjogJy4uLy4uLy4uL2ltZy9qY2dsLzEvemhpeWV6aWdlbXVsdWd1YW5saS5wbmcnCiAgICB9LCB7CiAgICAgIHRleHQ6ICLlpZblirHmg6nnvZoiLAogICAgICBkaXNhYmxlZDogZmFsc2UsCiAgICAgIGlkOiAiZHJpdGVtMjMiLAogICAgICBpY29uY2xzOiAnJywKICAgICAgaWNvbjogJy4uLy4uLy4uL2ltZy9qY2dsLzEvamlhbmdsaWNoZW5nZmEucG5nJwogICAgfSwgewogICAgICB0ZXh0OiAi5Z+56K6t6K6w5b2VIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpZDogImRyaXRlbTIwIiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcva2ZnbC8xL3BlaXh1bmppbHVndWFubGkucG5nJwogICAgfSwgewogICAgICB0ZXh0OiAi5Yab6L2s5bmy6YOoIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpZDogImRyaXRlbTE3IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2p1bnpodWFuZ2FuYnUucG5nJwogICAgfSwgewogICAgICB0ZXh0OiAi5a2m5pyv5oiQ5p6cIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBpZDogImRyaXRlbTI3IiwKICAgICAgaWNvbmNsczogJycsCiAgICAgIGljb246ICcuLi8uLi8uLi9pbWcvamNnbC8xL2tleWFuY2hlbmdndW8ucG5nJwogICAgfV07CiAgICAvKioNCiAgICAgKiDlhbPns7vmoI/mlbDmja7pobnlr7zoiKrlj4LmlbDpm4blkIgNCiAgICAgKg0KICAgICAqIEB0eXBlIHthbnlbXX0NCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIubmF2UGFyYW1zQXJyYXkgPSBbewogICAgICBpZDogJ2RyaXRlbTI0JywKICAgICAgbG9jYWxDb250ZXh0OiBudWxsLAogICAgICBsb2NhbFZpZXdQYXJhbTogbnVsbAogICAgfSwgewogICAgICBpZDogJ2RyaXRlbTcnLAogICAgICBsb2NhbENvbnRleHQ6IG51bGwsCiAgICAgIGxvY2FsVmlld1BhcmFtOiBudWxsCiAgICB9LCB7CiAgICAgIGlkOiAnZHJpdGVtNCcsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0xNCcsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0zJywKICAgICAgbG9jYWxDb250ZXh0OiBudWxsLAogICAgICBsb2NhbFZpZXdQYXJhbTogbnVsbAogICAgfSwgewogICAgICBpZDogJ2RyaXRlbTEnLAogICAgICBsb2NhbENvbnRleHQ6IG51bGwsCiAgICAgIGxvY2FsVmlld1BhcmFtOiBudWxsCiAgICB9LCB7CiAgICAgIGlkOiAnZHJpdGVtMTgnLAogICAgICBsb2NhbENvbnRleHQ6IG51bGwsCiAgICAgIGxvY2FsVmlld1BhcmFtOiBudWxsCiAgICB9LCB7CiAgICAgIGlkOiAnZHJpdGVtNicsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0yMicsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW05JywKICAgICAgbG9jYWxDb250ZXh0OiBudWxsLAogICAgICBsb2NhbFZpZXdQYXJhbTogbnVsbAogICAgfSwgewogICAgICBpZDogJ2RyaXRlbTI2JywKICAgICAgbG9jYWxDb250ZXh0OiBudWxsLAogICAgICBsb2NhbFZpZXdQYXJhbTogewogICAgICAgIHNyZmtleTogImN1cnVzZXIiCiAgICAgIH0KICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0yMycsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0yMCcsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0xNycsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IG51bGwKICAgIH0sIHsKICAgICAgaWQ6ICdkcml0ZW0yNycsCiAgICAgIGxvY2FsQ29udGV4dDogbnVsbCwKICAgICAgbG9jYWxWaWV3UGFyYW06IHsKICAgICAgICBzcmZrZXk6ICJjdXJ1c2VyIgogICAgICB9CiAgICB9XTsKICAgIC8qKg0KICAgICAqIOm7mOiupOaJk+W8gOmhuQ0KICAgICAqDQogICAgICogQHR5cGUge3N0cmluZ1tdfQ0KICAgICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5kZWZhdWx0T3BlbmVkcyA9IFtdOwogICAgLyoqDQogICAgICog54i25pWw5o2uDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogICAgX3RoaXMyLnBhcmVudERhdGEgPSB7fTsKICAgIC8qKg0KICAgICAqIOWuveW6pg0KICAgICAqDQogICAgICogQHR5cGUge251bWJlcn0NCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIud2lkdGggPSAyNDA7CiAgICByZXR1cm4gX3RoaXMyOwogIH0KICAvKioNCiAgICog6I635Y+W6YOo5Lu257G75Z6LDQogICAqDQogICAqIEByZXR1cm5zIHtzdHJpbmd9DQogICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhZR0NEQmFzZSwgW3sKICAgIGtleTogImdldENvbnRyb2xUeXBlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb250cm9sVHlwZSgpIHsKICAgICAgcmV0dXJuICdEUkJBUic7CiAgICB9CiAgICAvKioNCiAgICAgKiDlhbPpl63op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55fSBhcmdzDQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNsb3NlVmlldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VWaWV3KGFyZ3MpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLiRlbWl0KCdjbG9zZXZpZXcnLCBbYXJnc10pOwogICAgfQogICAgLyoqDQogICAgICogIOiuoeaVsOWZqOWIt+aWsA0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImNvdW50ZXJSZWZyZXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudGVyUmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5jb3VudGVyU2VydmljZUFycmF5ICYmIF90aGlzLmNvdW50ZXJTZXJ2aWNlQXJyYXkubGVuZ3RoID4gMCkgewogICAgICAgIF90aGlzLmNvdW50ZXJTZXJ2aWNlQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaWYgKGl0ZW0ucmVmcmVzaERhdGEgJiYgaXRlbS5yZWZyZXNoRGF0YSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGl0ZW0ucmVmcmVzaERhdGEoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5aSa6aG55pWw5o2uDQogICAgICoNCiAgICAgKiBAcmV0dXJucyB7YW55W119DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldERhdGFzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7CiAgICB9CiAgICAvKioNCiAgICAgKiDojrflj5bljZXpobnmoJENCiAgICAgKg0KICAgICAqIEByZXR1cm5zIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXREYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb247CiAgICB9CiAgICAvKioNCiAgICAgKiDnlJ/lkb3lkajmnJ8NCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnZpZXdTdGF0ZSkgewogICAgICAgIHRoaXMudmlld1N0YXRlRXZlbnQgPSB0aGlzLnZpZXdTdGF0ZS5zdWJzY3JpYmUoZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICAgIHZhciB0YWcgPSBfcmVmLnRhZywKICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmLmFjdGlvbiwKICAgICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwoKICAgICAgICAgIGlmICghT2JqZWN0LmlzKHRhZywgX3RoaXMzLm5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoT2JqZWN0LmlzKCdzdGF0ZScsIGFjdGlvbikpIHsKICAgICAgICAgICAgdmFyIHN0YXRlID0gIV90aGlzMy5jb250ZXh0LnBpbXBlcnNvbiA/IHRydWUgOiBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy5zZXRJdGVtRGlzYWJsZWQoX3RoaXMzLml0ZW1zLCBzdGF0ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMub25TZWxlY3QoX3RoaXMzLml0ZW1zWzBdLmlkKTsKCiAgICAgICAgX3RoaXMzLiRlbWl0KCdzZWxlY3Rpb25jaGFuZ2UnLCBbX3RoaXMzLml0ZW1zWzBdXSk7CiAgICAgIH0pOwogICAgfQogICAgLyoqDQogICAgICogdnVlIOeUn+WRveWRqOacnw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImRlc3Ryb3llZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICBpZiAodGhpcy52aWV3U3RhdGVFdmVudCkgewogICAgICAgIHRoaXMudmlld1N0YXRlRXZlbnQudW5zdWJzY3JpYmUoKTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6I635Y+W5YWz57O76aG5DQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHsqfSBbYXJnPXt9XQ0KICAgICAqIEByZXR1cm5zIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXREUkJhckl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldERSQmFySXRlbSgpIHsKICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciBleHBtb2RlID0gYXJnLm5vZGV0eXBlOwoKICAgICAgaWYgKCFleHBtb2RlKSB7CiAgICAgICAgZXhwbW9kZSA9ICcnOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0zJykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlld25hbWU6ICdwaW1mYW1pbmZvcGltZmltLWdyaWQtdmlldycsCiAgICAgICAgICBwYXJlbnRkYXRham86IHt9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhleHBtb2RlLCAnZHJpdGVtMjAnKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aWV3bmFtZTogJ3RybXRyaWFucGVyc29uZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0xNCcpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpZXduYW1lOiAncGltbGFuZ3VhZ2VhYmlsaXR5eXlubGdyaWQtdmlldycsCiAgICAgICAgICBwYXJlbnRkYXRham86IHt9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhleHBtb2RlLCAnZHJpdGVtMjMnKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aWV3bmFtZTogJ3BpbXJld2FyZHB1bmlzaG1lbnRwaW0tamFuZ2wtZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW00JykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlld25hbWU6ICdwaW1lZHVjYXRpb25waW0tZWR1LWdyaWQtdmlldycsCiAgICAgICAgICBwYXJlbnRkYXRham86IHt9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhleHBtb2RlLCAnZHJpdGVtMjInKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aWV3bmFtZTogJ2F0dGVuZGFuY2VtcmVwb3J0bXh3c2MtZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW03JykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlld25hbWU6ICdwaW1kaXN0aXJidXRpb255Z2Zlbi1wZWktZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0yNCcpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpZXduYW1lOiAncGltcGVyc29uemRlZGl0LXZpZXcnLAogICAgICAgICAgcGFyZW50ZGF0YWpvOiB7fQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoZXhwbW9kZSwgJ2RyaXRlbTYnKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aWV3bmFtZTogJ3BpbWFjaGlldmVtZW50c3BpbS1qaXgtZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0yNycpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpZXduYW1lOiAncGltcGVyc29ueHNjZ2VkaXQtdmlldycsCiAgICAgICAgICBwYXJlbnRkYXRham86IHt9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhleHBtb2RlLCAnZHJpdGVtOScpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpZXduYW1lOiAncGltY29udHJhY3R3c3NncmlkLXZpZXcnLAogICAgICAgICAgcGFyZW50ZGF0YWpvOiB7fQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoZXhwbW9kZSwgJ2RyaXRlbTI2JykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlld25hbWU6ICdwaW1wZXJzb256aHpjZWRpdC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0xJykpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmlld25hbWU6ICdwaW13b3JraGlzdG9yeXBpbS13b3JrLWdyaWQtdmlldycsCiAgICAgICAgICBwYXJlbnRkYXRham86IHt9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcyhleHBtb2RlLCAnZHJpdGVtMTcnKSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aWV3bmFtZTogJ3BpbWFybXljYWRyZXNhcm15Z3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKGV4cG1vZGUsICdkcml0ZW0xOCcpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpZXduYW1lOiAncGltYXJjaGl2ZXNwaW0tZGFuZ2EtZ3JpZC12aWV3JywKICAgICAgICAgIHBhcmVudGRhdGFqbzoge30KICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgfQogICAgLyoqDQogICAgICog5aSE55CG5pWw5o2uDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHthbnlbXX0gaXRlbXMNCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZGF0YVByb2Nlc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRhdGFQcm9jZXNzKGl0ZW1zKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoX2l0ZW0pIHsKICAgICAgICBpZiAoX2l0ZW0uZXhwYW5kZWQpIHsKICAgICAgICAgIF90aGlzNC5kZWZhdWx0T3BlbmVkcy5wdXNoKF9pdGVtLmlkKTsKICAgICAgICB9CgogICAgICAgIF9pdGVtLmRpc2FibGVkID0gZmFsc2U7CgogICAgICAgIGlmIChfaXRlbS5pdGVtcyAmJiBBcnJheS5pc0FycmF5KF9pdGVtLml0ZW1zKSAmJiBfaXRlbS5pdGVtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczQuZGF0YVByb2Nlc3MoX2l0ZW0uaXRlbXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDojrflj5blrZDpobkNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGl0ZW1zDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGlkDQogICAgICogQHJldHVybnMgeyp9DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldEl0ZW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEl0ZW0oaXRlbXMsIGlkKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGl0ZW0gPSB7fTsKICAgICAgaXRlbXMuc29tZShmdW5jdGlvbiAoX2l0ZW0pIHsKICAgICAgICBpZiAoT2JqZWN0LmlzKF9pdGVtLmlkLCBpZCkpIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oaXRlbSwgX2l0ZW0pOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoX2l0ZW0uaXRlbXMgJiYgX2l0ZW0uaXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIHN1Ykl0ZW0gPSBfdGhpczUuZ2V0SXRlbShfaXRlbS5pdGVtcywgaWQpOwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzdWJJdGVtKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oaXRlbSwgc3ViSXRlbSk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9CiAgICAvKioNCiAgICAgKiDliJ3lp4vljJblr7zoiKrlj4LmlbANCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gZHJJdGVtDQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImluaXROYXZQYXJhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdE5hdlBhcmFtKGRySXRlbSkgewogICAgICB2YXIgcmV0dXJuTmF2UGFyYW0gPSB7fTsKCiAgICAgIGlmIChkckl0ZW0gJiYgZHJJdGVtLmlkKSB7CiAgICAgICAgdmFyIGN1ckRSSXRlbSA9IHRoaXMubmF2UGFyYW1zQXJyYXkuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5pcyhpdGVtLmlkLCBkckl0ZW0uaWQpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAoY3VyRFJJdGVtKSB7CiAgICAgICAgICB2YXIgbG9jYWxDb250ZXh0ID0gY3VyRFJJdGVtLmxvY2FsQ29udGV4dDsKICAgICAgICAgIHZhciBsb2NhbFZpZXdQYXJhbSA9IGN1ckRSSXRlbS5sb2NhbFZpZXdQYXJhbTsKCiAgICAgICAgICBpZiAobG9jYWxDb250ZXh0ICYmIE9iamVjdC5rZXlzKGxvY2FsQ29udGV4dCkubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgX2NvbnRleHQgPSB0aGlzLiR1dGlsLmNvbXB1dGVkTmF2RGF0YSh0aGlzLmZvcm1EYXRhLCB0aGlzLmNvbnRleHQsIHRoaXMudmlld3BhcmFtcywgbG9jYWxDb250ZXh0KTsKCiAgICAgICAgICAgIHJldHVybk5hdlBhcmFtLmxvY2FsQ29udGV4dCA9IF9jb250ZXh0OwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChsb2NhbFZpZXdQYXJhbSAmJiBPYmplY3Qua2V5cyhsb2NhbFZpZXdQYXJhbSkubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgX3BhcmFtcyA9IHRoaXMuJHV0aWwuY29tcHV0ZWROYXZEYXRhKHRoaXMuZm9ybURhdGEsIHRoaXMuY29udGV4dCwgdGhpcy52aWV3cGFyYW1zLCBsb2NhbFZpZXdQYXJhbSk7CgogICAgICAgICAgICByZXR1cm5OYXZQYXJhbS5sb2NhbFZpZXdQYXJhbSA9IF9wYXJhbXM7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHJldHVybk5hdlBhcmFtOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOiKgueCuemAieS4rQ0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25TZWxlY3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VsZWN0KCRldmVudCkgewogICAgICB2YXIgaXRlbSA9IHRoaXMuZ2V0SXRlbSh0aGlzLml0ZW1zLCAkZXZlbnQpOwoKICAgICAgaWYgKE9iamVjdC5pcyhpdGVtLmlkLCB0aGlzLnNlbGVjdGlvbi5pZCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbmNoYW5nZScsIFtpdGVtXSk7CiAgICAgIHZhciBsb2NhbE5hdlBhcmFtID0gdGhpcy5pbml0TmF2UGFyYW0oaXRlbSk7CiAgICAgIHZhciByZWZ2aWV3ID0gdGhpcy5nZXREUkJhckl0ZW0oewogICAgICAgIG5vZGV0eXBlOiBpdGVtLmlkCiAgICAgIH0pOwogICAgICB0aGlzLnNlbGVjdGlvbiA9IHt9OwoKICAgICAgdmFyIF9jb250ZXh0ID0gX29iamVjdFNwcmVhZCh7fSwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRleHQpKSk7CgogICAgICBpZiAobG9jYWxOYXZQYXJhbSAmJiBsb2NhbE5hdlBhcmFtLmxvY2FsQ29udGV4dCkgewogICAgICAgIE9iamVjdC5hc3NpZ24oX2NvbnRleHQsIGxvY2FsTmF2UGFyYW0ubG9jYWxDb250ZXh0KTsKICAgICAgfQoKICAgICAgdmFyIF9wYXJhbXMgPSB7fTsKCiAgICAgIGlmIChsb2NhbE5hdlBhcmFtICYmIGxvY2FsTmF2UGFyYW0ubG9jYWxWaWV3UGFyYW0pIHsKICAgICAgICBPYmplY3QuYXNzaWduKF9wYXJhbXMsIGxvY2FsTmF2UGFyYW0ubG9jYWxWaWV3UGFyYW0pOwogICAgICB9CgogICAgICBpZiAocmVmdmlldyAmJiByZWZ2aWV3LnBhcmVudGRhdGFqbykgewogICAgICAgIE9iamVjdC5hc3NpZ24oX2NvbnRleHQsIHJlZnZpZXcucGFyZW50ZGF0YWpvKTsKICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0aW9uLCB7CiAgICAgICAgICB2aWV3OiB7CiAgICAgICAgICAgIHZpZXduYW1lOiByZWZ2aWV3LnZpZXduYW1lCiAgICAgICAgICB9LAogICAgICAgICAgZGF0YTogX2NvbnRleHQsCiAgICAgICAgICBwYXJhbTogX3BhcmFtcwogICAgICAgIH0pOwogICAgICB9CgogICAgICBPYmplY3QuYXNzaWduKHRoaXMuc2VsZWN0aW9uLCBpdGVtKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWtkOiKgueCueaJk+W8gA0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgWUdDREJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAib25PcGVuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wZW4oJGV2ZW50KSB7CiAgICAgIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKHRoaXMuaXRlbXMsICRldmVudCk7CgogICAgICBpZiAoT2JqZWN0LmlzKGl0ZW0uaWQsIHRoaXMuc2VsZWN0aW9uLmlkKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB7fTsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnNlbGVjdGlvbiwgaXRlbSk7CgogICAgICBpZiAoT2JqZWN0LmlzKGl0ZW0uaWQsICdmb3JtJykgfHwgaXRlbS52aWV3bmFtZSAmJiAhT2JqZWN0LmlzKGl0ZW0udmlld25hbWUsICcnKSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbmNoYW5nZScsIFt0aGlzLnNlbGVjdGlvbl0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDlrZDoioLngrnlhbPpl60NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFlHQ0RCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uQ2xvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xvc2UoJGV2ZW50KSB7CiAgICAgIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKHRoaXMuaXRlbXMsICRldmVudCk7CgogICAgICBpZiAoT2JqZWN0LmlzKGl0ZW0uaWQsIHRoaXMuc2VsZWN0aW9uLmlkKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB7fTsKICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLnNlbGVjdGlvbiwgaXRlbSk7CgogICAgICBpZiAoT2JqZWN0LmlzKGl0ZW0uaWQsICdmb3JtJykgfHwgaXRlbS52aWV3bmFtZSAmJiAhT2JqZWN0LmlzKGl0ZW0udmlld25hbWUsICcnKSkgewogICAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdGlvbmNoYW5nZScsIFt0aGlzLnNlbGVjdGlvbl0pOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiDorr7nva7lhbPns7vpobnnirbmgIENCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGl0ZW1zDQogICAgICogQHBhcmFtIHtib29sZWFufSBzdGF0ZQ0KICAgICAqIEBtZW1iZXJvZiBZR0NEQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZXRJdGVtRGlzYWJsZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEl0ZW1EaXNhYmxlZChpdGVtcywgc3RhdGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKCFPYmplY3QuaXMoaXRlbS5pZCwgJ2Zvcm0nKSkgewogICAgICAgICAgaXRlbS5kaXNhYmxlZCA9IHN0YXRlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGl0ZW0uaXRlbXMgJiYgQXJyYXkuaXNBcnJheShpdGVtLml0ZW1zKSkgewogICAgICAgICAgX3RoaXM2LnNldEl0ZW1EaXNhYmxlZChpdGVtLml0ZW1zLCBzdGF0ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBZR0NEQmFzZTsKfShWdWUpOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBZR0NEQmFzZS5wcm90b3R5cGUsICJuYW1lIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgWUdDREJhc2UucHJvdG90eXBlLCAidmlld1N0YXRlIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCgpXSwgWUdDREJhc2UucHJvdG90eXBlLCAiY29udGV4dCIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIFlHQ0RCYXNlLnByb3RvdHlwZSwgInZpZXdwYXJhbXMiLCB2b2lkIDApOwoKdHNsaWJfMS5fX2RlY29yYXRlKFtQcm9wKCldLCBZR0NEQmFzZS5wcm90b3R5cGUsICJsb2FkQWN0aW9uIiwgdm9pZCAwKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbUHJvcCh7CiAgImRlZmF1bHQiOiB7fQp9KV0sIFlHQ0RCYXNlLnByb3RvdHlwZSwgImZvcm1EYXRhIiwgdm9pZCAwKTsKCllHQ0RCYXNlID0gdHNsaWJfMS5fX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHt9Cn0pXSwgWUdDREJhc2UpOwpleHBvcnQgZGVmYXVsdCBZR0NEQmFzZTs="},null]}