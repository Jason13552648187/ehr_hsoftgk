{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\utils\\view-tool\\view-tool.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\utils\\view-tool\\view-tool.ts","mtime":1630509410949},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBxcyBmcm9tICdxcyc7CmV4cG9ydCB2YXIgVmlld1Rvb2wgPQovKiNfX1BVUkVfXyovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBWaWV3VG9vbCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWaWV3VG9vbCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoVmlld1Rvb2wsIG51bGwsIFt7CiAgICBrZXk6ICJnZXRWaWV3ZGF0YSIsCgogICAgLyoqDQogICAgICog6Kej5p6Q5Y+C5pWw77yM6L+U5Zuedmlld2RhdGENCiAgICAgKg0KICAgICAqIEBzdGF0aWMNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBbYXJnc10g5aSa6aG55pWw5o2uDQogICAgICogQHBhcmFtIHsqfSBbdmlld1BhcmFtXSDop4blm77lj4LmlbANCiAgICAgKiBAcGFyYW0ge2FueVtdfSBbZGVSZXNQYXJhbWV0ZXJzXSDlhbPns7vlrp7kvZPlj4LmlbDlr7nosaENCiAgICAgKiBAcGFyYW0ge2FueVtdfSBbcGFyYW1ldGVyc10g5b2T5YmN5bqU55So6KeG5Zu+5Y+C5pWw5a+56LGhDQogICAgICogQHBhcmFtIHsqfSBbZGF0YV0g6KGM5Li65Y+C5pWwDQogICAgICogQHJldHVybnMNCiAgICAgKiBAbWVtYmVyb2YgVmlld1Rvb2wNCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWV3ZGF0YSgpIHsKICAgICAgdmFyIHZpZXdQYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHBhcmFtZXRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIGRhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9OwogICAgICB2YXIgdmlld2RhdGEgPSB7fTsKCiAgICAgIHZhciBfYXJncyA9IF9zbGljZWRUb0FycmF5KGFyZ3MsIDEpLAogICAgICAgICAgYXJnID0gX2FyZ3NbMF07CgogICAgICBhcmcgPSBhcmcgPyBhcmcgOiB7fTsgLy8g6aaW6aG16KeG5Zu+5Y+C5pWwCgogICAgICB2YXIgaW5kZXhWaWV3UGFyYW0gPSBWaWV3VG9vbC5nZXRJbmRleFZpZXdQYXJhbSgpOwogICAgICBPYmplY3QuYXNzaWduKHZpZXdkYXRhLCBpbmRleFZpZXdQYXJhbSk7IC8vIOWFs+ezu+W6lOeUqOWunuS9k+WPguaVsAoKICAgICAgZGVSZXNQYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgcGF0aE5hbWUgPSBfcmVmLnBhdGhOYW1lLAogICAgICAgICAgICBwYXJhbWV0ZXJOYW1lID0gX3JlZi5wYXJhbWV0ZXJOYW1lOwoKICAgICAgICBpZiAodmlld1BhcmFtW3BhcmFtZXRlck5hbWVdICYmICFPYmplY3QuaXModmlld1BhcmFtW3BhcmFtZXRlck5hbWVdLCAnJykpIHsKICAgICAgICAgIE9iamVjdC5hc3NpZ24odmlld2RhdGEsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcGFyYW1ldGVyTmFtZSwgdmlld1BhcmFtW3BhcmFtZXRlck5hbWVdKSk7CiAgICAgICAgfSBlbHNlIGlmIChhcmdbcGFyYW1ldGVyTmFtZV0gJiYgIU9iamVjdC5pcyhhcmdbcGFyYW1ldGVyTmFtZV0sICcnKSkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbih2aWV3ZGF0YSwgX2RlZmluZVByb3BlcnR5KHt9LCBwYXJhbWV0ZXJOYW1lLCBhcmdbcGFyYW1ldGVyTmFtZV0pKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDlvZPliY3op4blm77lj4LmlbDvvIjlupTnlKjlrp7kvZPop4blm77vvIkKCiAgICAgIHBhcmFtZXRlcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgcGF0aE5hbWUgPSBfcmVmMi5wYXRoTmFtZSwKICAgICAgICAgICAgcGFyYW1ldGVyTmFtZSA9IF9yZWYyLnBhcmFtZXRlck5hbWU7CgogICAgICAgIGlmIChhcmdbcGFyYW1ldGVyTmFtZV0gJiYgIU9iamVjdC5pcyhhcmdbcGFyYW1ldGVyTmFtZV0sICcnKSkgewogICAgICAgICAgT2JqZWN0LmFzc2lnbih2aWV3ZGF0YSwgX2RlZmluZVByb3BlcnR5KHt9LCBwYXJhbWV0ZXJOYW1lLCBhcmdbcGFyYW1ldGVyTmFtZV0pKTsKICAgICAgICB9CiAgICAgIH0pOyAvLyDop4blm77luLjop4Tlj4LmlbAKCiAgICAgIE9iamVjdC5hc3NpZ24odmlld2RhdGEsIGRhdGEpOyAvLyDkvKDlhaXniLbop4blm77nmoRzcmZzZXNzaW9uaWQKCiAgICAgIE9iamVjdC5hc3NpZ24odmlld2RhdGEsIHsKICAgICAgICBzcmZzZXNzaW9uaWQ6IHZpZXdQYXJhbVsnc3Jmc2Vzc2lvbmlkJ10KICAgICAgfSk7CiAgICAgIHJldHVybiB2aWV3ZGF0YTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWkhOeQhui3r+eUsei3r+W+hA0KICAgICAqDQogICAgICogQHN0YXRpYw0KICAgICAqIEBwYXJhbSB7Um91dGV9IHJvdXRlIOi3r+eUsQ0KICAgICAqIEBwYXJhbSB7Kn0gW3ZpZXdQYXJhbT17fV0NCiAgICAgKiBAcGFyYW0ge2FueVtdfSBkZVJlc1BhcmFtZXRlcnMg5YWz57O75a6e5L2T5Y+C5pWw5a+56LGhDQogICAgICogQHBhcmFtIHthbnlbXX0gcGFyYW1ldGVycyDlvZPliY3lupTnlKjop4blm77lj4LmlbDlr7nosaENCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOWkmumhueaVsOaNrg0KICAgICAqIEBwYXJhbSB7Kn0gZGF0YSDooYzkuLrlj4LmlbANCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3VG9vbA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJidWlsZFVwUm91dGVQYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFVwUm91dGVQYXRoKHJvdXRlKSB7CiAgICAgIHZhciB2aWV3UGFyYW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICB2YXIgZGVSZXNQYXJhbWV0ZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBwYXJhbWV0ZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgPyBhcmd1bWVudHNbNF0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBkYXRhID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgPyBhcmd1bWVudHNbNV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciBpbmRleFJvdXRlUGF0aCA9IHRoaXMuZ2V0SW5kZXhSb3V0ZVBhdGgocm91dGUpOwogICAgICB2YXIgZGVSZXNSb3V0ZVBhdGggPSB0aGlzLmdldERlUmVzUm91dGVQYXRoKHZpZXdQYXJhbSwgZGVSZXNQYXJhbWV0ZXJzLCBhcmdzKTsKICAgICAgdmFyIGRlUm91dGVQYXRoID0gdGhpcy5nZXRBY3RpdmVSb3V0ZVBhdGgocGFyYW1ldGVycywgYXJncywgZGF0YSk7CiAgICAgIHJldHVybiAiIi5jb25jYXQoaW5kZXhSb3V0ZVBhdGgpLmNvbmNhdChkZVJlc1JvdXRlUGF0aCkuY29uY2F0KGRlUm91dGVQYXRoKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOiOt+WPlummlumhteaguei3r+eUsei3r+W+hA0KICAgICAqDQogICAgICogQHN0YXRpYw0KICAgICAqIEBwYXJhbSB7Um91dGV9IHJvdXRlIOi3r+eUseWvueixoQ0KICAgICAqIEByZXR1cm5zIHtzdHJpbmd9DQogICAgICogQG1lbWJlcm9mIFZpZXdUb29sDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldEluZGV4Um91dGVQYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmRleFJvdXRlUGF0aChyb3V0ZSkgewogICAgICB2YXIgX3BhcmFtZXRlcnMgPSByb3V0ZS5tZXRhLnBhcmFtZXRlcnM7CiAgICAgIHZhciBfcGFyYW1ldGVycyQgPSBfcGFyYW1ldGVyc1swXSwKICAgICAgICAgIF9wYXRoTmFtZSA9IF9wYXJhbWV0ZXJzJC5wYXRoTmFtZSwKICAgICAgICAgIF9wYXJhbWV0ZXJOYW1lID0gX3BhcmFtZXRlcnMkLnBhcmFtZXRlck5hbWU7CiAgICAgIHZhciBwYXJhbSA9IHJvdXRlLnBhcmFtc1tfcGFyYW1ldGVyTmFtZV07CgogICAgICBpZiAocGFyYW0gJiYgIU9iamVjdC5pcyhwYXJhbSwgJycpKSB7CiAgICAgICAgcmV0dXJuICIvIi5jb25jYXQoX3BhdGhOYW1lLCAiLyIpLmNvbmNhdChwYXJhbSk7CiAgICAgIH0KCiAgICAgIHJldHVybiAiLyIuY29uY2F0KF9wYXRoTmFtZSwgIi9udWxsIik7CiAgICB9CiAgICAvKioNCiAgICAgKiDojrflj5blhbPns7vlrp7kvZPot6/lvoQNCiAgICAgKg0KICAgICAqIEBzdGF0aWMNCiAgICAgKiBAcGFyYW0geyp9IFt2aWV3UGFyYW09e31dIOinhuWbvuWPguaVsA0KICAgICAqIEBwYXJhbSB7YW55W119IGRlUmVzUGFyYW1ldGVycyDlhbPns7vlrp7kvZPlj4LmlbDlr7nosaENCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOWkmumhueaVsOaNrg0KICAgICAqIEByZXR1cm5zIHtzdHJpbmd9DQogICAgICogQG1lbWJlcm9mIFZpZXdUb29sDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldERlUmVzUm91dGVQYXRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREZVJlc1JvdXRlUGF0aCgpIHsKICAgICAgdmFyIHZpZXdQYXJhbSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyIHJvdXRlUGF0aCA9ICcnOwoKICAgICAgdmFyIF9hcmdzMiA9IF9zbGljZWRUb0FycmF5KGFyZ3MsIDEpLAogICAgICAgICAgYXJnID0gX2FyZ3MyWzBdOwoKICAgICAgYXJnID0gYXJnID8gYXJnIDoge307CgogICAgICBpZiAoZGVSZXNQYXJhbWV0ZXJzICYmIGRlUmVzUGFyYW1ldGVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgZGVSZXNQYXJhbWV0ZXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICB2YXIgcGF0aE5hbWUgPSBfcmVmMy5wYXRoTmFtZSwKICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lID0gX3JlZjMucGFyYW1ldGVyTmFtZTsKICAgICAgICAgIHZhciB2YWx1ZSA9IG51bGw7CgogICAgICAgICAgaWYgKHZpZXdQYXJhbVtwYXJhbWV0ZXJOYW1lXSAmJiAhT2JqZWN0LmlzKHZpZXdQYXJhbVtwYXJhbWV0ZXJOYW1lXSwgJycpICYmICFPYmplY3QuaXModmlld1BhcmFtW3BhcmFtZXRlck5hbWVdLCAnbnVsbCcpKSB7CiAgICAgICAgICAgIHZhbHVlID0gdmlld1BhcmFtW3BhcmFtZXRlck5hbWVdOwogICAgICAgICAgfSBlbHNlIGlmIChhcmdbcGFyYW1ldGVyTmFtZV0gJiYgIU9iamVjdC5pcyhhcmdbcGFyYW1ldGVyTmFtZV0sICcnKSAmJiAhT2JqZWN0LmlzKGFyZ1twYXJhbWV0ZXJOYW1lXSwgJ251bGwnKSkgewogICAgICAgICAgICB2YWx1ZSA9IGFyZ1twYXJhbWV0ZXJOYW1lXTsKICAgICAgICAgIH0KCiAgICAgICAgICByb3V0ZVBhdGggPSAiIi5jb25jYXQocm91dGVQYXRoLCAiLyIpLmNvbmNhdChwYXRoTmFtZSwgIi8iKS5jb25jYXQodmFsdWUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gcm91dGVQYXRoOwogICAgfQogICAgLyoqDQogICAgICog5b2T5YmN5r+A5rS76Lev55Sx6Lev5b6EDQogICAgICoNCiAgICAgKiBAc3RhdGljDQogICAgICogQHBhcmFtIHthbnlbXX0gcGFyYW1ldGVycyDlvZPliY3lupTnlKjop4blm77lj4LmlbDlr7nosaENCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOWkmumhueaVsOaNrg0KICAgICAqIEBwYXJhbSB7Kn0gZGF0YSDooYzkuLrlj4LmlbANCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3VG9vbA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRBY3RpdmVSb3V0ZVBhdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFjdGl2ZVJvdXRlUGF0aChwYXJhbWV0ZXJzLCBhcmdzLCBkYXRhKSB7CiAgICAgIHZhciByb3V0ZVBhdGggPSAnJzsgLy8g5LiN5a2Y5Zyo5bqU55So5a6e5L2TCgogICAgICBpZiAocGFyYW1ldGVycyAmJiBwYXJhbWV0ZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAocGFyYW1ldGVycy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgIHZhciBfcGFyYW1ldGVyczIgPSBfc2xpY2VkVG9BcnJheShwYXJhbWV0ZXJzLCAxKSwKICAgICAgICAgICAgICBfcGFyYW1ldGVyczIkID0gX3BhcmFtZXRlcnMyWzBdLAogICAgICAgICAgICAgIHBhdGhOYW1lID0gX3BhcmFtZXRlcnMyJC5wYXRoTmFtZSwKICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lID0gX3BhcmFtZXRlcnMyJC5wYXJhbWV0ZXJOYW1lOwoKICAgICAgICAgIHJvdXRlUGF0aCA9ICIvIi5jb25jYXQocGF0aE5hbWUpOwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHJvdXRlUGF0aCA9ICIiLmNvbmNhdChyb3V0ZVBhdGgsICI/IikuY29uY2F0KHFzLnN0cmluZ2lmeShkYXRhLCB7CiAgICAgICAgICAgICAgZGVsaW1pdGVyOiAnOycKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocGFyYW1ldGVycy5sZW5ndGggPT09IDIpIHsKICAgICAgICAgIHZhciBfYXJnczMgPSBfc2xpY2VkVG9BcnJheShhcmdzLCAxKSwKICAgICAgICAgICAgICBhcmcgPSBfYXJnczNbMF07CgogICAgICAgICAgYXJnID0gYXJnID8gYXJnIDoge307CgogICAgICAgICAgdmFyIF9wYXJhbWV0ZXJzMyA9IF9zbGljZWRUb0FycmF5KHBhcmFtZXRlcnMsIDIpLAogICAgICAgICAgICAgIF9wYXJhbWV0ZXJzMyQgPSBfcGFyYW1ldGVyczNbMF0sCiAgICAgICAgICAgICAgX3BhdGhOYW1lID0gX3BhcmFtZXRlcnMzJC5wYXRoTmFtZSwKICAgICAgICAgICAgICBfcGFyYW1ldGVyTmFtZSA9IF9wYXJhbWV0ZXJzMyQucGFyYW1ldGVyTmFtZSwKICAgICAgICAgICAgICBfcGFyYW1ldGVyczMkMiA9IF9wYXJhbWV0ZXJzM1sxXSwKICAgICAgICAgICAgICBfcGF0aE5hbWUyID0gX3BhcmFtZXRlcnMzJDIucGF0aE5hbWUsCiAgICAgICAgICAgICAgX3BhcmFtZXRlck5hbWUyID0gX3BhcmFtZXRlcnMzJDIucGFyYW1ldGVyTmFtZTsKCiAgICAgICAgICB2YXIgX3ZhbHVlID0gYXJnW19wYXJhbWV0ZXJOYW1lXSAmJiAhT2JqZWN0LmlzKGFyZ1tfcGFyYW1ldGVyTmFtZV0sICcnKSA/IGFyZ1tfcGFyYW1ldGVyTmFtZV0gOiBudWxsOwoKICAgICAgICAgIHJvdXRlUGF0aCA9ICIvIi5jb25jYXQoX3BhdGhOYW1lLCAiLyIpLmNvbmNhdChfdmFsdWUsICIvIikuY29uY2F0KF9wYXRoTmFtZTIpOwoKICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkYXRhKS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHJvdXRlUGF0aCA9ICIiLmNvbmNhdChyb3V0ZVBhdGgsICI/IikuY29uY2F0KHFzLnN0cmluZ2lmeShkYXRhLCB7CiAgICAgICAgICAgICAgZGVsaW1pdGVyOiAnOycKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHJvdXRlUGF0aDsKICAgIH0KICAgIC8qKg0KICAgICAqIOagvOW8j+WMlui3r+eUseWPguaVsA0KICAgICAqDQogICAgICogQHN0YXRpYw0KICAgICAqIEBwYXJhbSB7Kn0gcGFyYW1zDQogICAgICogQHJldHVybnMgeyp9DQogICAgICogQG1lbWJlcm9mIFZpZXdUb29sDQogICAgICovCgogIH0sIHsKICAgIGtleTogImZvcm1hdFJvdXRlUGFyYW1zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JtYXRSb3V0ZVBhcmFtcyhwYXJhbXMsIHJvdXRlLCBjb250ZXh0LCB2aWV3cGFyYW1zKSB7CiAgICAgIE9iamVjdC5rZXlzKHBhcmFtcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkgewogICAgICAgIHZhciBwYXJhbSA9IHBhcmFtc1trZXldOwoKICAgICAgICBpZiAoIXBhcmFtIHx8IE9iamVjdC5pcyhwYXJhbSwgJycpIHx8IE9iamVjdC5pcyhwYXJhbSwgJ251bGwnKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKHBhcmFtLmluZGV4T2YoJz0nKSA+IDApIHsKICAgICAgICAgIHZhciBfcGFyYW0gPSBxcy5wYXJzZShwYXJhbSwgewogICAgICAgICAgICBkZWxpbWl0ZXI6ICc7JwogICAgICAgICAgfSk7CgogICAgICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCBfcGFyYW0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCBwYXJhbSkpOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICBpZiAocm91dGUgJiYgcm91dGUuZnVsbFBhdGggJiYgcm91dGUuZnVsbFBhdGguaW5kZXhPZigiPyIpID4gLTEpIHsKICAgICAgICB2YXIgX3ZpZXdwYXJhbXMgPSByb3V0ZS5mdWxsUGF0aC5zbGljZShyb3V0ZS5mdWxsUGF0aC5pbmRleE9mKCI/IikgKyAxKTsKCiAgICAgICAgdmFyIF92aWV3cGFyYW1BcnJheSA9IGRlY29kZVVSSUNvbXBvbmVudChfdmlld3BhcmFtcykuc3BsaXQoIjsiKTsKCiAgICAgICAgaWYgKF92aWV3cGFyYW1BcnJheS5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdmlld3BhcmFtQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBPYmplY3QuYXNzaWduKHZpZXdwYXJhbXMsIHFzLnBhcnNlKGl0ZW0pKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog6K6+572u6aaW6aG16Lev55Sx57uT5p6E5Y+C5pWwDQogICAgICoNCiAgICAgKiBAc3RhdGljDQogICAgICogQHBhcmFtIHthbnlbXX0gcGFyYW1ldGVycw0KICAgICAqIEBtZW1iZXJvZiBWaWV3VG9vbA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZXRJbmRleFBhcmFtZXRlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluZGV4UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7CiAgICAgIHRoaXMuaW5kZXhQYXJhbWV0ZXJzID0gX3RvQ29uc3VtYWJsZUFycmF5KHBhcmFtZXRlcnMpOwogICAgfQogICAgLyoqDQogICAgICog6I635Y+W6aaW6aG16Lev55Sx57uT5p6E5Y+C5pWwDQogICAgICoNCiAgICAgKiBAc3RhdGljDQogICAgICogQHJldHVybnMge2FueVtdfQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3VG9vbA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRJbmRleFBhcmFtZXRlcnMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluZGV4UGFyYW1ldGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5kZXhQYXJhbWV0ZXJzOwogICAgfQogICAgLyoqDQogICAgICog6K6+572u6aaW6aG16KeG5Zu+5Y+C5pWwDQogICAgICoNCiAgICAgKiBAc3RhdGljDQogICAgICogQHBhcmFtIHsqfSBbdmlld1BhcmFtPXt9XQ0KICAgICAqIEBtZW1iZXJvZiBWaWV3VG9vbA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJzZXRJbmRleFZpZXdQYXJhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5kZXhWaWV3UGFyYW0oKSB7CiAgICAgIHZhciB2aWV3UGFyYW0gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW5kZXhWaWV3UGFyYW0sIHZpZXdQYXJhbSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDojrflj5bpppbpobXop4blm77lj4LmlbANCiAgICAgKg0KICAgICAqIEBzdGF0aWMNCiAgICAgKiBAcmV0dXJucyB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgVmlld1Rvb2wNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0SW5kZXhWaWV3UGFyYW0iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEluZGV4Vmlld1BhcmFtKCkgewogICAgICByZXR1cm4gdGhpcy5pbmRleFZpZXdQYXJhbTsKICAgIH0KICB9XSk7CgogIHJldHVybiBWaWV3VG9vbDsKfSgpOwovKioNCiAqIOmmlumhtei3r+eUsee7k+aehOWPguaVsA0KICoNCiAqIEBwcml2YXRlDQogKiBAc3RhdGljDQogKiBAdHlwZSB7YW55W119DQogKiBAbWVtYmVyb2YgVmlld1Rvb2wNCiAqLwoKVmlld1Rvb2wuaW5kZXhQYXJhbWV0ZXJzID0gW107Ci8qKg0KICog6aaW6aG16KeG5Zu+5Y+C5pWwDQogKg0KICogQHN0YXRpYw0KICogQHR5cGUgeyp9DQogKiBAbWVtYmVyb2YgVmlld1Rvb2wNCiAqLwoKVmlld1Rvb2wuaW5kZXhWaWV3UGFyYW0gPSB7fTs="},null]}