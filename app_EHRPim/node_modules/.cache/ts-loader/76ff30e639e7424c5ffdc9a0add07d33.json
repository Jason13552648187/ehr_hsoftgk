{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--14-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimtitlegrid-view\\pimtitlegrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimtitlegrid-view\\pimtitlegrid-view-base.vue","mtime":1630509410294},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZGVmaW5lLXByb3BlcnR5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfZ2V0IGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9CgppbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gInRzbGliIjsKaW1wb3J0IHsgQ29tcG9uZW50LCBQcm9wLCBFbWl0LCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7CmltcG9ydCB7IFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmcsIEdyaWRWaWV3QmFzZSB9IGZyb20gJ0AvY3JtLWNvcmUnOwppbXBvcnQgUGltVGl0bGVTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9waW0tdGl0bGUvcGltLXRpdGxlLXNlcnZpY2UnOwppbXBvcnQgR3JpZFZpZXdFbmdpbmUgZnJvbSAnQGVuZ2luZS92aWV3L2dyaWQtdmlldy1lbmdpbmUnOwovKioNCiAqIOiBjOensOS/oeaBr+ihqOagvOinhuWbvuWfuuexuw0KICoNCiAqIEBleHBvcnQNCiAqIEBjbGFzcyBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICogQGV4dGVuZHMge0dyaWRWaWV3QmFzZX0NCiAqLwoKdmFyIFBJTVRJVExFR3JpZFZpZXdCYXNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX0dyaWRWaWV3QmFzZSkgewogIF9pbmhlcml0cyhQSU1USVRMRUdyaWRWaWV3QmFzZSwgX0dyaWRWaWV3QmFzZSk7CgogIC8qKg0KICAgKiDogYznp7Dkv6Hmga/ooajmoLzop4blm77ln7rnsbsNCiAgICoNCiAgICogQGV4cG9ydA0KICAgKiBAY2xhc3MgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICogQGV4dGVuZHMge0dyaWRWaWV3QmFzZX0NCiAgICovCiAgZnVuY3Rpb24gUElNVElUTEVHcmlkVmlld0Jhc2UoKSB7CiAgICB2YXIgX3RoaXMyOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQSU1USVRMRUdyaWRWaWV3QmFzZSk7CgogICAgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFBJTVRJVExFR3JpZFZpZXdCYXNlKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIC8qKg0KICAgICAqIOWunuS9k+acjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQHR5cGUge1BpbVRpdGxlU2VydmljZX0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuYXBwRW50aXR5U2VydmljZSA9IG5ldyBQaW1UaXRsZVNlcnZpY2UoKTsKICAgIC8qKg0KICAgICAqIOiuoeaVsOWZqOacjeWKoeWvueixoembhuWQiA0KICAgICAqDQogICAgICogQHR5cGUge0FycmF5PCo+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jb3VudGVyU2VydmljZUFycmF5ID0gW107CiAgICAvKioNCiAgICAgKiDop4blm77moIfor4YNCiAgICAgKg0KICAgICAqIEB0eXBlIHtzdHJpbmd9DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXd0YWcgPSAnMDUzYWQzMWZkZWIyYjFmYWQ1MTM5NWU3ZTFhODFjNjcnOwogICAgLyoqDQogICAgICog54i25pWw5o2u5a+56LGhDQogICAgICoNCiAgICAgKiBAcHJvdGVjdGVkDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnNyZnBhcmVudGRhdGEgPSB7fTsKICAgIC8qKg0KICAgICAqIOiHquWumuS5ieinhuWbvuWvvOiIquS4iuS4i+aWh+mbhuWQiA0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLmN1c3RvbVZpZXdOYXZDb250ZXh0cyA9IHt9OwogICAgLyoqDQogICAgICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5Y+C5pWw6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuY3VzdG9tVmlld1BhcmFtcyA9IHt9OwogICAgLyoqDQogICAgICog6KeG5Zu+5qih5Z6L5pWw5o2uDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIubW9kZWwgPSB7CiAgICAgIHNyZkNhcHRpb246ICdlbnRpdGllcy5waW10aXRsZS52aWV3cy5ncmlkdmlldy5jYXB0aW9uJywKICAgICAgc3JmVGl0bGU6ICdlbnRpdGllcy5waW10aXRsZS52aWV3cy5ncmlkdmlldy50aXRsZScsCiAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltdGl0bGUudmlld3MuZ3JpZHZpZXcuc3VidGl0bGUnLAogICAgICBkYXRhSW5mbzogJycKICAgIH07CiAgICAvKioNCiAgICAgKiDlrrnlmajmqKHlnosNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5jb250YWluZXJNb2RlbCA9IHsKICAgICAgdmlld190b29sYmFyOiB7CiAgICAgICAgbmFtZTogJ3Rvb2xiYXInLAogICAgICAgIHR5cGU6ICdUT09MQkFSJwogICAgICB9LAogICAgICB2aWV3X2dyaWQ6IHsKICAgICAgICBuYW1lOiAnZ3JpZCcsCiAgICAgICAgdHlwZTogJ0dSSUQnCiAgICAgIH0sCiAgICAgIHZpZXdfc2VhcmNoZm9ybTogewogICAgICAgIG5hbWU6ICdzZWFyY2hmb3JtJywKICAgICAgICB0eXBlOiAnU0VBUkNIRk9STScKICAgICAgfQogICAgfTsKICAgIC8qKg0KICAgICAqIOinhuWbvueKtuaAgeiuoumYheWvueixoQ0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEB0eXBlIHtTdWJqZWN0PHthY3Rpb246IHN0cmluZywgZGF0YTogYW55fT59DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogICAgX3RoaXMyLnZpZXdTdGF0ZSA9IG5ldyBTdWJqZWN0KCk7CiAgICAvKioNCiAgICAgKiDlt6XlhbfmoI/mqKHlnosNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3DQogICAgICovCgogICAgX3RoaXMyLnRvb2xCYXJNb2RlbHMgPSB7CiAgICAgIHRiaXRlbTM6IHsKICAgICAgICBuYW1lOiAndGJpdGVtMycsCiAgICAgICAgY2FwdGlvbjogJ+aWsOW7uicsCiAgICAgICAgJ2lzU2hvd0NhcHRpb24nOiB0cnVlLAogICAgICAgICdpc1Nob3dJY29uJzogdHJ1ZSwKICAgICAgICB0b29sdGlwOiAn5paw5bu6JywKICAgICAgICBpY29uY2xzOiAnZmEgZmEtZmlsZS10ZXh0LW8nLAogICAgICAgIGljb246ICcnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnREVVSUFDVElPTicsCiAgICAgICAgdmlzYWJsZWQ6IHRydWUsCiAgICAgICAgZGF0YWFjY2FjdGlvbjogJycsCiAgICAgICAgdWlhY3Rpb246IHsKICAgICAgICAgIHRhZzogJ05ldycsCiAgICAgICAgICB0YXJnZXQ6ICcnCiAgICAgICAgfSwKICAgICAgICAiY2xhc3MiOiAnJwogICAgICB9LAogICAgICB0Yml0ZW04OiB7CiAgICAgICAgbmFtZTogJ3RiaXRlbTgnLAogICAgICAgIGNhcHRpb246ICfliKDpmaQnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+WIoOmZpCcsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLXJlbW92ZScsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnU1JGVVJfX0pHTFlHWE1MJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnUmVtb3ZlJywKICAgICAgICAgIHRhcmdldDogJ01VTFRJS0VZJwogICAgICAgIH0sCiAgICAgICAgImNsYXNzIjogJycKICAgICAgfSwKICAgICAgdGJpdGVtMTk6IHsKICAgICAgICBuYW1lOiAndGJpdGVtMTknLAogICAgICAgIGNhcHRpb246ICfov4fmu6QnLAogICAgICAgICdpc1Nob3dDYXB0aW9uJzogdHJ1ZSwKICAgICAgICAnaXNTaG93SWNvbic6IHRydWUsCiAgICAgICAgdG9vbHRpcDogJ+i/h+a7pCcsCiAgICAgICAgaWNvbmNsczogJ2ZhIGZhLWZpbHRlcicsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnU1JGVVJfX0pHTFlLUUxYJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnVG9nZ2xlRmlsdGVyJywKICAgICAgICAgIHRhcmdldDogJycKICAgICAgICB9LAogICAgICAgICJjbGFzcyI6ICcnCiAgICAgIH0sCiAgICAgIHRiaXRlbTEzOiB7CiAgICAgICAgbmFtZTogJ3RiaXRlbTEzJywKICAgICAgICBjYXB0aW9uOiAn5a+85Ye6JywKICAgICAgICAnaXNTaG93Q2FwdGlvbic6IHRydWUsCiAgICAgICAgJ2lzU2hvd0ljb24nOiB0cnVlLAogICAgICAgIHRvb2x0aXA6ICflr7zlh7onLAogICAgICAgIGljb25jbHM6ICdmYSBmYS1maWxlLWV4Y2VsLW8nLAogICAgICAgIGljb246ICcnLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgICB0eXBlOiAnREVVSUFDVElPTicsCiAgICAgICAgdmlzYWJsZWQ6IHRydWUsCiAgICAgICAgZGF0YWFjY2FjdGlvbjogJycsCiAgICAgICAgdWlhY3Rpb246IHsKICAgICAgICAgIHRhZzogJ0V4cG9ydEV4Y2VsJywKICAgICAgICAgIHRhcmdldDogJycKICAgICAgICB9LAogICAgICAgIE1heFJvd0NvdW50OiA1MDAwLAogICAgICAgICJjbGFzcyI6ICcnCiAgICAgIH0sCiAgICAgIHRiaXRlbTE4OiB7CiAgICAgICAgbmFtZTogJ3RiaXRlbTE4JywKICAgICAgICBjYXB0aW9uOiAn5biu5YqpJywKICAgICAgICAnaXNTaG93Q2FwdGlvbic6IHRydWUsCiAgICAgICAgJ2lzU2hvd0ljb24nOiB0cnVlLAogICAgICAgIHRvb2x0aXA6ICfluK7liqknLAogICAgICAgIGljb25jbHM6ICdmYSBmYS1xdWVzdGlvbicsCiAgICAgICAgaWNvbjogJycsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICAgIHR5cGU6ICdERVVJQUNUSU9OJywKICAgICAgICB2aXNhYmxlZDogdHJ1ZSwKICAgICAgICBkYXRhYWNjYWN0aW9uOiAnJywKICAgICAgICB1aWFjdGlvbjogewogICAgICAgICAgdGFnOiAnSGVscCcsCiAgICAgICAgICB0YXJnZXQ6ICcnCiAgICAgICAgfSwKICAgICAgICAiY2xhc3MiOiAnJwogICAgICB9CiAgICB9OwogICAgLyoqDQogICAgICog6KeG5Zu+5byV5pOODQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHR5cGUge0VuZ2luZX0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZW5naW5lID0gbmV3IEdyaWRWaWV3RW5naW5lKCk7CiAgICAvKioNCiAgICAgKiDmmK/lkKbljZXpgIkNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc1NpbmdsZVNlbGVjdCA9IGZhbHNlOwogICAgLyoqDQogICAgICog5pCc57Si5YC8DQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5xdWVyeSA9ICcnOwogICAgLyoqDQogICAgICog5piv5ZCm5bGV5byA5pCc57Si6KGo5Y2VDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuaXNFeHBhbmRTZWFyY2hGb3JtID0gZmFsc2U7CiAgICAvKioNCiAgICAgKiDooajmoLzooYzmlbDmja7pu5jorqTmv4DmtLvmqKHlvI8NCiAgICAgKiAwIOS4jea/gOa0uw0KICAgICAqIDEg5Y2V5Ye75r+A5rS7DQogICAgICogMiDlj4zlh7vmv4DmtLsNCiAgICAgKg0KICAgICAqIEB0eXBlIHsobnVtYmVyIHwgMCB8IDEgfCAyKX0NCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuZ3JpZFJvd0FjdGl2ZU1vZGUgPSAyOwogICAgcmV0dXJuIF90aGlzMjsKICB9CiAgLyoqDQogICAqIOaVsOaNruWPmOWMlg0KICAgKg0KICAgKiBAcGFyYW0geyp9IHZhbA0KICAgKiBAcmV0dXJucyB7Kn0NCiAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFBJTVRJVExFR3JpZFZpZXdCYXNlLCBbewogICAga2V5OiAidmlld0RhdGFzQ2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB2aWV3RGF0YXNDaGFuZ2UodmFsKSB7CiAgICAgIHJldHVybiB2YWw7CiAgICB9CiAgICAvKioNCiAgICAgKiDlvJXmk47liJ3lp4vljJYNCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZW5naW5lSW5pdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZW5naW5lSW5pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmVuZ2luZS5pbml0KHsKICAgICAgICB2aWV3OiB0aGlzLAogICAgICAgIG9wZW5kYXRhOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5vcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOwogICAgICAgIH0sCiAgICAgICAgbmV3ZGF0YTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpIHsKICAgICAgICAgIF90aGlzMy5uZXdkYXRhKGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7CiAgICAgICAgfSwKICAgICAgICBncmlkOiB0aGlzLiRyZWZzLmdyaWQsCiAgICAgICAgc2VhcmNoZm9ybTogdGhpcy4kcmVmcy5zZWFyY2hmb3JtLAogICAgICAgIGtleVBTREVGaWVsZDogJ3BpbXRpdGxlJywKICAgICAgICBtYWpvclBTREVGaWVsZDogJ3BpbXBlcnNvbm5hbWUnLAogICAgICAgIGlzTG9hZERlZmF1bHQ6IHRydWUKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiB0b29sYmFyIOmDqOS7tiBjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl9jbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9vbGJhcl9jbGljaygkZXZlbnQsICRldmVudDIpIHsKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAndGJpdGVtMycpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTNfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW04JykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtOF9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ3RiaXRlbTE5JykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtMTlfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CgogICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW0xMycpKSB7CiAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTEzX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgfQoKICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAnZGV1aWFjdGlvbjEnKSkgewogICAgICAgIHRoaXMudG9vbGJhcl9kZXVpYWN0aW9uMV9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgIH0KCiAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ3RiaXRlbTE4JykpIHsKICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtMThfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICB9CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzZWxlY3Rpb25jaGFuZ2Ug5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfc2VsZWN0aW9uY2hhbmdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBncmlkX3NlbGVjdGlvbmNoYW5nZSgkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnc2VsZWN0aW9uY2hhbmdlJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IGJlZm9yZWxvYWQg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfYmVmb3JlbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9iZWZvcmVsb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdiZWZvcmVsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHJvd2RibGNsaWNrIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJncmlkX3Jvd2RibGNsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBncmlkX3Jvd2RibGNsaWNrKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyb3dkYmxjbGljaycsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByZW1vdmUg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfcmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBncmlkX3JlbW92ZSgkZXZlbnQsICRldmVudDIpIHsKICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAncmVtb3ZlJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IGxvYWQg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdyaWRfbG9hZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JpZF9sb2FkKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdsb2FkJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IHNhdmUg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogInNlYXJjaGZvcm1fc2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoZm9ybV9zYXZlKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdzYXZlJywgJGV2ZW50KTsKICAgIH0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IHNlYXJjaCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2VhcmNoZm9ybV9zZWFyY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaGZvcm1fc2VhcmNoKCRldmVudCwgJGV2ZW50MikgewogICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdzZWFyY2gnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICogc2VhcmNoZm9ybSDpg6jku7YgbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAic2VhcmNoZm9ybV9sb2FkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hmb3JtX2xvYWQoJGV2ZW50LCAkZXZlbnQyKSB7CiAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdzZWFyY2hmb3JtJywgJ2xvYWQnLCAkZXZlbnQpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl90Yml0ZW0zX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbTNfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuTmV3KGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1UaXRsZSIpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl90Yml0ZW04X2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbThfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuUmVtb3ZlKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1UaXRsZSIpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl90Yml0ZW0xOV9jbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9vbGJhcl90Yml0ZW0xOV9jbGljaygpIHsKICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciB0YWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyICRldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICAvLyDlj4LmlbAKICAgICAgLy8g5Y+W5pWwCiAgICAgIHZhciBkYXRhcyA9IFtdOwogICAgICB2YXIgeERhdGEgPSBudWxsOyAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1KTyA9IHt9OwogICAgICB2YXIgY29udGV4dEpPID0ge307CiAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICBkYXRhcyA9IF90b0NvbnN1bWFibGVBcnJheSh4RGF0YS5nZXREYXRhcygpKTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcykgewogICAgICAgIGRhdGFzID0gW3BhcmFtc107CiAgICAgIH0gLy8g55WM6Z2i6KGM5Li6CgoKICAgICAgdGhpcy5Ub2dnbGVGaWx0ZXIoZGF0YXMsIGNvbnRleHRKTywgcGFyYW1KTywgJGV2ZW50LCB4RGF0YSwgdGhpcywgIlBpbVRpdGxlIik7CiAgICB9CiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZg0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0b29sYmFyX3RiaXRlbTEzX2NsaWNrIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b29sYmFyX3RiaXRlbTEzX2NsaWNrKCkgewogICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICAgICAgdmFyIHRhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwogICAgICB2YXIgJGV2ZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7CiAgICAgIC8vIOWPguaVsAogICAgICAvLyDlj5bmlbAKICAgICAgdmFyIGRhdGFzID0gW107CiAgICAgIHZhciB4RGF0YSA9IG51bGw7IC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYXJhbUpPID0ge307CiAgICAgIHZhciBjb250ZXh0Sk8gPSB7fTsKICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7CgogICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIGRhdGFzID0gX3RvQ29uc3VtYWJsZUFycmF5KHhEYXRhLmdldERhdGFzKCkpOwogICAgICB9CgogICAgICBpZiAocGFyYW1zKSB7CiAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgfSAvLyDnlYzpnaLooYzkuLoKCgogICAgICB0aGlzLkV4cG9ydEV4Y2VsKGRhdGFzLCBjb250ZXh0Sk8sIHBhcmFtSk8sICRldmVudCwgeERhdGEsIHRoaXMsICJQaW1UaXRsZSIpOwogICAgfQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAidG9vbGJhcl9kZXVpYWN0aW9uMV9jbGljayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gdG9vbGJhcl9kZXVpYWN0aW9uMV9jbGljaygpIHsKICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgICAgIHZhciB0YWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKICAgICAgdmFyICRldmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkOwogICAgICAvLyDlj4LmlbAKICAgICAgLy8g5Y+W5pWwCiAgICAgIHZhciBkYXRhcyA9IFtdOwogICAgICB2YXIgeERhdGEgPSBudWxsOyAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1KTyA9IHt9OwogICAgICB2YXIgY29udGV4dEpPID0ge307CiAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICBkYXRhcyA9IF90b0NvbnN1bWFibGVBcnJheSh4RGF0YS5nZXREYXRhcygpKTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcykgewogICAgICAgIGRhdGFzID0gW3BhcmFtc107CiAgICAgIH0gLy8g55WM6Z2i6KGM5Li6CgoKICAgICAgdGhpcy5PcGVuUm93RWRpdChkYXRhcywgY29udGV4dEpPLCBwYXJhbUpPLCAkZXZlbnQsIHhEYXRhLCB0aGlzLCAiUGltVGl0bGUiKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mDQogICAgICovCgogIH0sIHsKICAgIGtleTogInRvb2xiYXJfdGJpdGVtMThfY2xpY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uIHRvb2xiYXJfdGJpdGVtMThfY2xpY2soKSB7CiAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwogICAgICB2YXIgdGFnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CiAgICAgIHZhciAkZXZlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDsKICAgICAgLy8g5Y+C5pWwCiAgICAgIC8vIOWPluaVsAogICAgICB2YXIgZGF0YXMgPSBbXTsKICAgICAgdmFyIHhEYXRhID0gbnVsbDsgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtSk8gPSB7fTsKICAgICAgdmFyIGNvbnRleHRKTyA9IHt9OwogICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgZGF0YXMgPSBfdG9Db25zdW1hYmxlQXJyYXkoeERhdGEuZ2V0RGF0YXMoKSk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMpIHsKICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICB9IC8vIOeVjOmdouihjOS4ugoKCiAgICAgIHRoaXMuSGVscChkYXRhcywgY29udGV4dEpPLCBwYXJhbUpPLCAkZXZlbnQsIHhEYXRhLCB0aGlzLCAiUGltVGl0bGUiKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOaJk+W8gOaWsOW7uuaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXcNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibmV3ZGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbmV3ZGF0YShhcmdzLCBmdWxsYXJncywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGxvY2FsQ29udGV4dCA9IG51bGw7CiAgICAgIHZhciBsb2NhbFZpZXdQYXJhbSA9IG51bGw7CiAgICAgIHZhciBkYXRhID0ge307CgogICAgICBpZiAoYXJnc1swXS5zcmZzb3VyY2VrZXkpIHsKICAgICAgICBkYXRhLnNyZnNvdXJjZWtleSA9IGFyZ3NbMF0uc3Jmc291cmNla2V5OwogICAgICB9CgogICAgICB2YXIgdGVtcENvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpOwogICAgICBkZWxldGUgdGVtcENvbnRleHQucGltdGl0bGU7CgogICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCwgYXJnc1swXSk7CiAgICAgIH0KCiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBbXTsKCiAgICAgIGlmICh0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSkgewogICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFt7CiAgICAgICAgICBwYXRoTmFtZTogJ3BpbXBlb3BsZScsCiAgICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltcGVyc29uJwogICAgICAgIH1dOwogICAgICB9CgogICAgICB2YXIgcGFyYW1ldGVycyA9IFt7CiAgICAgICAgcGF0aE5hbWU6ICdwaW10aXRsZXMnLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW10aXRsZScKICAgICAgfV07CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG9wZW5EcmF3ZXIgPSBmdW5jdGlvbiBvcGVuRHJhd2VyKHZpZXcsIGRhdGEpIHsKICAgICAgICB2YXIgY29udGFpbmVyID0gX3RoaXM0LiRhcHBkcmF3ZXIub3BlbkRyYXdlcih2aWV3LCB0ZW1wQ29udGV4dCwgZGF0YSk7CgogICAgICAgIGNvbnRhaW5lci5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIU9iamVjdC5pcyhyZXN1bHQucmV0LCAnT0snKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnJlZnJlc2ggaW5zdGFuY2VvZiBGdW5jdGlvbikpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHhEYXRhLnJlZnJlc2gocmVzdWx0LmRhdGFzKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHZhciB2aWV3ID0gewogICAgICAgIHZpZXduYW1lOiAncGltdGl0bGVlZGl0LXZpZXcnLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICB3aWR0aDogMTM2NiwKICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltdGl0bGUudmlld3MuZWRpdHZpZXcudGl0bGUnKSwKICAgICAgICBwbGFjZW1lbnQ6ICdEUkFXRVJfUklHSFQnCiAgICAgIH07CiAgICAgIG9wZW5EcmF3ZXIodmlldywgZGF0YSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmiZPlvIDnvJbovpHmlbDmja7op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdDQogICAgICogQHBhcmFtIHsqfSBbZnVsbGFyZ3NdDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXQ0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3DQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9wZW5kYXRhIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuZGF0YShhcmdzLCBmdWxsYXJncywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGxvY2FsQ29udGV4dCA9IG51bGw7CiAgICAgIHZhciBsb2NhbFZpZXdQYXJhbSA9IG51bGw7CiAgICAgIHZhciBkYXRhID0ge307CiAgICAgIHZhciB0ZW1wQ29udGV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSk7CgogICAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7CiAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCwgYXJnc1swXSk7CiAgICAgIH0KCiAgICAgIHZhciBkZVJlc1BhcmFtZXRlcnMgPSBbXTsKCiAgICAgIGlmICh0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSkgewogICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFt7CiAgICAgICAgICBwYXRoTmFtZTogJ3BpbXBlb3BsZScsCiAgICAgICAgICBwYXJhbWV0ZXJOYW1lOiAncGltcGVyc29uJwogICAgICAgIH1dOwogICAgICB9CgogICAgICB2YXIgcGFyYW1ldGVycyA9IFt7CiAgICAgICAgcGF0aE5hbWU6ICdwaW10aXRsZXMnLAogICAgICAgIHBhcmFtZXRlck5hbWU6ICdwaW10aXRsZScKICAgICAgfV07CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG9wZW5EcmF3ZXIgPSBmdW5jdGlvbiBvcGVuRHJhd2VyKHZpZXcsIGRhdGEpIHsKICAgICAgICB2YXIgY29udGFpbmVyID0gX3RoaXM1LiRhcHBkcmF3ZXIub3BlbkRyYXdlcih2aWV3LCB0ZW1wQ29udGV4dCwgZGF0YSk7CgogICAgICAgIGNvbnRhaW5lci5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIU9iamVjdC5pcyhyZXN1bHQucmV0LCAnT0snKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnJlZnJlc2ggaW5zdGFuY2VvZiBGdW5jdGlvbikpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHhEYXRhLnJlZnJlc2gocmVzdWx0LmRhdGFzKTsKICAgICAgICB9KTsKICAgICAgfTsKCiAgICAgIHZhciB2aWV3ID0gewogICAgICAgIHZpZXduYW1lOiAncGltdGl0bGVlZGl0LXZpZXcnLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICB3aWR0aDogMTM2NiwKICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltdGl0bGUudmlld3MuZWRpdHZpZXcudGl0bGUnKSwKICAgICAgICBwbGFjZW1lbnQ6ICdEUkFXRVJfUklHSFQnCiAgICAgIH07CiAgICAgIG9wZW5EcmF3ZXIodmlldywgZGF0YSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDmlrDlu7oNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIk5ldyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gTmV3KGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChfdGhpcy5uZXdkYXRhICYmIF90aGlzLm5ld2RhdGEgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgIHZhciBkYXRhID0ge307CgogICAgICAgIF90aGlzLm5ld2RhdGEoW19vYmplY3RTcHJlYWQoe30sIGRhdGEpXSwgW19vYmplY3RTcHJlYWQoe30sIGRhdGEpXSwgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgIGRlc2M6ICduZXdkYXRhIOinhuWbvuWkhOeQhumAu+i+keS4jeWtmOWcqO+8jOivt+a3u+WKoCEnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICAgIC8qKg0KICAgICAqIOWIoOmZpA0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupANCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tg0KICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocNCiAgICAgKiBAbWVtYmVyb2YgUElNVElUTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUmVtb3ZlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBSZW1vdmUoYXJncywgY29udGV4dEpPLCBwYXJhbXMsICRldmVudCwgeERhdGEsIGFjdGlvbkNvbnRleHQsIHNyZlBhcmVudERlTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnJlbW92ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgeERhdGEucmVtb3ZlKGFyZ3MpOwogICAgfQogICAgLyoqDQogICAgICog6L+H5rukDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJUb2dnbGVGaWx0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIFRvZ2dsZUZpbHRlcihhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXMuaGFzT3duUHJvcGVydHkoJ2lzRXhwYW5kU2VhcmNoRm9ybScpKSB7CiAgICAgICAgX3RoaXMuaXNFeHBhbmRTZWFyY2hGb3JtID0gIV90aGlzLmlzRXhwYW5kU2VhcmNoRm9ybTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5a+85Ye6DQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJFeHBvcnRFeGNlbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gRXhwb3J0RXhjZWwoYXJncywgY29udGV4dEpPLCBwYXJhbXMsICRldmVudCwgeERhdGEsIGFjdGlvbkNvbnRleHQsIHNyZlBhcmVudERlTmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLmV4cG9ydEV4Y2VsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8ICEkZXZlbnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHhEYXRhLmV4cG9ydEV4Y2VsKCRldmVudC5leHBvcnRwYXJtcyk7CiAgICB9CiAgICAvKioNCiAgICAgKiDlvIDlkK/ooYznvJbovpENCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIk9wZW5Sb3dFZGl0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBPcGVuUm93RWRpdChhcmdzLCBjb250ZXh0Sk8sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSwgYWN0aW9uQ29udGV4dCwgc3JmUGFyZW50RGVOYW1lKSB7fQogICAgLyoqDQogICAgICog5biu5YqpDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJIZWxwIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBIZWxwKGFyZ3MsIGNvbnRleHRKTywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhLCBhY3Rpb25Db250ZXh0LCBzcmZQYXJlbnREZU5hbWUpIHsKICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsKICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgZGVzYzogJ+W4ruWKqeacquaUr+aMgScKICAgICAgfSk7CiAgICB9CiAgICAvKioNCiAgICAgKiDplIDmr4Hop4blm77lm57osIMNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJkZXN0cm95ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICBpZiAodGhpcy52aWV3RGVmYXVsdFVzYWdlKSB7CiAgICAgICAgdmFyIGxvY2FsU3RvcmVMZW5ndGggPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpOwoKICAgICAgICBpZiAobG9jYWxTdG9yZUxlbmd0aC5sZW5ndGggPiAwKSB7CiAgICAgICAgICBsb2NhbFN0b3JlTGVuZ3RoLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uc3RhcnRzV2l0aChfdGhpczYuY29udGV4dC5zcmZzZXNzaW9uaWQpKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaXRlbSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogVnVl5aOw5piO5ZGo5pyfDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBfZ2V0KF9nZXRQcm90b3R5cGVPZihQSU1USVRMRUdyaWRWaWV3QmFzZS5wcm90b3R5cGUpLCAiY3JlYXRlZCIsIHRoaXMpLmNhbGwodGhpcyk7CgogICAgICBpZiAodGhpcy5mb3JtRHJ1aXBhcnQpIHsKICAgICAgICB0aGlzLmZvcm1EcnVpcGFydC5zdWJzY3JpYmUoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKE9iamVjdC5pcyhyZXMuYWN0aW9uLCAnc2F2ZScpKSB7CiAgICAgICAgICAgIF90aGlzNy52aWV3U3RhdGUubmV4dCh7CiAgICAgICAgICAgICAgdGFnOiAnZ3JpZCcsCiAgICAgICAgICAgICAgYWN0aW9uOiAnc2F2ZScsCiAgICAgICAgICAgICAgZGF0YTogX3RoaXM3LnZpZXdwYXJhbXMKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKE9iamVjdC5pcyhyZXMuYWN0aW9uLCAnbG9hZCcpKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyA9IF90aGlzNzsKCiAgICAgICAgICAgIF90aGlzLmVuZ2luZS5sb2FkKHJlcy5kYXRhLCB0cnVlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICog5b+r6YCf5pCc57SiDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1USVRMRUdyaWRWaWV3QmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJvblNlYXJjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWFyY2goJGV2ZW50KSB7CiAgICAgIHZhciBncmlkID0gdGhpcy4kcmVmcy5ncmlkOwoKICAgICAgaWYgKGdyaWQpIHsKICAgICAgICBncmlkLmxvYWQodGhpcy5jb250ZXh0KTsKICAgICAgfQogICAgfQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7Ygc2F2ZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgRU5USVRZVEVTVDFVc3IyR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uU2F2ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25TYXZlKCRldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdkcmRhdGFzYXZlZCcsICRldmVudCk7CiAgICB9CiAgICAvKioNCiAgICAgKiDliLfmlrDmlbDmja4NCiAgICAgKg0KICAgICAqIEByZWFkb25seQ0KICAgICAqIEB0eXBlIHsobnVtYmVyIHwgbnVsbCl9DQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogIm9uUmVmcmVzaERhdGEiLAoKICAgIC8qKg0KICAgICAqIOebkeaOp+aVsOaNruWPmOWMlg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBuZXdWYWwNCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbA0KICAgICAqIEByZXR1cm5zDQogICAgICogQG1lbWJlcm9mIFBJTVRJVExFR3JpZFZpZXdCYXNlDQogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gb25SZWZyZXNoRGF0YShuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsID09PSBudWxsIHx8IG5ld1ZhbCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAobmV3VmFsID09PSAwKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgZ3JpZCA9IHRoaXMuJHJlZnMuZ3JpZDsKCiAgICAgIGlmIChncmlkKSB7CiAgICAgICAgZ3JpZC5sb2FkKHt9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlZnJlc2hkYXRhIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndmlld2FjdGlvbi9nZXRSZWZyZXNoRGF0YSddKHRoaXMudmlld3RhZyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUElNVElUTEVHcmlkVmlld0Jhc2U7Cn0oR3JpZFZpZXdCYXNlKTsKCnRzbGliXzEuX19kZWNvcmF0ZShbRW1pdCgpXSwgUElNVElUTEVHcmlkVmlld0Jhc2UucHJvdG90eXBlLCAidmlld0RhdGFzQ2hhbmdlIiwgbnVsbCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1Byb3AoKV0sIFBJTVRJVExFR3JpZFZpZXdCYXNlLnByb3RvdHlwZSwgImZvcm1EcnVpcGFydCIsIHZvaWQgMCk7Cgp0c2xpYl8xLl9fZGVjb3JhdGUoW1dhdGNoKCdyZWZyZXNoZGF0YScpXSwgUElNVElUTEVHcmlkVmlld0Jhc2UucHJvdG90eXBlLCAib25SZWZyZXNoRGF0YSIsIG51bGwpOwoKUElNVElUTEVHcmlkVmlld0Jhc2UgPSB0c2xpYl8xLl9fZGVjb3JhdGUoW0NvbXBvbmVudCh7fSksIFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmddLCBQSU1USVRMRUdyaWRWaWV3QmFzZSk7CmV4cG9ydCBkZWZhdWx0IFBJTVRJVExFR3JpZFZpZXdCYXNlOw=="},null]}