{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js??ref--13-3!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-person-ability\\pim-person-ability-ui-service-base.ts","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\uiservice\\pim-person-ability\\pim-person-ability-ui-service-base.ts","mtime":1630509410822},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJGOlxcY3JvZFx1OTg3OVx1NzZFRVxcXHU0RUJBXHU0RThCXHU3QkExXHU3NDA2XHU3Q0ZCXHU3RURGMlxcaUJpekVIUlxcYXBwX0VIUlBpbVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkY6XFxjcm9kXHU5ODc5XHU3NkVFXFxcdTRFQkFcdTRFOEJcdTdCQTFcdTc0MDZcdTdDRkJcdTdFREYyXFxpQml6RUhSXFxhcHBfRUhSUGltXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRjpcXGNyb2RcdTk4NzlcdTc2RUVcXFx1NEVCQVx1NEU4Qlx1N0JBMVx1NzQwNlx1N0NGQlx1N0VERjJcXGlCaXpFSFJcXGFwcF9FSFJQaW1cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IHsgRW52aXJvbm1lbnQgfSBmcm9tICdAL2Vudmlyb25tZW50cy9lbnZpcm9ubWVudCc7CmltcG9ydCB7IFVJQWN0aW9uVG9vbCwgVXRpbCB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgVUlTZXJ2aWNlIGZyb20gJy4uL3VpLXNlcnZpY2UnOwppbXBvcnQgUGltUGVyc29uQWJpbGl0eVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL3BpbS1wZXJzb24tYWJpbGl0eS9waW0tcGVyc29uLWFiaWxpdHktc2VydmljZSc7Ci8qKg0KICog5ZGY5bel6IO95YqbVUnmnI3liqHlr7nosaHln7rnsbsNCiAqDQogKiBAZXhwb3J0DQogKiBAY2xhc3MgUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UNCiAqLwoKdmFyIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1VJU2VydmljZSkgewogIF9pbmhlcml0cyhQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZSwgX1VJU2VydmljZSk7CgogIC8qKg0KICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZS4NCiAgICoNCiAgICogQHBhcmFtIHsqfSBbb3B0cz17fV0NCiAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgKi8KICBmdW5jdGlvbiBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZSgpIHsKICAgIHZhciBfdGhpczI7CgogICAgdmFyIG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZSk7CgogICAgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlKS5jYWxsKHRoaXMsIG9wdHMpKTsKICAgIC8qKg0KICAgICAqIOaYr+WQpuaUr+aMgeW3peS9nOa1gQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5pc0VuYWJsZVdvcmtmbG93ID0gZmFsc2U7CiAgICAvKioNCiAgICAgKiDlvZPliY1VSeacjeWKoeWvueW6lOeahOaVsOaNruacjeWKoeWvueixoQ0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICAgIF90aGlzMi5kYXRhU2VydmljZSA9IG5ldyBQaW1QZXJzb25BYmlsaXR5U2VydmljZSgpOwogICAgLyoqDQogICAgICog5omA5pyJ5YWz6IGU6KeG5Zu+DQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLmFsbFZpZXdNYXAgPSBuZXcgTWFwKCk7CiAgICAvKioNCiAgICAgKiDnirbmgIHlgLwNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3RhdGVWYWx1ZSA9IDA7CiAgICAvKioNCiAgICAgKiDnirbmgIHlsZ7mgKcNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgICBfdGhpczIuc3RhdGVGaWVsZCA9ICIiOwogICAgLyoqDQogICAgICog5Li754q25oCB5bGe5oCn6ZuG5ZCIDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLm1haW5TdGF0ZUZpZWxkcyA9IFtdOwogICAgLyoqDQogICAgICog5Li754q25oCB6ZuG5ZCITWFwDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogICAgX3RoaXMyLmFsbERlTWFpblN0YXRlTWFwID0gbmV3IE1hcCgpOwoKICAgIF90aGlzMi5pbml0Vmlld01hcCgpOwoKICAgIF90aGlzMi5pbml0RGVNYWluU3RhdGVNYXAoKTsKCiAgICByZXR1cm4gX3RoaXMyOwogIH0KICAvKioNCiAgICog5Yid5aeL5YyW6KeG5Zu+TWFwDQogICAqDQogICAqIEBtZW1iZXJvZiAgUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UsIFt7CiAgICBrZXk6ICJpbml0Vmlld01hcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFZpZXdNYXAoKSB7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdtZ3JncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1wZXJzb25hYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCdQSUNLVVBWSUVXOicsIHsKICAgICAgICB2aWV3bmFtZTogJ3BpY2t1cHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltcGVyc29uYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnRURJVFZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAnZWRpdHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltcGVyc29uYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnUkVESVJFQ1RWSUVXOicsIHsKICAgICAgICB2aWV3bmFtZTogJ3JlZGlyZWN0dmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1wZXJzb25hYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCc6JywgewogICAgICAgIHZpZXduYW1lOiAnZWRpdHZpZXcyJywKICAgICAgICBzcmZhcHBkZTogJ3BpbXBlcnNvbmFiaWxpdGllcycKICAgICAgfSk7CiAgICAgIHRoaXMuYWxsVmlld01hcC5zZXQoJzonLCB7CiAgICAgICAgdmlld25hbWU6ICdwaWNrdXBncmlkdmlldycsCiAgICAgICAgc3JmYXBwZGU6ICdwaW1wZXJzb25hYmlsaXRpZXMnCiAgICAgIH0pOwogICAgICB0aGlzLmFsbFZpZXdNYXAuc2V0KCdNREFUQVZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAnZ3JpZHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltcGVyc29uYWJpbGl0aWVzJwogICAgICB9KTsKICAgICAgdGhpcy5hbGxWaWV3TWFwLnNldCgnTVBJQ0tVUFZJRVc6JywgewogICAgICAgIHZpZXduYW1lOiAnbXBpY2t1cHZpZXcnLAogICAgICAgIHNyZmFwcGRlOiAncGltcGVyc29uYWJpbGl0aWVzJwogICAgICB9KTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWIneWni+WMluS4u+eKtuaAgembhuWQiA0KICAgICAqDQogICAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJpbml0RGVNYWluU3RhdGVNYXAiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXREZU1haW5TdGF0ZU1hcCgpIHt9CiAgICAvKioNCiAgICAgKiDliJ3lp4vljJYNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHQg6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3NyZlBhcmVudERlTmFtZV0g54i25a6e5L2T5ZCN56ewDQogICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0NCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiUGltUGVyc29uQWJpbGl0eV9Jbml0RGF0YSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX1BpbVBlcnNvbkFiaWxpdHlfSW5pdERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGFyZ3MpIHsKICAgICAgICB2YXIgY29udGV4dCwKICAgICAgICAgICAgcGFyYW1zLAogICAgICAgICAgICAkZXZlbnQsCiAgICAgICAgICAgIHhEYXRhLAogICAgICAgICAgICBhY3Rpb25Db250ZXh0LAogICAgICAgICAgICBzcmZQYXJlbnREZU5hbWUsCiAgICAgICAgICAgIGRhdGEsCiAgICAgICAgICAgIHBhcmVudENvbnRleHQsCiAgICAgICAgICAgIHBhcmVudFZpZXdQYXJhbSwKICAgICAgICAgICAgX3RoaXMsCiAgICAgICAgICAgIF9hcmdzLAogICAgICAgICAgICBhY3Rpb25UYXJnZXQsCiAgICAgICAgICAgIHBhcmVudE9iaiwKICAgICAgICAgICAgYmFja2VuZCwKICAgICAgICAgICAgX2FyZ3MyID0gYXJndW1lbnRzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb250ZXh0ID0gX2FyZ3MyLmxlbmd0aCA+IDEgJiYgX2FyZ3MyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczJbMV0gOiB7fTsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IF9hcmdzMi5sZW5ndGggPiAyICYmIF9hcmdzMlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyWzJdIDoge307CiAgICAgICAgICAgICAgICAkZXZlbnQgPSBfYXJnczIubGVuZ3RoID4gMyA/IF9hcmdzMlszXSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIHhEYXRhID0gX2FyZ3MyLmxlbmd0aCA+IDQgPyBfYXJnczJbNF0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0ID0gX2FyZ3MyLmxlbmd0aCA+IDUgPyBfYXJnczJbNV0gOiB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBzcmZQYXJlbnREZU5hbWUgPSBfYXJnczIubGVuZ3RoID4gNiA/IF9hcmdzMls2XSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIGRhdGEgPSB7fTsKICAgICAgICAgICAgICAgIHBhcmVudENvbnRleHQgPSB7fTsKICAgICAgICAgICAgICAgIHBhcmVudFZpZXdQYXJhbSA9IHt9OwogICAgICAgICAgICAgICAgX3RoaXMgPSBhY3Rpb25Db250ZXh0OwogICAgICAgICAgICAgICAgX2FyZ3MgPSBVdGlsLmRlZXBDb3B5KGFyZ3MpOwogICAgICAgICAgICAgICAgYWN0aW9uVGFyZ2V0ID0gJ05PTkUnOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHBhcmVudENvbnRleHQgPSBfdGhpcy5jb250ZXh0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy52aWV3cGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgIHBhcmVudFZpZXdQYXJhbSA9IF90aGlzLnZpZXdwYXJhbXM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgY29udGV4dCA9IFVJQWN0aW9uVG9vbC5oYW5kbGVDb250ZXh0UGFyYW0oYWN0aW9uVGFyZ2V0LCBfYXJncywgcGFyZW50Q29udGV4dCwgcGFyZW50Vmlld1BhcmFtLCBjb250ZXh0KTsKICAgICAgICAgICAgICAgIGRhdGEgPSBVSUFjdGlvblRvb2wuaGFuZGxlQWN0aW9uUGFyYW0oYWN0aW9uVGFyZ2V0LCBfYXJncywgcGFyZW50Q29udGV4dCwgcGFyZW50Vmlld1BhcmFtLCBwYXJhbXMpOwogICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbkNvbnRleHQuY29udGV4dCwgY29udGV4dCk7CiAgICAgICAgICAgICAgICBwYXJlbnRPYmogPSB7CiAgICAgICAgICAgICAgICAgIHNyZnBhcmVudGRlbmFtZTogc3JmUGFyZW50RGVOYW1lID8gc3JmUGFyZW50RGVOYW1lIDogbnVsbCwKICAgICAgICAgICAgICAgICAgc3JmcGFyZW50a2V5OiBzcmZQYXJlbnREZU5hbWUgPyBjb250ZXh0W3NyZlBhcmVudERlTmFtZS50b0xvd2VyQ2FzZSgpXSA6IG51bGwKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHBhcmVudE9iaik7CiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIHBhcmVudE9iaik7IC8vIOebtOaOpeiwg+WunuS9k+acjeWKoemcgOimgei9rOaNoueahOaVsOaNrgoKICAgICAgICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuc3Jmc2Vzc2lvbmlkKSB7CiAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Jmc2Vzc2lvbmtleSA9IGNvbnRleHQuc3Jmc2Vzc2lvbmlkOwogICAgICAgICAgICAgICAgICBkZWxldGUgY29udGV4dC5zcmZzZXNzaW9uaWQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYmFja2VuZCA9IGZ1bmN0aW9uIGJhY2tlbmQoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjdXJTZXJ2aWNlID0gbmV3IFBpbVBlcnNvbkFiaWxpdHlTZXJ2aWNlKCk7CiAgICAgICAgICAgICAgICAgIGN1clNlcnZpY2UuSW5pdERhdGEoY29udGV4dCwgZGF0YSwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHJlc3BvbnNlLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQ29udGV4dC4kTm90aWNlLnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmiJDlip8nLAogICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+WIneWni+WMluaIkOWKn++8gScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBhY3Rpb25Db250ZXh0OwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCAhcmVzcG9uc2Uuc3RhdHVzIHx8ICFyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25Db250ZXh0LiROb3RpY2UuZXJyb3IoewogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfns7vnu5/lvILluLjvvIEnCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgYmFja2VuZCgpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIFBpbVBlcnNvbkFiaWxpdHlfSW5pdERhdGEoX3gpIHsKICAgICAgICByZXR1cm4gX1BpbVBlcnNvbkFiaWxpdHlfSW5pdERhdGEuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFBpbVBlcnNvbkFiaWxpdHlfSW5pdERhdGE7CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOiOt+WPluaMh+WumuaVsOaNrueahOmHjeWumuWQkemhtemdog0KICAgICAqDQogICAgICogQHBhcmFtIHNyZmtleSDmlbDmja7kuLvplK4NCiAgICAgKiBAcGFyYW0gaXNFbmFibGVXb3JrZmxvdyAg6YeN5a6a5ZCR6KeG5Zu+5piv5ZCm6ZyA6KaB5aSE55CG5rWB56iL5Lit55qE5pWw5o2uDQogICAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRSREFwcFZpZXciLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRSREFwcFZpZXcgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihzcmZrZXksIGlzRW5hYmxlV29ya2Zsb3cpIHsKICAgICAgICB2YXIgcmVzdWx0LCBjdXJEYXRhLCBpUmVhbERFTW9kZWwsIGJEYXRhSW5XRiwgYldGTW9kZSwgc3RyUERUVmlld1BhcmFtOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmlzRW5hYmxlV29ya2Zsb3cgPSBpc0VuYWJsZVdvcmtmbG93OyAvLyDov5vooYzmlbDmja7mn6Xor6IKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS5HZXQoewogICAgICAgICAgICAgICAgICBwaW1wZXJzb25hYmlsaXR5OiBzcmZrZXkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGN1ckRhdGEgPSByZXN1bHQuZGF0YTsgLy/liKTmlq3lvZPliY3mlbDmja7mqKHlvI8s6buY6K6k5Li6dHJ1Ze+8jHRvZG8KCiAgICAgICAgICAgICAgICBpUmVhbERFTW9kZWwgPSB0cnVlOwogICAgICAgICAgICAgICAgYkRhdGFJbldGID0gZmFsc2U7CiAgICAgICAgICAgICAgICBiV0ZNb2RlID0gZmFsc2U7IC8vIOiuoeeul+aVsOaNruaooeW8jwoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0VuYWJsZVdvcmtmbG93KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhU2VydmljZS50ZXN0RGF0YUluV0YoewogICAgICAgICAgICAgICAgICBzdGF0ZVZhbHVlOiB0aGlzLnN0YXRlVmFsdWUsCiAgICAgICAgICAgICAgICAgIHN0YXRlRmllbGQ6IHRoaXMuc3RhdGVGaWVsZAogICAgICAgICAgICAgICAgfSwgY3VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBiRGF0YUluV0YgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIWJEYXRhSW5XRikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBiRGF0YUluV0YgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTZXJ2aWNlLnRlc3RVc2VyRXhpc3RXb3JrbGlzdChudWxsLCBjdXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGJXRk1vZGUgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRERVNEREVWaWV3UERUUGFyYW0oY3VyRGF0YSwgYkRhdGFJbldGLCBiV0ZNb2RlKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIHN0clBEVFZpZXdQYXJhbSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHRoaXMuYWxsVmlld01hcC5nZXQoc3RyUERUVmlld1BhcmFtKSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRSREFwcFZpZXcoX3gyLCBfeDMpIHsKICAgICAgICByZXR1cm4gX2dldFJEQXBwVmlldy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0UkRBcHBWaWV3OwogICAgfSgpCiAgICAvKioNCiAgICAgKiDojrflj5blrp7pmYXnmoTmlbDmja7nsbvlnosNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiAgUGltUGVyc29uQWJpbGl0eVVJU2VydmljZUJhc2UNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAiZ2V0UmVhbERFVHlwZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVhbERFVHlwZShlbnRpdHkpIHt9CiAgICAvKioNCiAgICAgKiDojrflj5blrp7kvZPljZXmlbDmja7lrp7kvZPop4blm77pooTlrprkuYnlj4LmlbANCiAgICAgKg0KICAgICAqIEBwYXJhbSBjdXJEYXRhIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSBiRGF0YUluV0Yg5piv5ZCm5pyJ5pWw5o2u5Zyo5bel5L2c5rWB5LitDQogICAgICogQHBhcmFtIGJXRk1vZGUgICDmmK/lkKblt6XkvZzmtYHmqKHlvI8NCiAgICAgKiBAbWVtYmVyb2YgIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlDQogICAgICovCgogIH0sIHsKICAgIGtleTogImdldERFU0RERVZpZXdQRFRQYXJhbSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERFU0RERVZpZXdQRFRQYXJhbSA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGN1ckRhdGEsIGJEYXRhSW5XRiwgYldGTW9kZSkgewogICAgICAgIHZhciBzdHJQRFRQYXJhbSwgaXNFbmFibGVNdWx0aUZvcm0sIG11bHRpRm9ybURFRmllbGQsIG9iakZvcm1WYWx1ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RyUERUUGFyYW0gPSAnJzsKCiAgICAgICAgICAgICAgICBpZiAoYkRhdGFJbldGKSB7fSAvLyDliKTmlq3mlbDmja7mmK/lkKblnKjmtYHnqIvkuK0KICAgICAgICAgICAgICAgIC8v5aSa6KGo5Y2V77yMdG9kbwoKCiAgICAgICAgICAgICAgICBpc0VuYWJsZU11bHRpRm9ybSA9IGZhbHNlOwogICAgICAgICAgICAgICAgbXVsdGlGb3JtREVGaWVsZCA9IG51bGw7CgogICAgICAgICAgICAgICAgaWYgKCEoaXNFbmFibGVNdWx0aUZvcm0gJiYgbXVsdGlGb3JtREVGaWVsZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBvYmpGb3JtVmFsdWUgPSBjdXJEYXRhW211bHRpRm9ybURFRmllbGRdOwoKICAgICAgICAgICAgICAgIGlmIChFbnZpcm9ubWVudC5pc0FwcE1vZGUpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgJ01PQkVESVRWSUVXJyArIG9iakZvcm1WYWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAnRURJVFZJRVcnICsgb2JqRm9ybVZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaWYgKEVudmlyb25tZW50LmlzQXBwTW9kZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0REVNYWluU3RhdGVUYWcoY3VyRGF0YSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gIk1PQkVESVRWSUVXOk1TVEFHOiI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0REVNYWluU3RhdGVUYWcoY3VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDEgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMudDAuY29uY2F0LmNhbGwoX2NvbnRleHQzLnQwLCBfY29udGV4dDMudDEpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAnTU9CRURJVFZJRVc6Jyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0REVNYWluU3RhdGVUYWcoY3VyRGF0YSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQyID0gIkVESVRWSUVXOk1TVEFHOiI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0REVNYWluU3RhdGVUYWcoY3VyRGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDMudDIuY29uY2F0LmNhbGwoX2NvbnRleHQzLnQyLCBfY29udGV4dDMudDMpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAnRURJVFZJRVc6Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRERVNEREVWaWV3UERUUGFyYW0oX3g0LCBfeDUsIF94NikgewogICAgICAgIHJldHVybiBfZ2V0REVTRERFVmlld1BEVFBhcmFtLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRERVNEREVWaWV3UERUUGFyYW07CiAgICB9KCkKICAgIC8qKg0KICAgICAqIOiOt+WPluaVsOaNruWvueixoeeahOS4u+eKtuaAgeagh+ivhg0KICAgICAqDQogICAgICogQHBhcmFtIGN1ckRhdGEg5b2T5YmN5pWw5o2uDQogICAgICogQG1lbWJlcm9mICBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZQ0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJnZXRERU1haW5TdGF0ZVRhZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldERFTWFpblN0YXRlVGFnID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoY3VyRGF0YSkgewogICAgICAgIHZhciBzdHJUYWcsIGksIF9zdHJUYWcsIGosIHN0clRhZzIsIGssIHN0clRhZzM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm1haW5TdGF0ZUZpZWxkcy5sZW5ndGggPT09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB0aGlzLm1haW5TdGF0ZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzaW5nbGVNYWluRmllbGQpIHsKICAgICAgICAgICAgICAgICAgaWYgKCEoc2luZ2xlTWFpbkZpZWxkIGluIGN1ckRhdGEpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiXHU1RjUzXHU1MjREXHU2NTcwXHU2MzZFXHU1QkY5XHU4QzYxXHU0RTBEXHU1MzA1XHU1NDJCXHU1QzVFXHU2MDI3c2luZ2xlTWFpbkZpZWxkXHVGRjBDXHU1M0VGXHU4MEZEXHU0RjFBXHU1M0QxXHU3NTFGXHU5NTE5XHU4QkVGIik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3RyVGFnID0gIiI7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8PSAxKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfc3RyVGFnID0gY3VyRGF0YVt0aGlzLm1haW5TdGF0ZUZpZWxkc1swXV0gPyBpID09IDAgPyBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzBdXSA6ICIiIDogIiI7CgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5tYWluU3RhdGVGaWVsZHMubGVuZ3RoID49IDIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGogPSAwOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAoIShqIDw9IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHN0clRhZzIgPSBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzFdXSA/ICIiLmNvbmNhdChfc3RyVGFnLCAiX18iKS5jb25jYXQoaiA9PSAwID8gY3VyRGF0YVt0aGlzLm1haW5TdGF0ZUZpZWxkc1sxXV0gOiAiIikgOiBfc3RyVGFnOwoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMubWFpblN0YXRlRmllbGRzLmxlbmd0aCA+PSAzKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBrID0gMDsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIGlmICghKGsgPD0gMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RyVGFnMyA9IGN1ckRhdGFbdGhpcy5tYWluU3RhdGVGaWVsZHNbMl1dID8gIiIuY29uY2F0KHN0clRhZzIsICJfXyIpLmNvbmNhdChrID09IDAgPyBjdXJEYXRhW3RoaXMubWFpblN0YXRlRmllbGRzWzJdXSA6ICIiKSA6IHN0clRhZzI7IC8vIOWIpOaWreaYr+WQpuWtmOWcqAoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB0aGlzLmFsbERlTWFpblN0YXRlTWFwLmdldChzdHJUYWczKSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBrKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5hbGxEZU1haW5TdGF0ZU1hcC5nZXQoc3RyVGFnMikpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdGhpcy5hbGxEZU1haW5TdGF0ZU1hcC5nZXQoX3N0clRhZykpOwoKICAgICAgICAgICAgICBjYXNlIDI4OgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgbnVsbCk7CgogICAgICAgICAgICAgIGNhc2UgMzI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRERU1haW5TdGF0ZVRhZyhfeDcpIHsKICAgICAgICByZXR1cm4gX2dldERFTWFpblN0YXRlVGFnLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRERU1haW5TdGF0ZVRhZzsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFBpbVBlcnNvbkFiaWxpdHlVSVNlcnZpY2VCYXNlOwp9KFVJU2VydmljZSk7CgpleHBvcnQgeyBQaW1QZXJzb25BYmlsaXR5VUlTZXJ2aWNlQmFzZSBhcyBkZWZhdWx0IH07"},null]}