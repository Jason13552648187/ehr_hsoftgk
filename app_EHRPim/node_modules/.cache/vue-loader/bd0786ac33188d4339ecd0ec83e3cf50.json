{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesgrid-view\\pimarchivesgrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesgrid-view\\pimarchivesgrid-view-base.vue","mtime":1630509409740},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCwgUHJvdmlkZSwgRW1pdCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsNCmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJzsNCmltcG9ydCB7IFVJQWN0aW9uVG9vbCwgVXRpbCB9IGZyb20gJ0AvdXRpbHMnOw0KaW1wb3J0IHsgVnVlTGlmZUN5Y2xlUHJvY2Vzc2luZywgR3JpZFZpZXdCYXNlIH0gZnJvbSAnQC9jcm0tY29yZSc7DQppbXBvcnQgUGltQXJjaGl2ZXNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9waW0tYXJjaGl2ZXMvcGltLWFyY2hpdmVzLXNlcnZpY2UnOw0KDQppbXBvcnQgR3JpZFZpZXdFbmdpbmUgZnJvbSAnQGVuZ2luZS92aWV3L2dyaWQtdmlldy1lbmdpbmUnOw0KDQppbXBvcnQgQ29kZUxpc3RTZXJ2aWNlIGZyb20gIkBzZXJ2aWNlL2FwcC9jb2RlbGlzdC1zZXJ2aWNlIjsNCg0KDQovKioNCiAqIOaho+ahiOS/oeaBr+ihqOagvOinhuWbvuWfuuexuw0KICoNCiAqIEBleHBvcnQNCiAqIEBjbGFzcyBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICogQGV4dGVuZHMge0dyaWRWaWV3QmFzZX0NCiAqLw0KQENvbXBvbmVudCh7fSkNCkBWdWVMaWZlQ3ljbGVQcm9jZXNzaW5nDQpleHBvcnQgZGVmYXVsdCBjbGFzcyBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZSBleHRlbmRzIEdyaWRWaWV3QmFzZSB7DQoNCiAgICAvKioNCiAgICAgKiDlrp7kvZPmnI3liqHlr7nosaENCiAgICAgKg0KICAgICAqIEB0eXBlIHtQaW1BcmNoaXZlc1NlcnZpY2V9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGFwcEVudGl0eVNlcnZpY2U6IFBpbUFyY2hpdmVzU2VydmljZSA9IG5ldyBQaW1BcmNoaXZlc1NlcnZpY2U7DQoNCg0KICAgIC8qKg0KICAgICAqIOiuoeaVsOWZqOacjeWKoeWvueixoembhuWQiA0KICAgICAqDQogICAgICogQHR5cGUge0FycmF5PCo+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLyAgICANCiAgICBwdWJsaWMgY291bnRlclNlcnZpY2VBcnJheTpBcnJheTxhbnk+ID0gW107DQogICAgDQogICAgLyoqDQogICAgICog5pWw5o2u5Y+Y5YyWDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IHZhbA0KICAgICAqIEByZXR1cm5zIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIEBFbWl0KCkgDQogICAgcHVibGljIHZpZXdEYXRhc0NoYW5nZSh2YWw6IGFueSk6YW55IHsNCiAgICAgICAgcmV0dXJuIHZhbDsNCiAgICB9DQoNCgkvKioNCgkgKiDop4blm77moIfor4YNCgkgKg0KCSAqIEB0eXBlIHtzdHJpbmd9DQoJICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQoJICovDQoJcHVibGljIHZpZXd0YWc6IHN0cmluZyA9ICc0ZTY3YTFiNDE5NDRjZGFmMTA2ZjQ0NzllODNkYTg4OSc7DQoNCiAgICAvKioNCiAgICAgKiDniLbmlbDmja7lr7nosaENCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwcm90ZWN0ZWQgc3JmcGFyZW50ZGF0YTogYW55ID0ge307DQoNCgkvKioNCgkgKiDoh6rlrprkuYnop4blm77lr7zoiKrkuIrkuIvmlofpm4blkIgNCgkgKg0KCSAqIEB0eXBlIHsqfQ0KCSAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KCSAqLw0KICAgIHB1YmxpYyBjdXN0b21WaWV3TmF2Q29udGV4dHM6YW55ID17DQogICAgfTsNCg0KCS8qKg0KCSAqIOiHquWumuS5ieinhuWbvuWvvOiIquWPguaVsOmbhuWQiA0KCSAqDQoJICogQHR5cGUgeyp9DQoJICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQoJICovDQogICAgcHVibGljIGN1c3RvbVZpZXdQYXJhbXM6YW55ID17DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOinhuWbvuaooeWei+aVsOaNrg0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIG1vZGVsOiBhbnkgPSB7DQogICAgICAgIHNyZkNhcHRpb246ICdlbnRpdGllcy5waW1hcmNoaXZlcy52aWV3cy5ncmlkdmlldy5jYXB0aW9uJywNCiAgICAgICAgc3JmVGl0bGU6ICdlbnRpdGllcy5waW1hcmNoaXZlcy52aWV3cy5ncmlkdmlldy50aXRsZScsDQogICAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MuZ3JpZHZpZXcuc3VidGl0bGUnLA0KICAgICAgICBkYXRhSW5mbzogJycNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDlrrnlmajmqKHlnosNCiAgICAgKg0KICAgICAqIEB0eXBlIHsqfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBjb250YWluZXJNb2RlbDogYW55ID0gew0KICAgICAgICB2aWV3X3Rvb2xiYXI6IHsgbmFtZTogJ3Rvb2xiYXInLCB0eXBlOiAnVE9PTEJBUicgfSwNCiAgICAgICAgdmlld19ncmlkOiB7IG5hbWU6ICdncmlkJywgdHlwZTogJ0dSSUQnIH0sDQogICAgICAgIHZpZXdfc2VhcmNoZm9ybTogeyBuYW1lOiAnc2VhcmNoZm9ybScsIHR5cGU6ICdTRUFSQ0hGT1JNJyB9LA0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiDop4blm77nirbmgIHorqLpmIXlr7nosaENCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7U3ViamVjdDx7YWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueX0+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyB2aWV3U3RhdGU6IFN1YmplY3Q8Vmlld1N0YXRlPiA9IG5ldyBTdWJqZWN0KCk7DQogICAgLyoqDQogICAgICog5bel5YW35qCP5qih5Z6LDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlldw0KICAgICAqLw0KICAgIHB1YmxpYyB0b29sQmFyTW9kZWxzOiBhbnkgPSB7DQogICAgICAgIHRiaXRlbTM6IHsgbmFtZTogJ3RiaXRlbTMnLCBjYXB0aW9uOiAn5paw5bu6JywnaXNTaG93Q2FwdGlvbic6dHJ1ZSwnaXNTaG93SWNvbic6dHJ1ZSwgdG9vbHRpcDogJ+aWsOW7uicsIGljb25jbHM6ICdmYSBmYS1maWxlLXRleHQtbycsIGljb246ICcnLCBkaXNhYmxlZDogZmFsc2UsIHR5cGU6ICdERVVJQUNUSU9OJywgdmlzYWJsZWQ6IHRydWUsIGRhdGFhY2NhY3Rpb246ICcnLCB1aWFjdGlvbjogeyB0YWc6ICdOZXcnLCB0YXJnZXQ6ICcnIH0sIGNsYXNzOiAnJyB9LA0KDQogICAgICAgIGRldWlhY3Rpb24xOiB7IG5hbWU6ICdkZXVpYWN0aW9uMScsIGNhcHRpb246ICfnvJbovpEnLCdpc1Nob3dDYXB0aW9uJzp0cnVlLCdpc1Nob3dJY29uJzp0cnVlLCB0b29sdGlwOiAn57yW6L6RJywgaWNvbmNsczogJ2ZhIGZhLWVkaXQnLCBpY29uOiAnJywgZGlzYWJsZWQ6IGZhbHNlLCB0eXBlOiAnREVVSUFDVElPTicsIHZpc2FibGVkOiB0cnVlLCBkYXRhYWNjYWN0aW9uOiAnJywgdWlhY3Rpb246IHsgdGFnOiAnRWRpdCcsIHRhcmdldDogJ1NJTkdMRUtFWScgfSwgY2xhc3M6ICcnIH0sDQoNCiAgICAgICAgdGJpdGVtMTk6IHsgbmFtZTogJ3RiaXRlbTE5JywgY2FwdGlvbjogJ+i/h+a7pCcsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICfov4fmu6QnLCBpY29uY2xzOiAnZmEgZmEtZmlsdGVyJywgaWNvbjogJycsIGRpc2FibGVkOiBmYWxzZSwgdHlwZTogJ0RFVUlBQ1RJT04nLCB2aXNhYmxlZDogdHJ1ZSwgZGF0YWFjY2FjdGlvbjogJ1NSRlVSX19KR0xZS1FMWCcsIHVpYWN0aW9uOiB7IHRhZzogJ1RvZ2dsZUZpbHRlcicsIHRhcmdldDogJycgfSwgY2xhc3M6ICcnIH0sDQoNCiAgICB9Ow0KDQoNCg0KDQoNCiAgICAvKioNCiAgICAgKiDop4blm77lvJXmk44NCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7RW5naW5lfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBlbmdpbmU6IEdyaWRWaWV3RW5naW5lID0gbmV3IEdyaWRWaWV3RW5naW5lKCk7DQoJDQoNCiAgICAvKioNCiAgICAgKiDlvJXmk47liJ3lp4vljJYNCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgZW5naW5lSW5pdCgpOiB2b2lkIHsNCiAgICAgICAgdGhpcy5lbmdpbmUuaW5pdCh7DQogICAgICAgICAgICB2aWV3OiB0aGlzLA0KICAgICAgICAgICAgb3BlbmRhdGE6IChhcmdzOiBhbnlbXSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55KSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5vcGVuZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG5ld2RhdGE6IChhcmdzOiBhbnlbXSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55KSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5uZXdkYXRhKGFyZ3MsIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ3JpZDogdGhpcy4kcmVmcy5ncmlkLA0KICAgICAgICAgICAgc2VhcmNoZm9ybTogdGhpcy4kcmVmcy5zZWFyY2hmb3JtLA0KICAgICAgICAgICAga2V5UFNERUZpZWxkOiAncGltYXJjaGl2ZXMnLA0KICAgICAgICAgICAgbWFqb3JQU0RFRmllbGQ6ICdwaW1wZXJzb25uYW1lJywNCiAgICAgICAgICAgIGlzTG9hZERlZmF1bHQ6IHRydWUsDQogICAgICAgIH0pOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogdG9vbGJhciDpg6jku7YgY2xpY2sg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIHRvb2xiYXJfY2xpY2soJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAndGJpdGVtMycpKSB7DQogICAgICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtM19jbGljayhudWxsLCAnJywgJGV2ZW50Mik7DQogICAgICAgIH0NCiAgICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAnZGV1aWFjdGlvbjEnKSkgew0KICAgICAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb24xX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW0xOScpKSB7DQogICAgICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtMTlfY2xpY2sobnVsbCwgJycsICRldmVudDIpOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzZWxlY3Rpb25jaGFuZ2Ug5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGdyaWRfc2VsZWN0aW9uY2hhbmdlKCRldmVudDogYW55LCAkZXZlbnQyPzogYW55KSB7DQogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3NlbGVjdGlvbmNoYW5nZScsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBiZWZvcmVsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX2JlZm9yZWxvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnYmVmb3JlbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByb3dkYmxjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgZ3JpZF9yb3dkYmxjbGljaygkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgew0KICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyb3dkYmxjbGljaycsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByZW1vdmUg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGdyaWRfcmVtb3ZlKCRldmVudDogYW55LCAkZXZlbnQyPzogYW55KSB7DQogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3JlbW92ZScsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX2xvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBzZWFyY2hmb3JtX3NhdmUoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ3NlYXJjaGZvcm0nLCAnc2F2ZScsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBzZWFyY2gg5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIHNlYXJjaGZvcm1fc2VhcmNoKCRldmVudDogYW55LCAkZXZlbnQyPzogYW55KSB7DQogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdzZWFyY2hmb3JtJywgJ3NlYXJjaCcsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBsb2FkIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBzZWFyY2hmb3JtX2xvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ3NlYXJjaGZvcm0nLCAnbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCg0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mIA0KICAgICAqLw0KICAgIHB1YmxpYyB0b29sYmFyX3RiaXRlbTNfY2xpY2socGFyYW1zOiBhbnkgPSB7fSwgdGFnPzogYW55LCAkZXZlbnQ/OiBhbnkpIHsNCiAgICAgICAgLy8g5Y+C5pWwDQogICAgICAgIC8vIOWPluaVsA0KICAgICAgICBsZXQgZGF0YXM6IGFueVtdID0gW107DQogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsNCiAgICAgICAgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhDQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOw0KICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsNCiAgICAgICAgbGV0IGNvbnRleHRKTzphbnkgPSB7fTsNCiAgICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7DQogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7DQogICAgICAgICAgICBkYXRhcyA9IFsuLi54RGF0YS5nZXREYXRhcygpXTsNCiAgICAgICAgfQ0KICAgICAgICBpZihwYXJhbXMpew0KICAgICAgICAgIGRhdGFzID0gW3BhcmFtc107DQogICAgICAgIH0NCiAgICAgICAgLy8g55WM6Z2i6KGM5Li6DQogICAgICAgIHRoaXMuTmV3KGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltQXJjaGl2ZXMiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZiANCiAgICAgKi8NCiAgICBwdWJsaWMgdG9vbGJhcl9kZXVpYWN0aW9uMV9jbGljayhwYXJhbXM6IGFueSA9IHt9LCB0YWc/OiBhbnksICRldmVudD86IGFueSkgew0KICAgICAgICAvLyDlj4LmlbANCiAgICAgICAgLy8g5Y+W5pWwDQogICAgICAgIGxldCBkYXRhczogYW55W10gPSBbXTsNCiAgICAgICAgbGV0IHhEYXRhOiBhbnkgPSBudWxsOw0KICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaENCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGxldCBwYXJhbUpPOmFueSA9IHt9Ow0KICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9Ow0KICAgICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsNCiAgICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsNCiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOw0KICAgICAgICB9DQogICAgICAgIGlmKHBhcmFtcyl7DQogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDnlYzpnaLooYzkuLoNCiAgICAgICAgdGhpcy5FZGl0KGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltQXJjaGl2ZXMiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZiANCiAgICAgKi8NCiAgICBwdWJsaWMgdG9vbGJhcl90Yml0ZW0xOV9jbGljayhwYXJhbXM6IGFueSA9IHt9LCB0YWc/OiBhbnksICRldmVudD86IGFueSkgew0KICAgICAgICAvLyDlj4LmlbANCiAgICAgICAgLy8g5Y+W5pWwDQogICAgICAgIGxldCBkYXRhczogYW55W10gPSBbXTsNCiAgICAgICAgbGV0IHhEYXRhOiBhbnkgPSBudWxsOw0KICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaENCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGxldCBwYXJhbUpPOmFueSA9IHt9Ow0KICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9Ow0KICAgICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsNCiAgICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsNCiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOw0KICAgICAgICB9DQogICAgICAgIGlmKHBhcmFtcyl7DQogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDnlYzpnaLooYzkuLoNCiAgICAgICAgdGhpcy5Ub2dnbGVGaWx0ZXIoZGF0YXMsIGNvbnRleHRKTyxwYXJhbUpPLCAgJGV2ZW50LCB4RGF0YSx0aGlzLCJQaW1BcmNoaXZlcyIpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOaJk+W8gOaWsOW7uuaVsOaNruinhuWbvg0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10NCiAgICAgKiBAcGFyYW0geyp9IFtmdWxsYXJnc10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXcNCiAgICAgKi8NCiAgICBwdWJsaWMgbmV3ZGF0YShhcmdzOiBhbnlbXSxmdWxsYXJncz86YW55W10sIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSkgew0KICAgICAgICBsZXQgbG9jYWxDb250ZXh0OmFueSA9IG51bGw7DQogICAgICAgIGxldCBsb2NhbFZpZXdQYXJhbTphbnkgPW51bGw7DQogICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHt9Ow0KICAgICAgICBpZihhcmdzWzBdLnNyZnNvdXJjZWtleSl7DQogICAgICAgICAgICBkYXRhLnNyZnNvdXJjZWtleSA9IGFyZ3NbMF0uc3Jmc291cmNla2V5Ow0KICAgICAgICB9DQogICAgICAgIGxldCB0ZW1wQ29udGV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSk7DQogICAgICAgIGRlbGV0ZSB0ZW1wQ29udGV4dC5waW1hcmNoaXZlczsNCiAgICAgICAgaWYoYXJncy5sZW5ndGggPjApew0KICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCxhcmdzWzBdKTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZGVSZXNQYXJhbWV0ZXJzOiBhbnlbXSA9IFtdOw0KICAgICAgICBpZih0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSl7DQogICAgICAgICAgICBkZVJlc1BhcmFtZXRlcnMgPSBbDQogICAgICAgICAgICB7IHBhdGhOYW1lOiAncGltcGVvcGxlJywgcGFyYW1ldGVyTmFtZTogJ3BpbXBlcnNvbicgfSwNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBwYXJhbWV0ZXJzOiBhbnlbXSA9IFsNCiAgICAgICAgICAgIHsgcGF0aE5hbWU6ICdwaW1hcmNoaXZlcycsIHBhcmFtZXRlck5hbWU6ICdwaW1hcmNoaXZlcycgfSwNCiAgICAgICAgXTsNCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAodmlldzogYW55LCBkYXRhOiBhbnkpID0+IHsNCiAgICAgICAgICAgIGxldCBjb250YWluZXI6IFN1YmplY3Q8YW55PiA9IHRoaXMuJGFwcGRyYXdlci5vcGVuRHJhd2VyKHZpZXcsIHRlbXBDb250ZXh0LCBkYXRhKTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5zdWJzY3JpYmUoKHJlc3VsdDogYW55KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIU9iamVjdC5pcyhyZXN1bHQucmV0LCAnT0snKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5yZWZyZXNoIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgeERhdGEucmVmcmVzaChyZXN1bHQuZGF0YXMpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgdmlldzogYW55ID0gew0KICAgICAgICAgICAgdmlld25hbWU6ICdwaW1hcmNoaXZlc2VkaXQtdmlldycsIA0KICAgICAgICAgICAgaGVpZ2h0OiAwLCANCiAgICAgICAgICAgIHdpZHRoOiAxMzY2LCAgDQogICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MuZWRpdHZpZXcudGl0bGUnKSwNCiAgICAgICAgICAgIHBsYWNlbWVudDogJ0RSQVdFUl9SSUdIVCcsDQogICAgICAgIH07DQogICAgICAgIG9wZW5EcmF3ZXIodmlldywgZGF0YSk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiDmiZPlvIDnvJbovpHmlbDmja7op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdDQogICAgICogQHBhcmFtIHsqfSBbZnVsbGFyZ3NdDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3DQogICAgICovDQogICAgcHVibGljIG9wZW5kYXRhKGFyZ3M6IGFueVtdLGZ1bGxhcmdzPzphbnlbXSxwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnkpIHsNCiAgICAgICAgbGV0IGxvY2FsQ29udGV4dDphbnkgPSBudWxsOw0KICAgICAgICBsZXQgbG9jYWxWaWV3UGFyYW06YW55ID1udWxsOw0KICAgICAgICBjb25zdCBkYXRhOiBhbnkgPSB7fTsNCiAgICAgICAgbGV0IHRlbXBDb250ZXh0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRleHQpKTsNCiAgICAgICAgaWYoYXJncy5sZW5ndGggPjApew0KICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCxhcmdzWzBdKTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZGVSZXNQYXJhbWV0ZXJzOiBhbnlbXSA9IFtdOw0KICAgICAgICBpZih0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSl7DQogICAgICAgICAgICBkZVJlc1BhcmFtZXRlcnMgPSBbDQogICAgICAgICAgICB7IHBhdGhOYW1lOiAncGltcGVvcGxlJywgcGFyYW1ldGVyTmFtZTogJ3BpbXBlcnNvbicgfSwNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBwYXJhbWV0ZXJzOiBhbnlbXSA9IFsNCiAgICAgICAgICAgIHsgcGF0aE5hbWU6ICdwaW1hcmNoaXZlcycsIHBhcmFtZXRlck5hbWU6ICdwaW1hcmNoaXZlcycgfSwNCiAgICAgICAgXTsNCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAodmlldzogYW55LCBkYXRhOiBhbnkpID0+IHsNCiAgICAgICAgICAgIGxldCBjb250YWluZXI6IFN1YmplY3Q8YW55PiA9IHRoaXMuJGFwcGRyYXdlci5vcGVuRHJhd2VyKHZpZXcsIHRlbXBDb250ZXh0LCBkYXRhKTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5zdWJzY3JpYmUoKHJlc3VsdDogYW55KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIU9iamVjdC5pcyhyZXN1bHQucmV0LCAnT0snKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5yZWZyZXNoIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgeERhdGEucmVmcmVzaChyZXN1bHQuZGF0YXMpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgdmlldzogYW55ID0gew0KICAgICAgICAgICAgdmlld25hbWU6ICdwaW1hcmNoaXZlc2VkaXQtdmlldycsIA0KICAgICAgICAgICAgaGVpZ2h0OiAwLCANCiAgICAgICAgICAgIHdpZHRoOiAxMzY2LCAgDQogICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MuZWRpdHZpZXcudGl0bGUnKSwNCiAgICAgICAgICAgIHBsYWNlbWVudDogJ0RSQVdFUl9SSUdIVCcsDQogICAgICAgIH07DQogICAgICAgIG9wZW5EcmF3ZXIodmlldywgZGF0YSk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiDmlrDlu7oNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIE5ldyhhcmdzOiBhbnlbXSxjb250ZXh0Sk8/OmFueSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55LGFjdGlvbkNvbnRleHQ/OmFueSxzcmZQYXJlbnREZU5hbWU/OnN0cmluZykgew0KICAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGlmIChfdGhpcy5uZXdkYXRhICYmIF90aGlzLm5ld2RhdGEgaW5zdGFuY2VvZiBGdW5jdGlvbikgew0KICAgICAgICAgICAgY29uc3QgZGF0YTogYW55ID0ge307DQogICAgICAgICAgICBfdGhpcy5uZXdkYXRhKFt7IC4uLmRhdGEgfV0sW3sgLi4uZGF0YSB9XSwgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIF90aGlzLiROb3RpY2UuZXJyb3IoeyB0aXRsZTogJ+mUmeivrycsIGRlc2M6ICduZXdkYXRhIOinhuWbvuWkhOeQhumAu+i+keS4jeWtmOWcqO+8jOivt+a3u+WKoCEnIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIC8qKg0KICAgICAqIOe8lui+kQ0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupANCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tg0KICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgRWRpdChhcmdzOiBhbnlbXSxjb250ZXh0Sk8/OmFueSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55LGFjdGlvbkNvbnRleHQ/OmFueSxzcmZQYXJlbnREZU5hbWU/OnN0cmluZykgew0KICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsNCiAgICAgICAgaWYgKF90aGlzLm9wZW5kYXRhICYmIF90aGlzLm9wZW5kYXRhIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsNCiAgICAgICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHsgfTsNCiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHsgcGltYXJjaGl2ZXM6IGFyZ3NbMF0ucGltYXJjaGl2ZXMgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF90aGlzLm9wZW5kYXRhKFt7IC4uLmRhdGEgfV0sIHBhcmFtcywgJGV2ZW50LCB4RGF0YSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBfdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiAnb3BlbmRhdGEg6KeG5Zu+5aSE55CG6YC76L6R5LiN5a2Y5Zyo77yM6K+35re75YqgIScgfSk7DQogICAgICAgIH0NCiAgICB9DQogICAgLyoqDQogICAgICog6L+H5rukDQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBUb2dnbGVGaWx0ZXIoYXJnczogYW55W10sY29udGV4dEpPPzphbnksIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSxhY3Rpb25Db250ZXh0Pzphbnksc3JmUGFyZW50RGVOYW1lPzpzdHJpbmcpIHsNCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGlmIChfdGhpcy5oYXNPd25Qcm9wZXJ0eSgnaXNFeHBhbmRTZWFyY2hGb3JtJykpIHsNCiAgICAgICAgICAgIF90aGlzLmlzRXhwYW5kU2VhcmNoRm9ybSA9ICFfdGhpcy5pc0V4cGFuZFNlYXJjaEZvcm07DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIOmUgOavgeinhuWbvuWbnuiwgw0KICAgICAqDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGRlc3Ryb3llZCgpew0KICAgICAgICBpZih0aGlzLnZpZXdEZWZhdWx0VXNhZ2Upew0KICAgICAgICAgICAgbGV0IGxvY2FsU3RvcmVMZW5ndGggPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpOw0KICAgICAgICAgICAgaWYobG9jYWxTdG9yZUxlbmd0aC5sZW5ndGggPiAwKXsNCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlTGVuZ3RoLmZvckVhY2goKGl0ZW06c3RyaW5nKSA9PnsNCiAgICAgICAgICAgICAgICBpZihpdGVtLnN0YXJ0c1dpdGgodGhpcy5jb250ZXh0LnNyZnNlc3Npb25pZCkpew0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICog5piv5ZCm5Y2V6YCJDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgaXNTaW5nbGVTZWxlY3Q6IGJvb2xlYW4gPSBmYWxzZTsNCg0KDQogICAgLyoqDQogICAgICogVnVl5aOw5piO5ZGo5pyfDQogICAgICoNCiAgICAgKiBAbWVtYmVyb2YgVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgY3JlYXRlZCgpIHsNCiAgICAgICAgc3VwZXIuY3JlYXRlZCgpOw0KICAgICAgICBpZih0aGlzLmZvcm1EcnVpcGFydCl7DQogICAgICAgICAgICB0aGlzLmZvcm1EcnVpcGFydC5zdWJzY3JpYmUoKHJlczphbnkpID0+ew0KICAgICAgICAgICAgICAgIGlmKE9iamVjdC5pcyhyZXMuYWN0aW9uLCdzYXZlJykpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZS5uZXh0KHsgdGFnOidncmlkJywgYWN0aW9uOiAnc2F2ZScsIGRhdGE6IHRoaXMudmlld3BhcmFtcyB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmlzKHJlcy5hY3Rpb24sJ2xvYWQnKSl7DQogICAgICAgICAgICAgICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOw0KICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbmdpbmUubG9hZChyZXMuZGF0YSx0cnVlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICog55WM6Z2i5YWz57O76YCa6K6v5a+56LGhDQogICAgKg0KICAgICogQHR5cGUge1N1YmplY3Q8Vmlld1N0YXRlPn0NCiAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICovDQogICAgQFByb3AoKSBwdWJsaWMgZm9ybURydWlwYXJ0PzogU3ViamVjdDxWaWV3U3RhdGU+Ow0KDQogICAgLyoqDQogICAgICog5pCc57Si5YC8DQogICAgICoNCiAgICAgKiBAdHlwZSB7c3RyaW5nfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBxdWVyeTogc3RyaW5nID0gJyc7DQoNCiAgICAvKioNCiAgICAgKiDmmK/lkKblsZXlvIDmkJzntKLooajljZUNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBpc0V4cGFuZFNlYXJjaEZvcm06IGJvb2xlYW4gPSBmYWxzZTsNCg0KICAgIC8qKg0KICAgICAqIOihqOagvOihjOaVsOaNrum7mOiupOa/gOa0u+aooeW8jw0KICAgICAqIDAg5LiN5r+A5rS7DQogICAgICogMSDljZXlh7vmv4DmtLsNCiAgICAgKiAyIOWPjOWHu+a/gOa0uw0KICAgICAqDQogICAgICogQHR5cGUgeyhudW1iZXIgfCAwIHwgMSB8IDIpfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0dyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkUm93QWN0aXZlTW9kZTogbnVtYmVyIHwgMCB8IDEgfCAyID0gMjsNCg0KICAgIC8qKg0KICAgICAqIOW/q+mAn+aQnOe0og0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgb25TZWFyY2goJGV2ZW50OiBhbnkpOiB2b2lkIHsNCiAgICAgICAgY29uc3QgZ3JpZDogYW55ID0gdGhpcy4kcmVmcy5ncmlkOw0KICAgICAgICBpZiAoZ3JpZCkgew0KICAgICAgICAgICAgZ3JpZC5sb2FkKHRoaXMuY29udGV4dCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBFTlRJVFlURVNUMVVzcjJHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgb25TYXZlKCRldmVudDogYW55KSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2RyZGF0YXNhdmVkJywgJGV2ZW50KTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDliLfmlrDmlbDmja4NCiAgICAgKg0KICAgICAqIEByZWFkb25seQ0KICAgICAqIEB0eXBlIHsobnVtYmVyIHwgbnVsbCl9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgZ2V0IHJlZnJlc2hkYXRhKCk6IG51bWJlciB8IG51bGwgew0KICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndmlld2FjdGlvbi9nZXRSZWZyZXNoRGF0YSddKHRoaXMudmlld3RhZyk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog55uR5o6n5pWw5o2u5Y+Y5YyWDQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IG5ld1ZhbA0KICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsDQogICAgICogQHJldHVybnMNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBAV2F0Y2goJ3JlZnJlc2hkYXRhJykNCiAgICBvblJlZnJlc2hEYXRhKG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSkgew0KICAgICAgICBpZiAobmV3VmFsID09PSBudWxsIHx8IG5ld1ZhbCA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gMCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGNvbnN0IGdyaWQ6IGFueSA9IHRoaXMuJHJlZnMuZ3JpZDsNCiAgICAgICAgaWYgKGdyaWQpIHsNCiAgICAgICAgICAgIGdyaWQubG9hZCh7fSk7DQogICAgICAgIH0NCiAgICB9DQoNCn0NCg=="},null]}