{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\orm-org\\default-searchform\\default-searchform-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\widgets\\orm-org\\default-searchform\\default-searchform-base.vue","mtime":1630509411012},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgVnVlLCBDb21wb25lbnQsIFByb3AsIFByb3ZpZGUsIEVtaXQsIFdhdGNoLCBNb2RlbCxJbmplY3QgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IHsgQ3JlYXRlRWxlbWVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IFN1YmplY3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnOwppbXBvcnQgeyBDb250cm9sSW50ZXJmYWNlIH0gZnJvbSAnQC9pbnRlcmZhY2UvY29udHJvbCc7CmltcG9ydCB7IFVJQWN0aW9uVG9vbCxVdGlsIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCBOYXZEYXRhU2VydmljZSBmcm9tICdAL3NlcnZpY2UvYXBwL25hdmRhdGEtc2VydmljZSc7CmltcG9ydCBPcm1PcmdTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9vcm0tb3JnL29ybS1vcmctc2VydmljZSc7CmltcG9ydCBEZWZhdWx0U2VydmljZSBmcm9tICcuL2RlZmF1bHQtc2VhcmNoZm9ybS1zZXJ2aWNlJzsKCmltcG9ydCB7IEZvcm1CdXR0b25Nb2RlbCwgRm9ybVBhZ2VNb2RlbCwgRm9ybUl0ZW1Nb2RlbCwgRm9ybURSVUlQYXJ0TW9kZWwsIEZvcm1QYXJ0TW9kZWwsIEZvcm1Hcm91cFBhbmVsTW9kZWwsIEZvcm1JRnJhbWVNb2RlbCwgRm9ybVJvd0l0ZW1Nb2RlbCwgRm9ybVRhYlBhZ2VNb2RlbCwgRm9ybVRhYlBhbmVsTW9kZWwsIEZvcm1Vc2VyQ29udHJvbE1vZGVsIH0gZnJvbSAnQC9tb2RlbC9mb3JtLWRldGFpbCc7CmltcG9ydCB7IGRlYm91bmNlVGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7CgoKQENvbXBvbmVudCh7CiAgICBjb21wb25lbnRzOiB7CiAgICAgIAogICAgfQp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0QmFzZSBleHRlbmRzIFZ1ZSBpbXBsZW1lbnRzIENvbnRyb2xJbnRlcmZhY2UgewoKICAgIC8qKgogICAgICog5ZCN56ewCiAgICAgKgogICAgICogQHR5cGUge3N0cmluZ30KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyBuYW1lPzogc3RyaW5nOwoKICAgIC8qKgogICAgICog6KeG5Zu+6YCa6K6v5a+56LGhCiAgICAgKgogICAgICogQHR5cGUge1N1YmplY3Q8Vmlld1N0YXRlPn0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyB2aWV3U3RhdGUhOiBTdWJqZWN0PFZpZXdTdGF0ZT47CgogICAgLyoqCiAgICAgKiDlupTnlKjkuIrkuIvmlocKICAgICAqCiAgICAgKiBAdHlwZSB7Kn0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyBjb250ZXh0OiBhbnk7CgogICAgLyoqCiAgICAgKiDop4blm77lj4LmlbAKICAgICAqCiAgICAgKiBAdHlwZSB7Kn0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyB2aWV3cGFyYW1zOiBhbnk7CgogICAgLyoqCiAgICAgKiDop4blm77nirbmgIHkuovku7YKICAgICAqCiAgICAgKiBAcHVibGljCiAgICAgKiBAdHlwZSB7KFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZCl9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIHZpZXdTdGF0ZUV2ZW50OiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQ7CgogICAgLyoqCiAgICAgKiDojrflj5bpg6jku7bnsbvlnosKICAgICAqCiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBnZXRDb250cm9sVHlwZSgpOiBzdHJpbmcgewogICAgICAgIHJldHVybiAnU0VBUkNIRk9STScKICAgIH0KCgoKICAgIC8qKgogICAgICog6K6h5pWw5Zmo5pyN5Yqh5a+56LGh6ZuG5ZCICiAgICAgKgogICAgICogQHR5cGUge0FycmF5PCo+fQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8gICAgCiAgICBwdWJsaWMgY291bnRlclNlcnZpY2VBcnJheTpBcnJheTxhbnk+ID0gW107CgogICAgLyoqCiAgICAgKiDlu7rmnoTpg6jku7bmnI3liqHlr7nosaEKICAgICAqCiAgICAgKiBAdHlwZSB7RGVmYXVsdFNlcnZpY2V9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIHNlcnZpY2U6IERlZmF1bHRTZXJ2aWNlID0gbmV3IERlZmF1bHRTZXJ2aWNlKHsgJHN0b3JlOiB0aGlzLiRzdG9yZSB9KTsKCiAgICAvKioKICAgICAqIOWunuS9k+acjeWKoeWvueixoQogICAgICoKICAgICAqIEB0eXBlIHtPcm1PcmdTZXJ2aWNlfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBhcHBFbnRpdHlTZXJ2aWNlOiBPcm1PcmdTZXJ2aWNlID0gbmV3IE9ybU9yZ1NlcnZpY2UoeyAkc3RvcmU6IHRoaXMuJHN0b3JlIH0pOwogICAgCgoKICAgIC8qKgogICAgICog5YWz6Zet6KeG5Zu+CiAgICAgKgogICAgICogQHBhcmFtIHthbnl9IGFyZ3MKICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgY2xvc2VWaWV3KGFyZ3M6IGFueSk6IHZvaWQgewogICAgICAgIGxldCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBfdGhpcy4kZW1pdCgnY2xvc2V2aWV3JywgW2FyZ3NdKTsKICAgIH0KCiAgICAvKioKICAgICAqICDorqHmlbDlmajliLfmlrAKICAgICAqCiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGNvdW50ZXJSZWZyZXNoKCl7CiAgICAgICAgY29uc3QgX3RoaXM6YW55ID10aGlzOwogICAgICAgIGlmKF90aGlzLmNvdW50ZXJTZXJ2aWNlQXJyYXkgJiYgX3RoaXMuY291bnRlclNlcnZpY2VBcnJheS5sZW5ndGggPjApewogICAgICAgICAgICBfdGhpcy5jb3VudGVyU2VydmljZUFycmF5LmZvckVhY2goKGl0ZW06YW55KSA9PnsKICAgICAgICAgICAgICAgIGlmKGl0ZW0ucmVmcmVzaERhdGEgJiYgaXRlbS5yZWZyZXNoRGF0YSBpbnN0YW5jZW9mIEZ1bmN0aW9uKXsKICAgICAgICAgICAgICAgICAgICBpdGVtLnJlZnJlc2hEYXRhKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQoKCiAgICAvKioKICAgICAqIOiOt+WPluWkmumhueaVsOaNrgogICAgICoKICAgICAqIEByZXR1cm5zIHthbnlbXX0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgZ2V0RGF0YXMoKTogYW55W10gewogICAgICAgIHJldHVybiBbdGhpcy5kYXRhXTsKICAgIH0KCiAgICAvKioKICAgICAqIOiOt+WPluWNlemhueagkQogICAgICoKICAgICAqIEByZXR1cm5zIHsqfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBnZXREYXRhKCk6IGFueSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YTsKICAgIH0KCiAgICAvKioKICAgICAqIOaYvuekuuWkhOeQhuaPkOekugogICAgICoKICAgICAqIEB0eXBlIHtib29sZWFufQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIEBQcm9wKHsgZGVmYXVsdDogdHJ1ZSB9KSBwdWJsaWMgc2hvd0J1c3lJbmRpY2F0b3I/OiBib29sZWFuOwogICAgCiAgICAvKioKICAgICAqIOmDqOS7tuihjOS4ui0tbG9hZGRyYWZ0CiAgICAgKgogICAgICogQHR5cGUge3N0cmluZ30KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyBsb2FkZHJhZnRBY3Rpb24hOiBzdHJpbmc7CiAgICAKICAgIC8qKgogICAgICog6YOo5Lu26KGM5Li6LS1sb2FkCiAgICAgKgogICAgICogQHR5cGUge3N0cmluZ30KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyBsb2FkQWN0aW9uITogc3RyaW5nOwoKICAgIC8qKgogICAgICog6KeG5Zu+5qCH6K+GCiAgICAgKgogICAgICogQHR5cGUge3N0cmluZ30KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBAUHJvcCgpIHB1YmxpYyB2aWV3dGFnITogc3RyaW5nOwoKICAgIC8qKgogICAgICog6KGo5Y2V54q25oCBCiAgICAgKgogICAgICogQHR5cGUge1N1YmplY3Q8YW55Pn0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgZm9ybVN0YXRlOiBTdWJqZWN0PGFueT4gPSBuZXcgU3ViamVjdCgpOwoKICAgIC8qKgogICAgICog5b+955Wl6KGo5Y2V6aG55YC85Y+Y5YyWCiAgICAgKgogICAgICogQHR5cGUge2Jvb2xlYW59CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGlnbm9yZWZpZWxkdmFsdWVjaGFuZ2U6IGJvb2xlYW4gPSBmYWxzZTsKCiAgICAvKioKICAgICAqIOaVsOaNruWPmOWMlgogICAgICoKICAgICAqIEBwdWJsaWMKICAgICAqIEB0eXBlIHtTdWJqZWN0PGFueT59CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGRhdGFDaGFuZzogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3QoKTsKCiAgICAvKioKICAgICAqIOinhuWbvueKtuaAgeS6i+S7tgogICAgICoKICAgICAqIEBwdWJsaWMKICAgICAqIEB0eXBlIHsoU3Vic2NyaXB0aW9uIHwgdW5kZWZpbmVkKX0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgZGF0YUNoYW5nRXZlbnQ6IFN1YnNjcmlwdGlvbiB8IHVuZGVmaW5lZDsKCiAgICAvKioKICAgICAqIOWOn+Wni+aVsOaNrgogICAgICoKICAgICAqIEBwdWJsaWMKICAgICAqIEB0eXBlIHsqfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBvbGREYXRhOiBhbnkgPSB7fTsKCiAgICAvKioKICAgICAqIOihqOWNleaVsOaNruWvueixoQogICAgICoKICAgICAqIEB0eXBlIHsqfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBkYXRhOiBhbnkgPSB7CiAgICAgICAgbl9vcmdjb2RlX2xpa2U6IG51bGwsCiAgICAgICAgbl9vcmduYW1lX2xpa2U6IG51bGwsCiAgICAgICAgbl9zaG9ydG5hbWVfbGlrZTogbnVsbCwKICAgIH07CgogICAgLyoqCiAgICAgKiDlsZ7mgKflgLzop4TliJkKICAgICAqCiAgICAgKiBAdHlwZSB7Kn0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgcnVsZXM6IGFueSA9IHsKICAgICAgICBuX29yZ2NvZGVfbGlrZTogWwogICAgICAgICAgICB7IHR5cGU6ICdzdHJpbmcnLCBtZXNzYWdlOiAn57uE57uH57yW5Y+3KCUpIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgICAgIHsgdHlwZTogJ3N0cmluZycsIG1lc3NhZ2U6ICfnu4Tnu4fnvJblj7coJSkg5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiAnc3RyaW5nJywgbWVzc2FnZTogJ+e7hOe7h+e8luWPtyglKSDlgLzkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnY2hhbmdlJyB9LAogICAgICAgICAgICB7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogJ3N0cmluZycsIG1lc3NhZ2U6ICfnu4Tnu4fnvJblj7coJSkg5YC85LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXSwKICAgICAgICBuX29yZ25hbWVfbGlrZTogWwogICAgICAgICAgICB7IHR5cGU6ICdzdHJpbmcnLCBtZXNzYWdlOiAn57uE57uH5ZCN56ewIOWAvOW/hemhu+S4uuWtl+espuS4suexu+WeiycsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgICAgIHsgdHlwZTogJ3N0cmluZycsIG1lc3NhZ2U6ICfnu4Tnu4flkI3np7Ag5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiAnc3RyaW5nJywgbWVzc2FnZTogJ+e7hOe7h+WQjeensCDlgLzkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnY2hhbmdlJyB9LAogICAgICAgICAgICB7IHJlcXVpcmVkOiBmYWxzZSwgdHlwZTogJ3N0cmluZycsIG1lc3NhZ2U6ICfnu4Tnu4flkI3np7Ag5YC85LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgXSwKICAgICAgICBuX3Nob3J0bmFtZV9saWtlOiBbCiAgICAgICAgICAgIHsgdHlwZTogJ3N0cmluZycsIG1lc3NhZ2U6ICfnu4Tnu4fnroDnp7Ag5YC85b+F6aG75Li65a2X56ym5Liy57G75Z6LJywgdHJpZ2dlcjogJ2NoYW5nZScgfSwKICAgICAgICAgICAgeyB0eXBlOiAnc3RyaW5nJywgbWVzc2FnZTogJ+e7hOe7h+eugOensCDlgLzlv4XpobvkuLrlrZfnrKbkuLLnsbvlnosnLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICAgICAgeyByZXF1aXJlZDogZmFsc2UsIHR5cGU6ICdzdHJpbmcnLCBtZXNzYWdlOiAn57uE57uH566A56ewIOWAvOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0sCiAgICAgICAgICAgIHsgcmVxdWlyZWQ6IGZhbHNlLCB0eXBlOiAnc3RyaW5nJywgbWVzc2FnZTogJ+e7hOe7h+eugOensCDlgLzkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfSwKICAgICAgICBdLAogICAgfQoKICAgIC8qKgogICAgICog6K+m5oOF5qih5Z6L6ZuG5ZCICiAgICAgKgogICAgICogQHR5cGUgeyp9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGRldGFpbHNNb2RlbDogYW55ID0gewogICAgICAgIGZvcm1wYWdlMTogbmV3IEZvcm1QYWdlTW9kZWwoeyBjYXB0aW9uOiAn5bi46KeE5p2h5Lu2JywgZGV0YWlsVHlwZTogJ0ZPUk1QQUdFJywgbmFtZTogJ2Zvcm1wYWdlMScsIHZpc2libGU6IHRydWUsIGlzU2hvd0NhcHRpb246IHRydWUsIGZvcm06IHRoaXMgfSkKLCAKICAgICAgICBuX29yZ2NvZGVfbGlrZTogbmV3IEZvcm1JdGVtTW9kZWwoeyBjYXB0aW9uOiAn57uE57uH57yW5Y+3KCUpJywgZGV0YWlsVHlwZTogJ0ZPUk1JVEVNJywgbmFtZTogJ25fb3JnY29kZV9saWtlJywgdmlzaWJsZTogdHJ1ZSwgaXNTaG93Q2FwdGlvbjogdHJ1ZSwgZm9ybTogdGhpcywgZGlzYWJsZWQ6IGZhbHNlLCBlbmFibGVDb25kOiAzIH0pCiwgCiAgICAgICAgbl9vcmduYW1lX2xpa2U6IG5ldyBGb3JtSXRlbU1vZGVsKHsgY2FwdGlvbjogJ+e7hOe7h+WQjeensCcsIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsIG5hbWU6ICduX29yZ25hbWVfbGlrZScsIHZpc2libGU6IHRydWUsIGlzU2hvd0NhcHRpb246IHRydWUsIGZvcm06IHRoaXMsIGRpc2FibGVkOiBmYWxzZSwgZW5hYmxlQ29uZDogMyB9KQosIAogICAgICAgIG5fc2hvcnRuYW1lX2xpa2U6IG5ldyBGb3JtSXRlbU1vZGVsKHsgY2FwdGlvbjogJ+e7hOe7h+eugOensCcsIGRldGFpbFR5cGU6ICdGT1JNSVRFTScsIG5hbWU6ICduX3Nob3J0bmFtZV9saWtlJywgdmlzaWJsZTogdHJ1ZSwgaXNTaG93Q2FwdGlvbjogdHJ1ZSwgZm9ybTogdGhpcywgZGlzYWJsZWQ6IGZhbHNlLCBlbmFibGVDb25kOiAzIH0pCiwgCiAgICB9OwoKICAgIC8qKgogICAgICog55uR5o6n6KGo5Y2V5bGe5oCnIG5fb3JnY29kZV9saWtlIOWAvAogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbAogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIEBXYXRjaCgnZGF0YS5uX29yZ2NvZGVfbGlrZScpCiAgICBvbk5fb3JnY29kZV9saWtlQ2hhbmdlKG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSkgewogICAgICAgIHRoaXMuZm9ybURhdGFDaGFuZ2UoeyBuYW1lOiAnbl9vcmdjb2RlX2xpa2UnLCBuZXdWYWw6IG5ld1ZhbCwgb2xkVmFsOiBvbGRWYWwgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDnm5HmjqfooajljZXlsZ7mgKcgbl9vcmduYW1lX2xpa2Ug5YC8CiAgICAgKgogICAgICogQHBhcmFtIHsqfSBuZXdWYWwKICAgICAqIEBwYXJhbSB7Kn0gb2xkVmFsCiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgQFdhdGNoKCdkYXRhLm5fb3JnbmFtZV9saWtlJykKICAgIG9uTl9vcmduYW1lX2xpa2VDaGFuZ2UobmV3VmFsOiBhbnksIG9sZFZhbDogYW55KSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YUNoYW5nZSh7IG5hbWU6ICduX29yZ25hbWVfbGlrZScsIG5ld1ZhbDogbmV3VmFsLCBvbGRWYWw6IG9sZFZhbCB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOebkeaOp+ihqOWNleWxnuaApyBuX3Nob3J0bmFtZV9saWtlIOWAvAogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsCiAgICAgKiBAcGFyYW0geyp9IG9sZFZhbAogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIEBXYXRjaCgnZGF0YS5uX3Nob3J0bmFtZV9saWtlJykKICAgIG9uTl9zaG9ydG5hbWVfbGlrZUNoYW5nZShuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhQ2hhbmdlKHsgbmFtZTogJ25fc2hvcnRuYW1lX2xpa2UnLCBuZXdWYWw6IG5ld1ZhbCwgb2xkVmFsOiBvbGRWYWwgfSk7CiAgICB9CgoKICAgIC8qKgogICAgICog6YeN572u6KGo5Y2V6aG55YC8CiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQHBhcmFtIHt7IG5hbWU6IHN0cmluZywgbmV3VmFsOiBhbnksIG9sZFZhbDogYW55IH19IHsgbmFtZSwgbmV3VmFsLCBvbGRWYWwgfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyByZXNldEZvcm1EYXRhKHsgbmFtZSwgbmV3VmFsLCBvbGRWYWwgfTogeyBuYW1lOiBzdHJpbmcsIG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSB9KTogdm9pZCB7CiAgICB9CgogICAgLyoqCiAgICAgKiDooajljZXpgLvovpEKICAgICAqCiAgICAgKiBAcHVibGljCiAgICAgKiBAcGFyYW0ge3sgbmFtZTogc3RyaW5nLCBuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkgfX0geyBuYW1lLCBuZXdWYWwsIG9sZFZhbCB9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGZvcm1Mb2dpYyh7IG5hbWUsIG5ld1ZhbCwgb2xkVmFsIH06IHsgbmFtZTogc3RyaW5nLCBuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkgfSk6IHZvaWQgewogICAgICAgICAgICAgICAgCgoKCgogICAgfQoKICAgIC8qKgogICAgICog6KGo5Y2V5YC85Y+Y5YyWCiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQHBhcmFtIHt7IG5hbWU6IHN0cmluZywgbmV3VmFsOiBhbnksIG9sZFZhbDogYW55IH19IHsgbmFtZSwgbmV3VmFsLCBvbGRWYWwgfQogICAgICogQHJldHVybnMge3ZvaWR9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGZvcm1EYXRhQ2hhbmdlKHsgbmFtZSwgbmV3VmFsLCBvbGRWYWwgfTogeyBuYW1lOiBzdHJpbmcsIG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSB9KTogdm9pZCB7CiAgICAgICAgaWYgKHRoaXMuaWdub3JlZmllbGR2YWx1ZWNoYW5nZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMucmVzZXRGb3JtRGF0YSh7IG5hbWU6IG5hbWUsIG5ld1ZhbDogbmV3VmFsLCBvbGRWYWw6IG9sZFZhbCB9KTsKICAgICAgICB0aGlzLmZvcm1Mb2dpYyh7IG5hbWU6IG5hbWUsIG5ld1ZhbDogbmV3VmFsLCBvbGRWYWw6IG9sZFZhbCB9KTsKICAgICAgICB0aGlzLmRhdGFDaGFuZy5uZXh0KEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpOwogICAgfQoKICAgIC8qKgogICAgICog6KGo5Y2V5Yqg6L295a6M5oiQCiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgb25Gb3JtTG9hZChkYXRhOiBhbnkgPSB7fSk6IHZvaWQgewogICAgICAgIHRoaXMuc2V0Rm9ybUVuYWJsZUNvbmQoZGF0YSk7CiAgICAgICAgdGhpcy5maWxsRm9ybShkYXRhKTsKICAgICAgICB0aGlzLmZvcm1Mb2dpYyh7IG5hbWU6ICcnLCBuZXdWYWw6IG51bGwsIG9sZFZhbDogbnVsbCB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOWAvOWhq+WFhQogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW19kYXRhcz17fV0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgZmlsbEZvcm0oX2RhdGFzOiBhbnkgPSB7fSk6IHZvaWQgewogICAgICAgIHRoaXMuaWdub3JlZmllbGR2YWx1ZWNoYW5nZSA9IHRydWU7CiAgICAgICAgT2JqZWN0LmtleXMoX2RhdGFzKS5mb3JFYWNoKChuYW1lOiBzdHJpbmcpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgewogICAgICAgICAgICAgICAgdGhpcy5kYXRhW25hbWVdID0gX2RhdGFzW25hbWVdOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLmlnbm9yZWZpZWxkdmFsdWVjaGFuZ2UgPSBmYWxzZTsKICAgICAgICB9KQogICAgfQoKICAgIC8qKgogICAgICog6K6+572u6KGo5Y2V6aG55piv5ZCm5ZCv55SoCiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQHBhcmFtIHsqfSBkYXRhCiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIHNldEZvcm1FbmFibGVDb25kKGRhdGE6IGFueSk6IHZvaWQgewogICAgICAgIE9iamVjdC52YWx1ZXModGhpcy5kZXRhaWxzTW9kZWwpLmZvckVhY2goKGRldGFpbDogYW55KSA9PiB7CiAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKGRldGFpbC5kZXRhaWxUeXBlLCAnRk9STUlURU0nKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IGZvcm1JdGVtOiBGb3JtSXRlbU1vZGVsID0gZGV0YWlsOwogICAgICAgICAgICBmb3JtSXRlbS5zZXRFbmFibGVDb25kKGRhdGEuc3JmdWYpOwogICAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICog6YeN572u6I2J56i/6KGo5Y2V54q25oCBCiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyByZXNldERyYWZ0Rm9ybVN0YXRlcygpOiB2b2lkIHsKICAgICAgICBjb25zdCBmb3JtOiBhbnkgPSB0aGlzLiRyZWZzLmZvcm07CiAgICAgICAgaWYgKGZvcm0pIHsKICAgICAgICAgICAgZm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIOmHjee9ruagoemqjOe7k+aenAogICAgICoKICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgcmVzZXRWYWxpZGF0ZXMoKTogdm9pZCB7CiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLmRldGFpbHNNb2RlbCkuZm9yRWFjaCgoZGV0YWlsOiBhbnkpID0+IHsKICAgICAgICAgICAgaWYgKCFPYmplY3QuaXMoZGV0YWlsLmRldGFpbFR5cGUsICdGT1JNSVRFTScpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZm9ybUl0ZW06IEZvcm1JdGVtTW9kZWwgPSBkZXRhaWw7CiAgICAgICAgICAgIGZvcm1JdGVtLnNldEVycm9yKCcnKTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOWhq+WFheagoemqjOe7k+aenCDvvIjlkI7lj7DvvIkKICAgICAqCiAgICAgKiBAcGFyYW0ge2FueVtdfSBmaWVsZEVycm9ycwogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBmaWxsVmFsaWRhdGVzKGZpZWxkRXJyb3JzOiBhbnlbXSk6IHZvaWQgewogICAgICAgIGZpZWxkRXJyb3JzLmZvckVhY2goKGVycm9yOiBhbnkpID0+IHsKICAgICAgICAgICAgY29uc3QgZm9ybUl0ZW06IEZvcm1JdGVtTW9kZWwgPSB0aGlzLmRldGFpbHNNb2RlbFtlcnJvci5maWVsZF07CiAgICAgICAgICAgIGlmICghZm9ybUl0ZW0pIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICBmb3JtSXRlbS5zZXRFcnJvcihlcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiDooajljZXmoKHpqoznirbmgIEKICAgICAqCiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gCiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGZvcm1WYWxpZGF0ZVN0YXR1cygpOiBib29sZWFuIHsKICAgICAgICBjb25zdCBmb3JtOiBhbnkgPSB0aGlzLiRyZWZzLnNlYXJjaGZvcm07CiAgICAgICAgbGV0IHZhbGlkYXRlc3RhdGU6IGJvb2xlYW4gPSB0cnVlOwogICAgICAgIGZvcm0udmFsaWRhdGUoKHZhbGlkOiBib29sZWFuKSA9PiB7CiAgICAgICAgICAgIHZhbGlkYXRlc3RhdGUgPSB2YWxpZCA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdmFsaWRhdGVzdGF0ZQogICAgfQoKICAgIC8qKgogICAgICog6I635Y+W5YWo6YOo5YC8CiAgICAgKgogICAgICogQHJldHVybnMgeyp9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGdldFZhbHVlcygpOiBhbnkgewogICAgICAgIHJldHVybiB0aGlzLmRhdGE7CiAgICB9CgogICAgLyoqCiAgICAgKiDooajljZXpobnlgLzlj5jmm7QKICAgICAqCiAgICAgKiBAcGFyYW0ge3sgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55IH19ICRldmVudAogICAgICogQHJldHVybnMge3ZvaWR9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIG9uRm9ybUl0ZW1WYWx1ZUNoYW5nZSgkZXZlbnQ6IHsgbmFtZTogc3RyaW5nLCB2YWx1ZTogYW55IH0pOiB2b2lkIHsKICAgICAgICBpZiAoISRldmVudCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmICghJGV2ZW50Lm5hbWUgfHwgT2JqZWN0LmlzKCRldmVudC5uYW1lLCAnJykgfHwgIXRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eSgkZXZlbnQubmFtZSkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmRhdGFbJGV2ZW50Lm5hbWVdID0gJGV2ZW50LnZhbHVlOwogICAgfQoKICAgIC8qKgogICAgICog6K6+572u5pWw5o2u6aG55YC8CiAgICAgKgogICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUKICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUKICAgICAqIEByZXR1cm5zIHt2b2lkfQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBzZXREYXRhSXRlbVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSk6IHZvaWQgewogICAgICAgIGlmICghbmFtZSB8fCBPYmplY3QuaXMobmFtZSwgJycpIHx8ICF0aGlzLmRhdGEuaGFzT3duUHJvcGVydHkobmFtZSkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoT2JqZWN0LmlzKHRoaXMuZGF0YVtuYW1lXSwgdmFsdWUpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5kYXRhW25hbWVdID0gdmFsdWU7CiAgICB9CgoKCiAgICAvKioKICAgICAqIOWIhue7hOeVjOmdouihjOS4uuS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGdyb3VwVUlBY3Rpb25DbGljaygkZXZlbnQ6IGFueSk6IHZvaWQgewogICAgICAgIGlmICghJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgaXRlbTphbnkgPSAkZXZlbnQuaXRlbTsKICAgIH0KCiAgICAvKioKICAgICAqIFZ1ZeWjsOaYjuWRqOacnyjlpITnkIbnu4Tku7bnmoTovpPlhaXlsZ7mgKcpCiAgICAgKgogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBjcmVhdGVkKCk6IHZvaWQgewogICAgICAgIHRoaXMuYWZ0ZXJDcmVhdGVkKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiDmiafooYxjcmVhdGVk5ZCO55qE6YC76L6RCiAgICAgKgogICAgICogIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovICAgIAogICAgcHVibGljIGFmdGVyQ3JlYXRlZCgpewogICAgICAgIGlmICh0aGlzLnZpZXdTdGF0ZSkgewogICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZUV2ZW50ID0gdGhpcy52aWV3U3RhdGUuc3Vic2NyaWJlKCh7IHRhZywgYWN0aW9uLCBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LmlzKHRhZywgdGhpcy5uYW1lKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaXMoJ2F1dG9sb2FkJywgYWN0aW9uKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYXV0b0xvYWQoZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmlzKCdsb2FkJywgYWN0aW9uKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZChkYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChPYmplY3QuaXMoJ2xvYWRkcmFmdCcsIGFjdGlvbikpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWREcmFmdChkYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogdnVlIOeUn+WRveWRqOacnwogICAgICoKICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgZGVzdHJveWVkKCkgewogICAgICAgIHRoaXMuYWZ0ZXJEZXN0cm95KCk7CiAgICB9CgogICAgLyoqCiAgICAgKiDmiafooYxkZXN0cm95ZWTlkI7nmoTpgLvovpEKICAgICAqCiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIGFmdGVyRGVzdHJveSgpIHsKICAgICAgICBpZiAodGhpcy52aWV3U3RhdGVFdmVudCkgewogICAgICAgICAgICB0aGlzLnZpZXdTdGF0ZUV2ZW50LnVuc3Vic2NyaWJlKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmRhdGFDaGFuZ0V2ZW50KSB7CiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nRXZlbnQudW5zdWJzY3JpYmUoKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiDoh6rliqjliqDovb0KICAgICAqCiAgICAgKiBAcGFyYW0geyp9IFthcmc9e31dCiAgICAgKiBAcmV0dXJucyB7dm9pZH0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgYXV0b0xvYWQoYXJnOiBhbnkgPSB7fSk6IHZvaWQgewogICAgICAgIGlmIChhcmcuc3Jma2V5ICYmICFPYmplY3QuaXMoYXJnLnNyZmtleSwgJycpKSB7CiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLCB7IHNyZmtleTogYXJnLnNyZmtleSB9KTsKICAgICAgICAgICAgdGhpcy5sb2FkKGFyZyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKGFyZy5zcmZrZXlzICYmICFPYmplY3QuaXMoYXJnLnNyZmtleXMsICcnKSkgewogICAgICAgICAgICBPYmplY3QuYXNzaWduKGFyZywgeyBzcmZrZXk6IGFyZy5zcmZrZXlzIH0pOwogICAgICAgICAgICB0aGlzLmxvYWQoYXJnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGlzLmxvYWREcmFmdChhcmcpOwogICAgfQoKICAgIC8qKgogICAgICog5Yqg6L29CiAgICAgKgogICAgICogQHB1YmxpYwogICAgICogQHBhcmFtIHsqfSBbb3B0PXt9XQogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBsb2FkKG9wdDogYW55ID0ge30pOiB2b2lkIHsKICAgICAgICBpZighdGhpcy5sb2FkQWN0aW9uKXsKICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiAnT1JNT1JHRlBYWFBpY2t1cEdyaWRWaWV36KeG5Zu+5pCc57Si6KGo5Y2VbG9hZEFjdGlvbuWPguaVsOacqumFjee9ricgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgYXJnOiBhbnkgPSB7IC4uLm9wdCB9OwogICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLHt2aWV3cGFyYW1zOnRoaXMudmlld3BhcmFtc30pOwogICAgICAgIGNvbnN0IGdldDogUHJvbWlzZTxhbnk+ID0gdGhpcy5zZXJ2aWNlLmdldCh0aGlzLmxvYWRBY3Rpb24sSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRleHQpKSwgYXJnLCB0aGlzLnNob3dCdXN5SW5kaWNhdG9yKTsKICAgICAgICBnZXQudGhlbigocmVzcG9uc2U6IGFueSkgPT4gewogICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgdGhpcy5vbkZvcm1Mb2FkKGRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnbG9hZCcsIGRhdGEpOwogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVN0YXRlLm5leHQoeyB0eXBlOiAnbG9hZCcsIGRhdGE6IGRhdGEgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnN0YXR1cyB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiAn57O757uf5byC5bi4JyB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBfZGF0YSB9ID0gcmVzcG9uc2U7CiAgICAgICAgICAgIHRoaXMuJE5vdGljZS5lcnJvcih7IHRpdGxlOiBfZGF0YS50aXRsZSwgZGVzYzogX2RhdGEubWVzc2FnZSB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOWKoOi9veiNieeovwogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW29wdD17fV0KICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgbG9hZERyYWZ0KG9wdDogYW55ID0ge30sbW9kZT86c3RyaW5nKTogdm9pZCB7CiAgICAgICAgaWYoIXRoaXMubG9hZGRyYWZ0QWN0aW9uKXsKICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiAnT1JNT1JHRlBYWFBpY2t1cEdyaWRWaWV36KeG5Zu+5pCc57Si6KGo5Y2VbG9hZGRyYWZ0QWN0aW9u5Y+C5pWw5pyq6YWN572uJyB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBjb25zdCBhcmc6IGFueSA9IHsgLi4ub3B0IH0gOwogICAgICAgIE9iamVjdC5hc3NpZ24oYXJnLHt2aWV3cGFyYW1zOnRoaXMudmlld3BhcmFtc30pOwogICAgICAgIGxldCBwb3N0OiBQcm9taXNlPGFueT4gPSB0aGlzLnNlcnZpY2UubG9hZERyYWZ0KHRoaXMubG9hZGRyYWZ0QWN0aW9uLEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSksIGFyZywgdGhpcy5zaG93QnVzeUluZGljYXRvcik7CiAgICAgICAgcG9zdC50aGVuKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8IHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JNZXNzYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiByZXNwb25zZS5lcnJvck1lc3NhZ2UgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB0aGlzLnJlc2V0RHJhZnRGb3JtU3RhdGVzKCk7CiAgICAgICAgICAgIHRoaXMub25Gb3JtTG9hZChkYXRhKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBmb3JtOiBhbnkgPSB0aGlzLiRyZWZzLmZvcm07CiAgICAgICAgICAgICAgICBpZiAoZm9ybSkgewogICAgICAgICAgICAgICAgICAgIGZvcm0uZmllbGRzLmZvckVhY2goKGZpZWxkOiBhbnkpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGVNZXNzYWdlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRlU3RhdGUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGVTdGF0dXMgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmKE9iamVjdC5pcyhtb2RlLCdSRVNFVCcpKXsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5mb3JtVmFsaWRhdGVTdGF0dXMoKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRlbWl0KCdsb2FkJywgZGF0YSk7CiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZm9ybVN0YXRlLm5leHQoeyB0eXBlOiAnbG9hZCcsIGRhdGE6IGRhdGEgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5zdGF0dXMgPT09IDQwMSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgIXJlc3BvbnNlLnN0YXR1cyB8fCAhcmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgICAgICAgdGhpcy4kTm90aWNlLmVycm9yKHsgdGl0bGU6ICfplJnor68nLCBkZXNjOiAn57O757uf5byC5bi4JyB9KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBfZGF0YSB9ID0gcmVzcG9uc2U7CiAgICAgICAgICAgIHRoaXMuJE5vdGljZS5lcnJvcih7IHRpdGxlOiBfZGF0YS50aXRsZSwgZGVzYzogX2RhdGEubWVzc2FnZSB9KTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIOihqOWNlemhueabtOaWsAogICAgICoKICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIOeVjOmdouihjOS4uuWQjeensAogICAgICogQHBhcmFtIHsqfSBbZGF0YT17fV0g6K+35rGC5pWw5o2uCiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1cGRhdGVEZXRhaWxzIOabtOaWsOmhuQogICAgICogQHBhcmFtIHtib29sZWFufSBbc2hvd2xvYWRpbmddIOaYr+WQpuaYvuekuuWKoOi9veeKtuaAgQogICAgICogQHJldHVybnMge3ZvaWR9CiAgICAgKiBAbWVtYmVyb2YgRGVmYXVsdEJhc2UKICAgICAqLwogICAgcHVibGljIHVwZGF0ZUZvcm1JdGVtcyhtb2RlOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9LCB1cGRhdGVEZXRhaWxzOiBzdHJpbmdbXSwgc2hvd2xvYWRpbmc/OiBib29sZWFuKTogdm9pZCB7CiAgICAgICAgCiAgICB9CgogICAgLyoqCiAgICAgKiDlm57ovabkuovku7YKICAgICAqCiAgICAgKiBAcGFyYW0geyp9ICRldmVudAogICAgICogQG1lbWJlcm9mIERlZmF1bHRCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBvbkVudGVyKCRldmVudDogYW55KTogdm9pZCB7CiAgICAgICAgaWYgKCF0aGlzLmZvcm1WYWxpZGF0ZVN0YXR1cygpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdCgnc2VhcmNoJywgdGhpcy5kYXRhKTsKICAgIH0KCiAgICAvKioKICAgICAqIOaQnOe0ogogICAgICoKICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgb25TZWFyY2goKSB7CiAgICAgICAgaWYgKCF0aGlzLmZvcm1WYWxpZGF0ZVN0YXR1cygpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdCgnc2VhcmNoJywgdGhpcy5kYXRhKTsKICAgIH0KCiAgICAvKioKICAgICAqIOmHjee9rgogICAgICoKICAgICAqIEBtZW1iZXJvZiBEZWZhdWx0QmFzZQogICAgICovCiAgICBwdWJsaWMgb25SZXNldCgpIHsKICAgICAgICB0aGlzLmxvYWREcmFmdCh7fSwnUkVTRVQnKTsKICAgIH0KfQo="},null]}