{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesloyeenofilegrid-view\\pimarchivesloyeenofilegrid-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimarchivesloyeenofilegrid-view\\pimarchivesloyeenofilegrid-view-base.vue","mtime":1630509409754},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCwgUHJvdmlkZSwgRW1pdCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsNCmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJzsNCmltcG9ydCB7IFVJQWN0aW9uVG9vbCwgVXRpbCB9IGZyb20gJ0AvdXRpbHMnOw0KaW1wb3J0IHsgVnVlTGlmZUN5Y2xlUHJvY2Vzc2luZywgR3JpZFZpZXdCYXNlIH0gZnJvbSAnQC9jcm0tY29yZSc7DQppbXBvcnQgUGltQXJjaGl2ZXNTZXJ2aWNlIGZyb20gJ0Avc2VydmljZS9waW0tYXJjaGl2ZXMvcGltLWFyY2hpdmVzLXNlcnZpY2UnOw0KDQppbXBvcnQgR3JpZFZpZXdFbmdpbmUgZnJvbSAnQGVuZ2luZS92aWV3L2dyaWQtdmlldy1lbmdpbmUnOw0KDQppbXBvcnQgQ29kZUxpc3RTZXJ2aWNlIGZyb20gIkBzZXJ2aWNlL2FwcC9jb2RlbGlzdC1zZXJ2aWNlIjsNCg0KDQovKioNCiAqIOWRmOW3peS4jeWcqOaho+aPkOmGkuihqOagvOinhuWbvuWfuuexuw0KICoNCiAqIEBleHBvcnQNCiAqIEBjbGFzcyBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogKiBAZXh0ZW5kcyB7R3JpZFZpZXdCYXNlfQ0KICovDQpAQ29tcG9uZW50KHt9KQ0KQFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmcNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UgZXh0ZW5kcyBHcmlkVmlld0Jhc2Ugew0KDQogICAgLyoqDQogICAgICog5a6e5L2T5pyN5Yqh5a+56LGhDQogICAgICoNCiAgICAgKiBAdHlwZSB7UGltQXJjaGl2ZXNTZXJ2aWNlfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGFwcEVudGl0eVNlcnZpY2U6IFBpbUFyY2hpdmVzU2VydmljZSA9IG5ldyBQaW1BcmNoaXZlc1NlcnZpY2U7DQoNCg0KICAgIC8qKg0KICAgICAqIOiuoeaVsOWZqOacjeWKoeWvueixoembhuWQiA0KICAgICAqDQogICAgICogQHR5cGUge0FycmF5PCo+fQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovICAgIA0KICAgIHB1YmxpYyBjb3VudGVyU2VydmljZUFycmF5OkFycmF5PGFueT4gPSBbXTsNCiAgICANCiAgICAvKioNCiAgICAgKiDmlbDmja7lj5jljJYNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gdmFsDQogICAgICogQHJldHVybnMgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBARW1pdCgpIA0KICAgIHB1YmxpYyB2aWV3RGF0YXNDaGFuZ2UodmFsOiBhbnkpOmFueSB7DQogICAgICAgIHJldHVybiB2YWw7DQogICAgfQ0KDQoJLyoqDQoJICog6KeG5Zu+5qCH6K+GDQoJICoNCgkgKiBAdHlwZSB7c3RyaW5nfQ0KCSAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQoJICovDQoJcHVibGljIHZpZXd0YWc6IHN0cmluZyA9ICcxYzRmNjY1NmFlMzk2NGQ5MjEzMzNmYzhlNTIxYjBkNic7DQoNCiAgICAvKioNCiAgICAgKiDniLbmlbDmja7lr7nosaENCiAgICAgKg0KICAgICAqIEBwcm90ZWN0ZWQNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCBzcmZwYXJlbnRkYXRhOiBhbnkgPSB7fTsNCg0KCS8qKg0KCSAqIOiHquWumuS5ieinhuWbvuWvvOiIquS4iuS4i+aWh+mbhuWQiA0KCSAqDQoJICogQHR5cGUgeyp9DQoJICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCgkgKi8NCiAgICBwdWJsaWMgY3VzdG9tVmlld05hdkNvbnRleHRzOmFueSA9ew0KICAgIH07DQoNCgkvKioNCgkgKiDoh6rlrprkuYnop4blm77lr7zoiKrlj4LmlbDpm4blkIgNCgkgKg0KCSAqIEB0eXBlIHsqfQ0KCSAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQoJICovDQogICAgcHVibGljIGN1c3RvbVZpZXdQYXJhbXM6YW55ID17DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOinhuWbvuaooeWei+aVsOaNrg0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgbW9kZWw6IGFueSA9IHsNCiAgICAgICAgc3JmQ2FwdGlvbjogJ2VudGl0aWVzLnBpbWFyY2hpdmVzLnZpZXdzLmxveWVlbm9maWxlZ3JpZHZpZXcuY2FwdGlvbicsDQogICAgICAgIHNyZlRpdGxlOiAnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MubG95ZWVub2ZpbGVncmlkdmlldy50aXRsZScsDQogICAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MubG95ZWVub2ZpbGVncmlkdmlldy5zdWJ0aXRsZScsDQogICAgICAgIGRhdGFJbmZvOiAnJw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOWuueWZqOaooeWeiw0KICAgICAqDQogICAgICogQHR5cGUgeyp9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgY29udGFpbmVyTW9kZWw6IGFueSA9IHsNCiAgICAgICAgdmlld190b29sYmFyOiB7IG5hbWU6ICd0b29sYmFyJywgdHlwZTogJ1RPT0xCQVInIH0sDQogICAgICAgIHZpZXdfZ3JpZDogeyBuYW1lOiAnZ3JpZCcsIHR5cGU6ICdHUklEJyB9LA0KICAgICAgICB2aWV3X3NlYXJjaGZvcm06IHsgbmFtZTogJ3NlYXJjaGZvcm0nLCB0eXBlOiAnU0VBUkNIRk9STScgfSwNCiAgICB9Ow0KDQogICAgLyoqDQogICAgICog6KeG5Zu+54q25oCB6K6i6ZiF5a+56LGhDQogICAgICoNCiAgICAgKiBAcHVibGljDQogICAgICogQHR5cGUge1N1YmplY3Q8e2FjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnl9Pn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyB2aWV3U3RhdGU6IFN1YmplY3Q8Vmlld1N0YXRlPiA9IG5ldyBTdWJqZWN0KCk7DQogICAgLyoqDQogICAgICog5bel5YW35qCP5qih5Z6LDQogICAgICoNCiAgICAgKiBAdHlwZSB7Kn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3DQogICAgICovDQogICAgcHVibGljIHRvb2xCYXJNb2RlbHM6IGFueSA9IHsNCiAgICAgICAgZGV1aWFjdGlvbjY6IHsgbmFtZTogJ2RldWlhY3Rpb242JywgY2FwdGlvbjogJ+WvvOWHuicsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICflr7zlh7onLCBpY29uY2xzOiAnZmEgZmEtZmlsZS1leGNlbC1vJywgaWNvbjogJycsIGRpc2FibGVkOiBmYWxzZSwgdHlwZTogJ0RFVUlBQ1RJT04nLCB2aXNhYmxlZDogdHJ1ZSwgZGF0YWFjY2FjdGlvbjogJycsIHVpYWN0aW9uOiB7IHRhZzogJ0V4cG9ydEV4Y2VsJywgdGFyZ2V0OiAnJyB9LCBNYXhSb3dDb3VudDogNTAwMCwgY2xhc3M6ICcnIH0sDQoNCiAgICAgICAgZGV1aWFjdGlvbjI6IHsgbmFtZTogJ2RldWlhY3Rpb24yJywgY2FwdGlvbjogJ+i/h+a7pCcsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICfov4fmu6QnLCBpY29uY2xzOiAnZmEgZmEtZmlsdGVyJywgaWNvbjogJycsIGRpc2FibGVkOiBmYWxzZSwgdHlwZTogJ0RFVUlBQ1RJT04nLCB2aXNhYmxlZDogdHJ1ZSwgZGF0YWFjY2FjdGlvbjogJ1NSRlVSX19KR0xZS1FMWCcsIHVpYWN0aW9uOiB7IHRhZzogJ1RvZ2dsZUZpbHRlcicsIHRhcmdldDogJycgfSwgY2xhc3M6ICcnIH0sDQoNCiAgICB9Ow0KDQoNCg0KDQoNCiAgICAvKioNCiAgICAgKiDop4blm77lvJXmk44NCiAgICAgKg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAdHlwZSB7RW5naW5lfQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGVuZ2luZTogR3JpZFZpZXdFbmdpbmUgPSBuZXcgR3JpZFZpZXdFbmdpbmUoKTsNCgkNCg0KICAgIC8qKg0KICAgICAqIOW8leaTjuWIneWni+WMlg0KICAgICAqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGVuZ2luZUluaXQoKTogdm9pZCB7DQogICAgICAgIHRoaXMuZW5naW5lLmluaXQoew0KICAgICAgICAgICAgdmlldzogdGhpcywNCiAgICAgICAgICAgIG9wZW5kYXRhOiAoYXJnczogYW55W10sIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMub3BlbmRhdGEoYXJncywgcGFyYW1zLCAkZXZlbnQsIHhEYXRhKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBuZXdkYXRhOiAoYXJnczogYW55W10sIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubmV3ZGF0YShhcmdzLCBwYXJhbXMsICRldmVudCwgeERhdGEpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGdyaWQ6IHRoaXMuJHJlZnMuZ3JpZCwNCiAgICAgICAgICAgIHNlYXJjaGZvcm06IHRoaXMuJHJlZnMuc2VhcmNoZm9ybSwNCiAgICAgICAgICAgIGtleVBTREVGaWVsZDogJ3BpbWFyY2hpdmVzJywNCiAgICAgICAgICAgIG1ham9yUFNERUZpZWxkOiAncGltcGVyc29ubmFtZScsDQogICAgICAgICAgICBpc0xvYWREZWZhdWx0OiB0cnVlLA0KICAgICAgICB9KTsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIHRvb2xiYXIg6YOo5Lu2IGNsaWNrIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIHRvb2xiYXJfY2xpY2soJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAnZGV1aWFjdGlvbjMnKSkgew0KICAgICAgICAgICAgdGhpcy50b29sYmFyX2RldWlhY3Rpb24zX2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICdkZXVpYWN0aW9uNicpKSB7DQogICAgICAgICAgICB0aGlzLnRvb2xiYXJfZGV1aWFjdGlvbjZfY2xpY2sobnVsbCwgJycsICRldmVudDIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ2RldWlhY3Rpb24yJykpIHsNCiAgICAgICAgICAgIHRoaXMudG9vbGJhcl9kZXVpYWN0aW9uMl9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7DQogICAgICAgIH0NCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHNlbGVjdGlvbmNoYW5nZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX3NlbGVjdGlvbmNoYW5nZSgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgew0KICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdzZWxlY3Rpb25jaGFuZ2UnLCAkZXZlbnQpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgYmVmb3JlbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX2JlZm9yZWxvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnYmVmb3JlbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiByb3dkYmxjbGljayDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX3Jvd2RibGNsaWNrKCRldmVudDogYW55LCAkZXZlbnQyPzogYW55KSB7DQogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdncmlkJywgJ3Jvd2RibGNsaWNrJywgJGV2ZW50KTsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIGdyaWQg6YOo5Lu2IHJlbW92ZSDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX3JlbW92ZSgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgew0KICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZ3JpZCcsICdyZW1vdmUnLCAkZXZlbnQpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogZ3JpZCDpg6jku7YgbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBncmlkX2xvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ2dyaWQnLCAnbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiBzZWFyY2hmb3JtIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIHNlYXJjaGZvcm1fc2F2ZSgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgew0KICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdzYXZlJywgJGV2ZW50KTsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIHNlYXJjaGZvcm0g6YOo5Lu2IHNlYXJjaCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBzZWFyY2hmb3JtX3NlYXJjaCgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgew0KICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnc2VhcmNoZm9ybScsICdzZWFyY2gnLCAkZXZlbnQpOw0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICogc2VhcmNoZm9ybSDpg6jku7YgbG9hZCDkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dDQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBzZWFyY2hmb3JtX2xvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsNCiAgICAgICAgdGhpcy5lbmdpbmUub25DdHJsRXZlbnQoJ3NlYXJjaGZvcm0nLCAnbG9hZCcsICRldmVudCk7DQogICAgfQ0KDQoNCg0KICAgIC8qKg0KICAgICAqIOmAu+i+keS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10NCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdDQogICAgICogQG1lbWJlcm9mIA0KICAgICAqLw0KICAgIHB1YmxpYyB0b29sYmFyX2RldWlhY3Rpb24zX2NsaWNrKHBhcmFtczogYW55ID0ge30sIHRhZz86IGFueSwgJGV2ZW50PzogYW55KSB7DQogICAgICAgIC8vIOWPguaVsA0KICAgICAgICAvLyDlj5bmlbANCiAgICAgICAgbGV0IGRhdGFzOiBhbnlbXSA9IFtdOw0KICAgICAgICBsZXQgeERhdGE6IGFueSA9IG51bGw7DQogICAgICAgIC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQ0KICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsNCiAgICAgICAgbGV0IHBhcmFtSk86YW55ID0ge307DQogICAgICAgIGxldCBjb250ZXh0Sk86YW55ID0ge307DQogICAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5ncmlkOw0KICAgICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgew0KICAgICAgICAgICAgZGF0YXMgPSBbLi4ueERhdGEuZ2V0RGF0YXMoKV07DQogICAgICAgIH0NCiAgICAgICAgaWYocGFyYW1zKXsNCiAgICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOw0KICAgICAgICB9DQogICAgICAgIC8vIOeVjOmdouihjOS4ug0KICAgICAgICB0aGlzLk9wZW5Sb3dFZGl0KGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltQXJjaGl2ZXMiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDpgLvovpHkuovku7YNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0NCiAgICAgKiBAcGFyYW0geyp9IFt0YWddDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBtZW1iZXJvZiANCiAgICAgKi8NCiAgICBwdWJsaWMgdG9vbGJhcl9kZXVpYWN0aW9uNl9jbGljayhwYXJhbXM6IGFueSA9IHt9LCB0YWc/OiBhbnksICRldmVudD86IGFueSkgew0KICAgICAgICAvLyDlj4LmlbANCiAgICAgICAgLy8g5Y+W5pWwDQogICAgICAgIGxldCBkYXRhczogYW55W10gPSBbXTsNCiAgICAgICAgbGV0IHhEYXRhOiBhbnkgPSBudWxsOw0KICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaENCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGxldCBwYXJhbUpPOmFueSA9IHt9Ow0KICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9Ow0KICAgICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZ3JpZDsNCiAgICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsNCiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOw0KICAgICAgICB9DQogICAgICAgIGlmKHBhcmFtcyl7DQogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDnlYzpnaLooYzkuLoNCiAgICAgICAgdGhpcy5FeHBvcnRFeGNlbChkYXRhcywgY29udGV4dEpPLHBhcmFtSk8sICAkZXZlbnQsIHhEYXRhLHRoaXMsIlBpbUFyY2hpdmVzIik7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog6YC76L6R5LqL5Lu2DQogICAgICoNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dDQogICAgICogQHBhcmFtIHsqfSBbdGFnXQ0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0NCiAgICAgKiBAbWVtYmVyb2YgDQogICAgICovDQogICAgcHVibGljIHRvb2xiYXJfZGV1aWFjdGlvbjJfY2xpY2socGFyYW1zOiBhbnkgPSB7fSwgdGFnPzogYW55LCAkZXZlbnQ/OiBhbnkpIHsNCiAgICAgICAgLy8g5Y+C5pWwDQogICAgICAgIC8vIOWPluaVsA0KICAgICAgICBsZXQgZGF0YXM6IGFueVtdID0gW107DQogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsNCiAgICAgICAgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhDQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOw0KICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsNCiAgICAgICAgbGV0IGNvbnRleHRKTzphbnkgPSB7fTsNCiAgICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmdyaWQ7DQogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7DQogICAgICAgICAgICBkYXRhcyA9IFsuLi54RGF0YS5nZXREYXRhcygpXTsNCiAgICAgICAgfQ0KICAgICAgICBpZihwYXJhbXMpew0KICAgICAgICAgIGRhdGFzID0gW3BhcmFtc107DQogICAgICAgIH0NCiAgICAgICAgLy8g55WM6Z2i6KGM5Li6DQogICAgICAgIHRoaXMuVG9nZ2xlRmlsdGVyKGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltQXJjaGl2ZXMiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmiZPlvIDmlrDlu7rmlbDmja7op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdDQogICAgICogQHBhcmFtIHsqfSBbZnVsbGFyZ3NdDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXcNCiAgICAgKi8NCiAgICBwdWJsaWMgbmV3ZGF0YShhcmdzOiBhbnlbXSxmdWxsYXJncz86YW55W10sIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSkgew0KICAgICAgICBsZXQgbG9jYWxDb250ZXh0OmFueSA9IG51bGw7DQogICAgICAgIGxldCBsb2NhbFZpZXdQYXJhbTphbnkgPW51bGw7DQogICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHt9Ow0KICAgICAgICBpZihhcmdzWzBdLnNyZnNvdXJjZWtleSl7DQogICAgICAgICAgICBkYXRhLnNyZnNvdXJjZWtleSA9IGFyZ3NbMF0uc3Jmc291cmNla2V5Ow0KICAgICAgICB9DQogICAgICAgIGxldCB0ZW1wQ29udGV4dCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jb250ZXh0KSk7DQogICAgICAgIGRlbGV0ZSB0ZW1wQ29udGV4dC5waW1hcmNoaXZlczsNCiAgICAgICAgaWYoYXJncy5sZW5ndGggPjApew0KICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0ZW1wQ29udGV4dCxhcmdzWzBdKTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZGVSZXNQYXJhbWV0ZXJzOiBhbnlbXSA9IFtdOw0KICAgICAgICBpZih0ZW1wQ29udGV4dC5waW1wZXJzb24gJiYgdHJ1ZSl7DQogICAgICAgICAgICBkZVJlc1BhcmFtZXRlcnMgPSBbDQogICAgICAgICAgICB7IHBhdGhOYW1lOiAncGltcGVvcGxlJywgcGFyYW1ldGVyTmFtZTogJ3BpbXBlcnNvbicgfSwNCiAgICAgICAgICAgIF0NCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBwYXJhbWV0ZXJzOiBhbnlbXSA9IFsNCiAgICAgICAgICAgIHsgcGF0aE5hbWU6ICdwaW1hcmNoaXZlcycsIHBhcmFtZXRlck5hbWU6ICdwaW1hcmNoaXZlcycgfSwNCiAgICAgICAgXTsNCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgIGNvbnN0IG9wZW5EcmF3ZXIgPSAodmlldzogYW55LCBkYXRhOiBhbnkpID0+IHsNCiAgICAgICAgICAgIGxldCBjb250YWluZXI6IFN1YmplY3Q8YW55PiA9IHRoaXMuJGFwcGRyYXdlci5vcGVuRHJhd2VyKHZpZXcsIHRlbXBDb250ZXh0LCBkYXRhKTsNCiAgICAgICAgICAgIGNvbnRhaW5lci5zdWJzY3JpYmUoKHJlc3VsdDogYW55KSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIU9iamVjdC5pcyhyZXN1bHQucmV0LCAnT0snKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5yZWZyZXNoIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgeERhdGEucmVmcmVzaChyZXN1bHQuZGF0YXMpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgICAgY29uc3QgdmlldzogYW55ID0gew0KICAgICAgICAgICAgdmlld25hbWU6ICdwaW1hcmNoaXZlc2VkaXQtdmlldycsIA0KICAgICAgICAgICAgaGVpZ2h0OiAwLCANCiAgICAgICAgICAgIHdpZHRoOiAxMzY2LCAgDQogICAgICAgICAgICB0aXRsZTogdGhpcy4kdCgnZW50aXRpZXMucGltYXJjaGl2ZXMudmlld3MuZWRpdHZpZXcudGl0bGUnKSwNCiAgICAgICAgICAgIHBsYWNlbWVudDogJ0RSQVdFUl9SSUdIVCcsDQogICAgICAgIH07DQogICAgICAgIG9wZW5EcmF3ZXIodmlldywgZGF0YSk7DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiDmiZPlvIDnvJbovpHmlbDmja7op4blm74NCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3MNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdDQogICAgICogQHBhcmFtIHsqfSBbZnVsbGFyZ3NdDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQ0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXcNCiAgICAgKi8NCiAgICBwdWJsaWMgb3BlbmRhdGEoYXJnczogYW55W10sZnVsbGFyZ3M/OmFueVtdLHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSkgew0KICAgICAgICBsZXQgbG9jYWxDb250ZXh0OmFueSA9IG51bGw7DQogICAgICAgIGxldCBsb2NhbFZpZXdQYXJhbTphbnkgPW51bGw7DQogICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHt9Ow0KICAgICAgICBsZXQgdGVtcENvbnRleHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY29udGV4dCkpOw0KICAgICAgICBpZihhcmdzLmxlbmd0aCA+MCl7DQogICAgICAgICAgICBPYmplY3QuYXNzaWduKHRlbXBDb250ZXh0LGFyZ3NbMF0pOw0KICAgICAgICB9DQogICAgICAgIGxldCBkZVJlc1BhcmFtZXRlcnM6IGFueVtdID0gW107DQogICAgICAgIGlmKHRlbXBDb250ZXh0LnBpbXBlcnNvbiAmJiB0cnVlKXsNCiAgICAgICAgICAgIGRlUmVzUGFyYW1ldGVycyA9IFsNCiAgICAgICAgICAgIHsgcGF0aE5hbWU6ICdwaW1wZW9wbGUnLCBwYXJhbWV0ZXJOYW1lOiAncGltcGVyc29uJyB9LA0KICAgICAgICAgICAgXQ0KICAgICAgICB9DQogICAgICAgIGNvbnN0IHBhcmFtZXRlcnM6IGFueVtdID0gWw0KICAgICAgICAgICAgeyBwYXRoTmFtZTogJ3BpbWFyY2hpdmVzJywgcGFyYW1ldGVyTmFtZTogJ3BpbWFyY2hpdmVzJyB9LA0KICAgICAgICBdOw0KICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsNCiAgICAgICAgY29uc3Qgb3BlbkRyYXdlciA9ICh2aWV3OiBhbnksIGRhdGE6IGFueSkgPT4gew0KICAgICAgICAgICAgbGV0IGNvbnRhaW5lcjogU3ViamVjdDxhbnk+ID0gdGhpcy4kYXBwZHJhd2VyLm9wZW5EcmF3ZXIodmlldywgdGVtcENvbnRleHQsIGRhdGEpOw0KICAgICAgICAgICAgY29udGFpbmVyLnN1YnNjcmliZSgocmVzdWx0OiBhbnkpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdCB8fCAhT2JqZWN0LmlzKHJlc3VsdC5yZXQsICdPSycpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnJlZnJlc2ggaW5zdGFuY2VvZiBGdW5jdGlvbikpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB4RGF0YS5yZWZyZXNoKHJlc3VsdC5kYXRhcyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCB2aWV3OiBhbnkgPSB7DQogICAgICAgICAgICB2aWV3bmFtZTogJ3BpbWFyY2hpdmVzZWRpdC12aWV3JywgDQogICAgICAgICAgICBoZWlnaHQ6IDAsIA0KICAgICAgICAgICAgd2lkdGg6IDEzNjYsICANCiAgICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdlbnRpdGllcy5waW1hcmNoaXZlcy52aWV3cy5lZGl0dmlldy50aXRsZScpLA0KICAgICAgICAgICAgcGxhY2VtZW50OiAnRFJBV0VSX1JJR0hUJywNCiAgICAgICAgfTsNCiAgICAgICAgb3BlbkRyYXdlcih2aWV3LCBkYXRhKTsNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIOW8gOWQr+ihjOe8lui+kQ0KICAgICAqDQogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4NCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhw0KICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwDQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupANCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tg0KICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocNCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHByb3RlY3RlZCBPcGVuUm93RWRpdChhcmdzOiBhbnlbXSxjb250ZXh0Sk8/OmFueSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55LGFjdGlvbkNvbnRleHQ/OmFueSxzcmZQYXJlbnREZU5hbWU/OnN0cmluZykgew0KICAgICAgICANCiAgICB9DQogICAgLyoqDQogICAgICog5a+85Ye6DQogICAgICoNCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrg0KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHDQogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbANCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kA0KICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2DQogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhw0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIEV4cG9ydEV4Y2VsKGFyZ3M6IGFueVtdLGNvbnRleHRKTz86YW55LCBwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnksYWN0aW9uQ29udGV4dD86YW55LHNyZlBhcmVudERlTmFtZT86c3RyaW5nKSB7DQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOw0KICAgICAgICBpZiAoIXhEYXRhIHx8ICEoeERhdGEuZXhwb3J0RXhjZWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgfHwgISRldmVudCkgew0KICAgICAgICAgICAgcmV0dXJuIDsNCiAgICAgICAgfQ0KICAgICAgICB4RGF0YS5leHBvcnRFeGNlbCgkZXZlbnQuZXhwb3J0cGFybXMpOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiDov4fmu6QNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uDQogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocNCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsA0KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQDQogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YNCiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHDQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgVG9nZ2xlRmlsdGVyKGFyZ3M6IGFueVtdLGNvbnRleHRKTz86YW55LCBwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnksYWN0aW9uQ29udGV4dD86YW55LHNyZlBhcmVudERlTmFtZT86c3RyaW5nKSB7DQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOw0KICAgICAgICBpZiAoX3RoaXMuaGFzT3duUHJvcGVydHkoJ2lzRXhwYW5kU2VhcmNoRm9ybScpKSB7DQogICAgICAgICAgICBfdGhpcy5pc0V4cGFuZFNlYXJjaEZvcm0gPSAhX3RoaXMuaXNFeHBhbmRTZWFyY2hGb3JtOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICAvKioNCiAgICAgKiDplIDmr4Hop4blm77lm57osIMNCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGRlc3Ryb3llZCgpew0KICAgICAgICBpZih0aGlzLnZpZXdEZWZhdWx0VXNhZ2Upew0KICAgICAgICAgICAgbGV0IGxvY2FsU3RvcmVMZW5ndGggPSBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpOw0KICAgICAgICAgICAgaWYobG9jYWxTdG9yZUxlbmd0aC5sZW5ndGggPiAwKXsNCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlTGVuZ3RoLmZvckVhY2goKGl0ZW06c3RyaW5nKSA9PnsNCiAgICAgICAgICAgICAgICBpZihpdGVtLnN0YXJ0c1dpdGgodGhpcy5jb250ZXh0LnNyZnNlc3Npb25pZCkpew0KICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KDQogICAgLyoqDQogICAgICog5piv5ZCm5Y2V6YCJDQogICAgICoNCiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBpc1NpbmdsZVNlbGVjdDogYm9vbGVhbiA9IGZhbHNlOw0KDQoNCiAgICAvKioNCiAgICAgKiBWdWXlo7DmmI7lkajmnJ8NCiAgICAgKg0KICAgICAqIEBtZW1iZXJvZiBWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBjcmVhdGVkKCkgew0KICAgICAgICBzdXBlci5jcmVhdGVkKCk7DQogICAgICAgIGlmKHRoaXMuZm9ybURydWlwYXJ0KXsNCiAgICAgICAgICAgIHRoaXMuZm9ybURydWlwYXJ0LnN1YnNjcmliZSgocmVzOmFueSkgPT57DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmlzKHJlcy5hY3Rpb24sJ3NhdmUnKSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudmlld1N0YXRlLm5leHQoeyB0YWc6J2dyaWQnLCBhY3Rpb246ICdzYXZlJywgZGF0YTogdGhpcy52aWV3cGFyYW1zIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihPYmplY3QuaXMocmVzLmFjdGlvbiwnbG9hZCcpKXsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7DQogICAgICAgICAgICAgICAgICAgIF90aGlzLmVuZ2luZS5sb2FkKHJlcy5kYXRhLHRydWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgKiDnlYzpnaLlhbPns7vpgJrorq/lr7nosaENCiAgICAqDQogICAgKiBAdHlwZSB7U3ViamVjdDxWaWV3U3RhdGU+fQ0KICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAqLw0KICAgIEBQcm9wKCkgcHVibGljIGZvcm1EcnVpcGFydD86IFN1YmplY3Q8Vmlld1N0YXRlPjsNCg0KICAgIC8qKg0KICAgICAqIOaQnOe0ouWAvA0KICAgICAqDQogICAgICogQHR5cGUge3N0cmluZ30NCiAgICAgKiBAbWVtYmVyb2YgUElNQVJDSElWRVNMT1lFRU5PRklMRUdyaWRWaWV3QmFzZQ0KICAgICAqLw0KICAgIHB1YmxpYyBxdWVyeTogc3RyaW5nID0gJyc7DQoNCiAgICAvKioNCiAgICAgKiDmmK/lkKblsZXlvIDmkJzntKLooajljZUNCiAgICAgKg0KICAgICAqIEB0eXBlIHtib29sZWFufQ0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgcHVibGljIGlzRXhwYW5kU2VhcmNoRm9ybTogYm9vbGVhbiA9IGZhbHNlOw0KDQogICAgLyoqDQogICAgICog6KGo5qC86KGM5pWw5o2u6buY6K6k5r+A5rS75qih5byPDQogICAgICogMCDkuI3mv4DmtLsNCiAgICAgKiAxIOWNleWHu+a/gOa0uw0KICAgICAqIDIg5Y+M5Ye75r+A5rS7DQogICAgICoNCiAgICAgKiBAdHlwZSB7KG51bWJlciB8IDAgfCAxIHwgMil9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgZ3JpZFJvd0FjdGl2ZU1vZGU6IG51bWJlciB8IDAgfCAxIHwgMiA9IDA7DQoNCiAgICAvKioNCiAgICAgKiDlv6vpgJ/mkJzntKINCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gJGV2ZW50DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgb25TZWFyY2goJGV2ZW50OiBhbnkpOiB2b2lkIHsNCiAgICAgICAgY29uc3QgZ3JpZDogYW55ID0gdGhpcy4kcmVmcy5ncmlkOw0KICAgICAgICBpZiAoZ3JpZCkgew0KICAgICAgICAgICAgZ3JpZC5sb2FkKHRoaXMuY29udGV4dCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBncmlkIOmDqOS7tiBzYXZlIOS6i+S7tg0KICAgICAqDQogICAgICogQHBhcmFtIHsqfSBbYXJncz17fV0NCiAgICAgKiBAcGFyYW0geyp9ICRldmVudA0KICAgICAqIEBtZW1iZXJvZiBFTlRJVFlURVNUMVVzcjJHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBwdWJsaWMgb25TYXZlKCRldmVudDogYW55KSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2RyZGF0YXNhdmVkJywgJGV2ZW50KTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDliLfmlrDmlbDmja4NCiAgICAgKg0KICAgICAqIEByZWFkb25seQ0KICAgICAqIEB0eXBlIHsobnVtYmVyIHwgbnVsbCl9DQogICAgICogQG1lbWJlcm9mIFBJTUFSQ0hJVkVTTE9ZRUVOT0ZJTEVHcmlkVmlld0Jhc2UNCiAgICAgKi8NCiAgICBnZXQgcmVmcmVzaGRhdGEoKTogbnVtYmVyIHwgbnVsbCB7DQogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyd2aWV3YWN0aW9uL2dldFJlZnJlc2hEYXRhJ10odGhpcy52aWV3dGFnKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDnm5HmjqfmlbDmja7lj5jljJYNCiAgICAgKg0KICAgICAqIEBwYXJhbSB7Kn0gbmV3VmFsDQogICAgICogQHBhcmFtIHsqfSBvbGRWYWwNCiAgICAgKiBAcmV0dXJucw0KICAgICAqIEBtZW1iZXJvZiBQSU1BUkNISVZFU0xPWUVFTk9GSUxFR3JpZFZpZXdCYXNlDQogICAgICovDQogICAgQFdhdGNoKCdyZWZyZXNoZGF0YScpDQogICAgb25SZWZyZXNoRGF0YShuZXdWYWw6IGFueSwgb2xkVmFsOiBhbnkpIHsNCiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gbnVsbCB8fCBuZXdWYWwgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGlmIChuZXdWYWwgPT09IDApIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBncmlkOiBhbnkgPSB0aGlzLiRyZWZzLmdyaWQ7DQogICAgICAgIGlmIChncmlkKSB7DQogICAgICAgICAgICBncmlkLmxvYWQoe30pOw0KICAgICAgICB9DQogICAgfQ0KDQp9DQo="},null]}