{"remainingRequest":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimlabourcampanyedit-view\\pimlabourcampanyedit-view-base.vue?vue&type=script&lang=tsx&","dependencies":[{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\src\\pages\\pim\\pimlabourcampanyedit-view\\pimlabourcampanyedit-view-base.vue","mtime":1630509410001},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1630511853252},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\babel-loader\\lib\\index.js","mtime":1630511852747},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\ts-loader\\index.js","mtime":1630511985412},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630511852775},{"path":"F:\\crod项目\\人事管理系统2\\iBizEHR\\app_EHRPim\\node_modules\\vue-loader\\lib\\index.js","mtime":1630512070338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgVnVlLCBDb21wb25lbnQsIFByb3AsIFByb3ZpZGUsIEVtaXQsIFdhdGNoIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7CmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJzsKaW1wb3J0IHsgVUlBY3Rpb25Ub29sLCBVdGlsIH0gZnJvbSAnQC91dGlscyc7CmltcG9ydCB7IFZ1ZUxpZmVDeWNsZVByb2Nlc3NpbmcsIEVkaXRWaWV3QmFzZSB9IGZyb20gJ0AvY3JtLWNvcmUnOwppbXBvcnQgUGltTGFib3VyY2FtcGFueVNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlL3BpbS1sYWJvdXJjYW1wYW55L3BpbS1sYWJvdXJjYW1wYW55LXNlcnZpY2UnOwoKaW1wb3J0IEVkaXRWaWV3RW5naW5lIGZyb20gJ0BlbmdpbmUvdmlldy9lZGl0LXZpZXctZW5naW5lJzsKCgovKioKICog5Yqz5Yqh5rS+6YGj5YWs5Y+457yW6L6R6KeG5Zu+5Z+657G7CiAqCiAqIEBleHBvcnQKICogQGNsYXNzIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICogQGV4dGVuZHMge0VkaXRWaWV3QmFzZX0KICovCkBDb21wb25lbnQoe30pCkBWdWVMaWZlQ3ljbGVQcm9jZXNzaW5nCmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UgZXh0ZW5kcyBFZGl0Vmlld0Jhc2UgewoKICAgIC8qKgogICAgICog5a6e5L2T5pyN5Yqh5a+56LGhCiAgICAgKgogICAgICogQHR5cGUge1BpbUxhYm91cmNhbXBhbnlTZXJ2aWNlfQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIGFwcEVudGl0eVNlcnZpY2U6IFBpbUxhYm91cmNhbXBhbnlTZXJ2aWNlID0gbmV3IFBpbUxhYm91cmNhbXBhbnlTZXJ2aWNlOwoKCiAgICAvKioKICAgICAqIOiuoeaVsOWZqOacjeWKoeWvueixoembhuWQiAogICAgICoKICAgICAqIEB0eXBlIHtBcnJheTwqPn0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8gICAgCiAgICBwdWJsaWMgY291bnRlclNlcnZpY2VBcnJheTpBcnJheTxhbnk+ID0gW107CiAgICAKICAgIC8qKgogICAgICog5pWw5o2u5Y+Y5YyWCiAgICAgKgogICAgICogQHBhcmFtIHsqfSB2YWwKICAgICAqIEByZXR1cm5zIHsqfQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgQEVtaXQoKSAKICAgIHB1YmxpYyB2aWV3RGF0YXNDaGFuZ2UodmFsOiBhbnkpOmFueSB7CiAgICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCgkvKioKCSAqIOinhuWbvuagh+ivhgoJICoKCSAqIEB0eXBlIHtzdHJpbmd9CgkgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQoJICovCglwdWJsaWMgdmlld3RhZzogc3RyaW5nID0gJzhmNWJmNWNiMGQwOWZjYTAzMWQ3MGJlMDc4ZDQyNjIxJzsKCiAgICAvKioKICAgICAqIOeItuaVsOaNruWvueixoQogICAgICoKICAgICAqIEBwcm90ZWN0ZWQKICAgICAqIEB0eXBlIHsqfQogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHJvdGVjdGVkIHNyZnBhcmVudGRhdGE6IGFueSA9IHt9OwoKCS8qKgoJICog6Ieq5a6a5LmJ6KeG5Zu+5a+86Iiq5LiK5LiL5paH6ZuG5ZCICgkgKgoJICogQHR5cGUgeyp9CgkgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQoJICovCiAgICBwdWJsaWMgY3VzdG9tVmlld05hdkNvbnRleHRzOmFueSA9ewogICAgfTsKCgkvKioKCSAqIOiHquWumuS5ieinhuWbvuWvvOiIquWPguaVsOmbhuWQiAoJICoKCSAqIEB0eXBlIHsqfQoJICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKCSAqLwogICAgcHVibGljIGN1c3RvbVZpZXdQYXJhbXM6YW55ID17CiAgICB9OwoKICAgIC8qKgogICAgICog6KeG5Zu+5qih5Z6L5pWw5o2uCiAgICAgKgogICAgICogQHR5cGUgeyp9CiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgbW9kZWw6IGFueSA9IHsKICAgICAgICBzcmZDYXB0aW9uOiAnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5lZGl0dmlldy5jYXB0aW9uJywKICAgICAgICBzcmZUaXRsZTogJ2VudGl0aWVzLnBpbWxhYm91cmNhbXBhbnkudmlld3MuZWRpdHZpZXcudGl0bGUnLAogICAgICAgIHNyZlN1YlRpdGxlOiAnZW50aXRpZXMucGltbGFib3VyY2FtcGFueS52aWV3cy5lZGl0dmlldy5zdWJ0aXRsZScsCiAgICAgICAgZGF0YUluZm86ICcnCiAgICB9CgogICAgLyoqCiAgICAgKiDlrrnlmajmqKHlnosKICAgICAqCiAgICAgKiBAdHlwZSB7Kn0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBjb250YWluZXJNb2RlbDogYW55ID0gewogICAgICAgIHZpZXdfdG9vbGJhcjogeyBuYW1lOiAndG9vbGJhcicsIHR5cGU6ICdUT09MQkFSJyB9LAogICAgICAgIHZpZXdfZm9ybTogeyBuYW1lOiAnZm9ybScsIHR5cGU6ICdGT1JNJyB9LAogICAgfTsKCiAgICAvKioKICAgICAqIOinhuWbvueKtuaAgeiuoumYheWvueixoQogICAgICoKICAgICAqIEBwdWJsaWMKICAgICAqIEB0eXBlIHtTdWJqZWN0PHthY3Rpb246IHN0cmluZywgZGF0YTogYW55fT59CiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgdmlld1N0YXRlOiBTdWJqZWN0PFZpZXdTdGF0ZT4gPSBuZXcgU3ViamVjdCgpOwogICAgLyoqCiAgICAgKiDlt6XlhbfmoI/mqKHlnosKICAgICAqCiAgICAgKiBAdHlwZSB7Kn0KICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXcKICAgICAqLwogICAgcHVibGljIHRvb2xCYXJNb2RlbHM6IGFueSA9IHsKICAgICAgICB0Yml0ZW0zOiB7IG5hbWU6ICd0Yml0ZW0zJywgY2FwdGlvbjogJ+S/neWtmCcsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICfkv53lrZgnLCBpY29uY2xzOiAnZmEgZmEtc2F2ZScsIGljb246ICcnLCBkaXNhYmxlZDogZmFsc2UsIHR5cGU6ICdERVVJQUNUSU9OJywgdmlzYWJsZWQ6IHRydWUsIGRhdGFhY2NhY3Rpb246ICdTUkZVUl9fSkdMWVpQTVhNRScsIHVpYWN0aW9uOiB7IHRhZzogJ1NhdmUnLCB0YXJnZXQ6ICcnIH0sIGNsYXNzOiAnJyB9LAoKICAgICAgICB0Yml0ZW00OiB7IG5hbWU6ICd0Yml0ZW00JywgY2FwdGlvbjogJ+S/neWtmOW5tuaWsOW7uicsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICfkv53lrZjlubbmlrDlu7onLCBpY29uY2xzOiAnc3gtdGItc2F2ZWFuZG5ldycsIGljb246ICcuLi9zYXNyZmV4L2ltYWdlcy9kZWZhdWx0L2ljb25fc2F2ZWFuZG5ldy5wbmcnLCBkaXNhYmxlZDogZmFsc2UsIHR5cGU6ICdERVVJQUNUSU9OJywgdmlzYWJsZWQ6IHRydWUsIGRhdGFhY2NhY3Rpb246ICcnLCB1aWFjdGlvbjogeyB0YWc6ICdTYXZlQW5kTmV3JywgdGFyZ2V0OiAnJyB9LCBjbGFzczogJycgfSwKCiAgICAgICAgdGJpdGVtNTogeyBuYW1lOiAndGJpdGVtNScsIGNhcHRpb246ICfkv53lrZjlubblhbPpl60nLCdpc1Nob3dDYXB0aW9uJzp0cnVlLCdpc1Nob3dJY29uJzp0cnVlLCB0b29sdGlwOiAn5L+d5a2Y5bm25YWz6ZetJywgaWNvbmNsczogJ3N4LXRiLXNhdmVhbmRjbG9zZScsIGljb246ICcuLi9zYXNyZmV4L2ltYWdlcy9kZWZhdWx0L2ljb25fc2F2ZWFuZGNsb3NlLnBuZycsIGRpc2FibGVkOiBmYWxzZSwgdHlwZTogJ0RFVUlBQ1RJT04nLCB2aXNhYmxlZDogdHJ1ZSwgZGF0YWFjY2FjdGlvbjogJ1NSRlVSX19KR0xZWEtNTCcsIHVpYWN0aW9uOiB7IHRhZzogJ1NhdmVBbmRFeGl0JywgdGFyZ2V0OiAnJyB9LCBjbGFzczogJycgfSwKCiAgICAgICAgdGJpdGVtNzogeyBuYW1lOiAndGJpdGVtNycsIGNhcHRpb246ICfliKDpmaTlubblhbPpl60nLCdpc1Nob3dDYXB0aW9uJzp0cnVlLCdpc1Nob3dJY29uJzp0cnVlLCB0b29sdGlwOiAn5Yig6Zmk5bm25YWz6ZetJywgaWNvbmNsczogJ2ZhIGZhLXJlbW92ZScsIGljb246ICcnLCBkaXNhYmxlZDogZmFsc2UsIHR5cGU6ICdERVVJQUNUSU9OJywgdmlzYWJsZWQ6IHRydWUsIGRhdGFhY2NhY3Rpb246ICcnLCB1aWFjdGlvbjogeyB0YWc6ICdSZW1vdmVBbmRFeGl0JywgdGFyZ2V0OiAnU0lOR0xFS0VZJyB9LCBjbGFzczogJycgfSwKCiAgICAgICAgdGJpdGVtMjI6IHsgbmFtZTogJ3RiaXRlbTIyJywgY2FwdGlvbjogJ+W4ruWKqScsJ2lzU2hvd0NhcHRpb24nOnRydWUsJ2lzU2hvd0ljb24nOnRydWUsIHRvb2x0aXA6ICfluK7liqknLCBpY29uY2xzOiAnZmEgZmEtcXVlc3Rpb24nLCBpY29uOiAnJywgZGlzYWJsZWQ6IGZhbHNlLCB0eXBlOiAnREVVSUFDVElPTicsIHZpc2FibGVkOiB0cnVlLCBkYXRhYWNjYWN0aW9uOiAnJywgdWlhY3Rpb246IHsgdGFnOiAnSGVscCcsIHRhcmdldDogJycgfSwgY2xhc3M6ICcnIH0sCgogICAgfTsKCgoKCiAgICAvKioKICAgICAqIOinhuWbvuW8leaTjgogICAgICoKICAgICAqIEBwdWJsaWMKICAgICAqIEB0eXBlIHtFbmdpbmV9CiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgZW5naW5lOiBFZGl0Vmlld0VuZ2luZSA9IG5ldyBFZGl0Vmlld0VuZ2luZSgpOwoJCgogICAgLyoqCiAgICAgKiDlvJXmk47liJ3lp4vljJYKICAgICAqCiAgICAgKiBAcHVibGljCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgZW5naW5lSW5pdCgpOiB2b2lkIHsKICAgICAgICB0aGlzLmVuZ2luZS5pbml0KHsKICAgICAgICAgICAgdmlldzogdGhpcywKICAgICAgICAgICAgZm9ybTogdGhpcy4kcmVmcy5mb3JtLAogICAgICAgICAgICBwMms6ICcwJywKICAgICAgICAgICAga2V5UFNERUZpZWxkOiAncGltbGFib3VyY2FtcGFueScsCiAgICAgICAgICAgIG1ham9yUFNERUZpZWxkOiAncGltbGFib3VyY2FtcGFueW5hbWUnLAogICAgICAgICAgICBpc0xvYWREZWZhdWx0OiB0cnVlLAogICAgICAgIH0pOwogICAgfQoKCiAgICAvKioKICAgICAqIHRvb2xiYXIg6YOo5Lu2IGNsaWNrIOS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dCiAgICAgKiBAcGFyYW0geyp9ICRldmVudAogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIHRvb2xiYXJfY2xpY2soJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsKICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW0zJykpIHsKICAgICAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTNfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICAgIH0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW00JykpIHsKICAgICAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTRfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICAgIH0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW01JykpIHsKICAgICAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTVfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICAgIH0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW03JykpIHsKICAgICAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTdfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICAgIH0KICAgICAgICBpZiAoT2JqZWN0LmlzKCRldmVudC50YWcsICd0Yml0ZW0xMCcpKSB7CiAgICAgICAgICAgIHRoaXMudG9vbGJhcl90Yml0ZW0xMF9jbGljayhudWxsLCAnJywgJGV2ZW50Mik7CiAgICAgICAgfQogICAgICAgIGlmIChPYmplY3QuaXMoJGV2ZW50LnRhZywgJ3RiaXRlbTE1JykpIHsKICAgICAgICAgICAgdGhpcy50b29sYmFyX3RiaXRlbTE1X2NsaWNrKG51bGwsICcnLCAkZXZlbnQyKTsKICAgICAgICB9CiAgICAgICAgaWYgKE9iamVjdC5pcygkZXZlbnQudGFnLCAndGJpdGVtMjInKSkgewogICAgICAgICAgICB0aGlzLnRvb2xiYXJfdGJpdGVtMjJfY2xpY2sobnVsbCwgJycsICRldmVudDIpOwogICAgICAgIH0KICAgIH0KCgogICAgLyoqCiAgICAgKiBmb3JtIOmDqOS7tiBzYXZlIOS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW2FyZ3M9e31dCiAgICAgKiBAcGFyYW0geyp9ICRldmVudAogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIGZvcm1fc2F2ZSgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgewogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdmb3JtJywgJ3NhdmUnLCAkZXZlbnQpOwogICAgfQoKCiAgICAvKioKICAgICAqIGZvcm0g6YOo5Lu2IHJlbW92ZSDkuovku7YKICAgICAqCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQKICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBmb3JtX3JlbW92ZSgkZXZlbnQ6IGFueSwgJGV2ZW50Mj86IGFueSkgewogICAgICAgIHRoaXMuZW5naW5lLm9uQ3RybEV2ZW50KCdmb3JtJywgJ3JlbW92ZScsICRldmVudCk7CiAgICB9CgoKICAgIC8qKgogICAgICogZm9ybSDpg6jku7YgbG9hZCDkuovku7YKICAgICAqCiAgICAgKiBAcGFyYW0geyp9IFthcmdzPXt9XQogICAgICogQHBhcmFtIHsqfSAkZXZlbnQKICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBmb3JtX2xvYWQoJGV2ZW50OiBhbnksICRldmVudDI/OiBhbnkpIHsKICAgICAgICB0aGlzLmVuZ2luZS5vbkN0cmxFdmVudCgnZm9ybScsICdsb2FkJywgJGV2ZW50KTsKICAgIH0KCgoKICAgIC8qKgogICAgICog6YC76L6R5LqL5Lu2CiAgICAgKgogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQogICAgICogQHBhcmFtIHsqfSBbdGFnXQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQogICAgICogQG1lbWJlcm9mIAogICAgICovCiAgICBwdWJsaWMgdG9vbGJhcl90Yml0ZW0zX2NsaWNrKHBhcmFtczogYW55ID0ge30sIHRhZz86IGFueSwgJGV2ZW50PzogYW55KSB7CiAgICAgICAgLy8g5Y+C5pWwCiAgICAgICAgLy8g5Y+W5pWwCiAgICAgICAgbGV0IGRhdGFzOiBhbnlbXSA9IFtdOwogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsKICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsKICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9OwogICAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5mb3JtOwogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOwogICAgICAgIH0KICAgICAgICBpZihwYXJhbXMpewogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgICB9CiAgICAgICAgLy8g55WM6Z2i6KGM5Li6CiAgICAgICAgdGhpcy5TYXZlKGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltTGFib3VyY2FtcGFueSIpOwogICAgfQoKICAgIC8qKgogICAgICog6YC76L6R5LqL5Lu2CiAgICAgKgogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQogICAgICogQHBhcmFtIHsqfSBbdGFnXQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQogICAgICogQG1lbWJlcm9mIAogICAgICovCiAgICBwdWJsaWMgdG9vbGJhcl90Yml0ZW00X2NsaWNrKHBhcmFtczogYW55ID0ge30sIHRhZz86IGFueSwgJGV2ZW50PzogYW55KSB7CiAgICAgICAgLy8g5Y+C5pWwCiAgICAgICAgLy8g5Y+W5pWwCiAgICAgICAgbGV0IGRhdGFzOiBhbnlbXSA9IFtdOwogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsKICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsKICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9OwogICAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5mb3JtOwogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOwogICAgICAgIH0KICAgICAgICBpZihwYXJhbXMpewogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgICB9CiAgICAgICAgLy8g55WM6Z2i6KGM5Li6CiAgICAgICAgdGhpcy5TYXZlQW5kTmV3KGRhdGFzLCBjb250ZXh0Sk8scGFyYW1KTywgICRldmVudCwgeERhdGEsdGhpcywiUGltTGFib3VyY2FtcGFueSIpOwogICAgfQoKICAgIC8qKgogICAgICog6YC76L6R5LqL5Lu2CiAgICAgKgogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zPXt9XQogICAgICogQHBhcmFtIHsqfSBbdGFnXQogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XQogICAgICogQG1lbWJlcm9mIAogICAgICovCiAgICBwdWJsaWMgdG9vbGJhcl90Yml0ZW01X2NsaWNrKHBhcmFtczogYW55ID0ge30sIHRhZz86IGFueSwgJGV2ZW50PzogYW55KSB7CiAgICAgICAgLy8g5Y+C5pWwCiAgICAgICAgLy8g5Y+W5pWwCiAgICAgICAgbGV0IGRhdGFzOiBhbnlbXSA9IFtdOwogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsKICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsKICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9OwogICAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5mb3JtOwogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOwogICAgICAgIH0KICAgICAgICBpZihwYXJhbXMpewogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgICB9CiAgICAgICAgLy8g55WM6Z2i6KGM5Li6CiAgICAgICAgdGhpcy5TYXZlQW5kRXhpdChkYXRhcywgY29udGV4dEpPLHBhcmFtSk8sICAkZXZlbnQsIHhEYXRhLHRoaXMsIlBpbUxhYm91cmNhbXBhbnkiKTsKICAgIH0KCiAgICAvKioKICAgICAqIOmAu+i+keS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0KICAgICAqIEBtZW1iZXJvZiAKICAgICAqLwogICAgcHVibGljIHRvb2xiYXJfdGJpdGVtN19jbGljayhwYXJhbXM6IGFueSA9IHt9LCB0YWc/OiBhbnksICRldmVudD86IGFueSkgewogICAgICAgIC8vIOWPguaVsAogICAgICAgIC8vIOWPluaVsAogICAgICAgIGxldCBkYXRhczogYW55W10gPSBbXTsKICAgICAgICBsZXQgeERhdGE6IGFueSA9IG51bGw7CiAgICAgICAgLy8gX3RoaXMg5oyH5ZCR5a655Zmo5a+56LGhCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7CiAgICAgICAgbGV0IHBhcmFtSk86YW55ID0ge307CiAgICAgICAgbGV0IGNvbnRleHRKTzphbnkgPSB7fTsKICAgICAgICB4RGF0YSA9IHRoaXMuJHJlZnMuZm9ybTsKICAgICAgICBpZiAoeERhdGEuZ2V0RGF0YXMgJiYgeERhdGEuZ2V0RGF0YXMgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgICBkYXRhcyA9IFsuLi54RGF0YS5nZXREYXRhcygpXTsKICAgICAgICB9CiAgICAgICAgaWYocGFyYW1zKXsKICAgICAgICAgIGRhdGFzID0gW3BhcmFtc107CiAgICAgICAgfQogICAgICAgIC8vIOeVjOmdouihjOS4ugogICAgICAgIHRoaXMuUmVtb3ZlQW5kRXhpdChkYXRhcywgY29udGV4dEpPLHBhcmFtSk8sICAkZXZlbnQsIHhEYXRhLHRoaXMsIlBpbUxhYm91cmNhbXBhbnkiKTsKICAgIH0KCiAgICAvKioKICAgICAqIOmAu+i+keS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0KICAgICAqIEBtZW1iZXJvZiAKICAgICAqLwogICAgcHVibGljIHRvb2xiYXJfdGJpdGVtMTBfY2xpY2socGFyYW1zOiBhbnkgPSB7fSwgdGFnPzogYW55LCAkZXZlbnQ/OiBhbnkpIHsKICAgICAgICAvLyDlj4LmlbAKICAgICAgICAvLyDlj5bmlbAKICAgICAgICBsZXQgZGF0YXM6IGFueVtdID0gW107CiAgICAgICAgbGV0IHhEYXRhOiBhbnkgPSBudWxsOwogICAgICAgIC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOwogICAgICAgIGxldCBwYXJhbUpPOmFueSA9IHt9OwogICAgICAgIGxldCBjb250ZXh0Sk86YW55ID0ge307CiAgICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmZvcm07CiAgICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgZGF0YXMgPSBbLi4ueERhdGEuZ2V0RGF0YXMoKV07CiAgICAgICAgfQogICAgICAgIGlmKHBhcmFtcyl7CiAgICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICAgIH0KICAgICAgICAvLyDnlYzpnaLooYzkuLoKICAgICAgICB0aGlzLlZpZXdXRlN0ZXAoZGF0YXMsIGNvbnRleHRKTyxwYXJhbUpPLCAgJGV2ZW50LCB4RGF0YSx0aGlzLCJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CgogICAgLyoqCiAgICAgKiDpgLvovpHkuovku7YKICAgICAqCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXM9e31dCiAgICAgKiBAcGFyYW0geyp9IFt0YWddCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdCiAgICAgKiBAbWVtYmVyb2YgCiAgICAgKi8KICAgIHB1YmxpYyB0b29sYmFyX3RiaXRlbTE1X2NsaWNrKHBhcmFtczogYW55ID0ge30sIHRhZz86IGFueSwgJGV2ZW50PzogYW55KSB7CiAgICAgICAgLy8g5Y+C5pWwCiAgICAgICAgLy8g5Y+W5pWwCiAgICAgICAgbGV0IGRhdGFzOiBhbnlbXSA9IFtdOwogICAgICAgIGxldCB4RGF0YTogYW55ID0gbnVsbDsKICAgICAgICAvLyBfdGhpcyDmjIflkJHlrrnlmajlr7nosaEKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBsZXQgcGFyYW1KTzphbnkgPSB7fTsKICAgICAgICBsZXQgY29udGV4dEpPOmFueSA9IHt9OwogICAgICAgIHhEYXRhID0gdGhpcy4kcmVmcy5mb3JtOwogICAgICAgIGlmICh4RGF0YS5nZXREYXRhcyAmJiB4RGF0YS5nZXREYXRhcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGRhdGFzID0gWy4uLnhEYXRhLmdldERhdGFzKCldOwogICAgICAgIH0KICAgICAgICBpZihwYXJhbXMpewogICAgICAgICAgZGF0YXMgPSBbcGFyYW1zXTsKICAgICAgICB9CiAgICAgICAgLy8g55WM6Z2i6KGM5Li6CiAgICAgICAgdGhpcy5QcmludChkYXRhcywgY29udGV4dEpPLHBhcmFtSk8sICAkZXZlbnQsIHhEYXRhLHRoaXMsIlBpbUxhYm91cmNhbXBhbnkiKTsKICAgIH0KCiAgICAvKioKICAgICAqIOmAu+i+keS6i+S7tgogICAgICoKICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtcz17fV0KICAgICAqIEBwYXJhbSB7Kn0gW3RhZ10KICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0KICAgICAqIEBtZW1iZXJvZiAKICAgICAqLwogICAgcHVibGljIHRvb2xiYXJfdGJpdGVtMjJfY2xpY2socGFyYW1zOiBhbnkgPSB7fSwgdGFnPzogYW55LCAkZXZlbnQ/OiBhbnkpIHsKICAgICAgICAvLyDlj4LmlbAKICAgICAgICAvLyDlj5bmlbAKICAgICAgICBsZXQgZGF0YXM6IGFueVtdID0gW107CiAgICAgICAgbGV0IHhEYXRhOiBhbnkgPSBudWxsOwogICAgICAgIC8vIF90aGlzIOaMh+WQkeWuueWZqOWvueixoQogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOwogICAgICAgIGxldCBwYXJhbUpPOmFueSA9IHt9OwogICAgICAgIGxldCBjb250ZXh0Sk86YW55ID0ge307CiAgICAgICAgeERhdGEgPSB0aGlzLiRyZWZzLmZvcm07CiAgICAgICAgaWYgKHhEYXRhLmdldERhdGFzICYmIHhEYXRhLmdldERhdGFzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgZGF0YXMgPSBbLi4ueERhdGEuZ2V0RGF0YXMoKV07CiAgICAgICAgfQogICAgICAgIGlmKHBhcmFtcyl7CiAgICAgICAgICBkYXRhcyA9IFtwYXJhbXNdOwogICAgICAgIH0KICAgICAgICAvLyDnlYzpnaLooYzkuLoKICAgICAgICB0aGlzLkhlbHAoZGF0YXMsIGNvbnRleHRKTyxwYXJhbUpPLCAgJGV2ZW50LCB4RGF0YSx0aGlzLCJQaW1MYWJvdXJjYW1wYW55Iik7CiAgICB9CgogICAgLyoqCiAgICAgKiDkv53lrZgKICAgICAqCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrgogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocKICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kAogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YKICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocKICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBTYXZlKGFyZ3M6IGFueVtdLGNvbnRleHRKTz86YW55LCBwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnksYWN0aW9uQ29udGV4dD86YW55LHNyZlBhcmVudERlTmFtZT86c3RyaW5nKSB7CiAgICAgICAgLy8g55WM6Z2i6KGM5Li65a655Zmo5a+56LGhIF90aGlzCiAgICAgICAgY29uc3QgX3RoaXM6IGFueSA9IHRoaXM7CiAgICAgICAgaWYgKHhEYXRhICYmIHhEYXRhLnNhdmUgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgICB4RGF0YS5zYXZlKCkudGhlbigocmVzcG9uc2U6IGFueSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCd2aWV3ZGF0YXNjaGFuZ2UnLCBbeyAuLi5yZXNwb25zZS5kYXRhIH1dKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5zYXZlICYmIF90aGlzLnNhdmUgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgICBfdGhpcy5zYXZlKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICog5L+d5a2Y5bm25paw5bu6CiAgICAgKgogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsAogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupAKICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2CiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgU2F2ZUFuZE5ldyhhcmdzOiBhbnlbXSxjb250ZXh0Sk8/OmFueSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55LGFjdGlvbkNvbnRleHQ/OmFueSxzcmZQYXJlbnREZU5hbWU/OnN0cmluZykgewogICAgICAgIGNvbnN0IF90aGlzOiBhbnkgPSB0aGlzOwogICAgICAgIGlmICgheERhdGEgfHwgISh4RGF0YS5zYXZlQW5kTmV3IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgeERhdGEuc2F2ZUFuZE5ldygpLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsKICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3ZpZXdkYXRhc2NoYW5nZScsIEpTT04uc3RyaW5naWZ5KHtzdGF0dXM6J2Vycm9yJyxhY3Rpb246J3NhdmVBbmROZXcnfSkpOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIF90aGlzLiRlbWl0KCd2aWV3ZGF0YXNjaGFuZ2UnLCBKU09OLnN0cmluZ2lmeSh7c3RhdHVzOidzdWNjZXNzJyxhY3Rpb246J3NhdmVBbmROZXcnLGRhdGE6cmVzcG9uc2UuZGF0YX0pKTsKICAgICAgICAgICAgaWYgKHhEYXRhLmF1dG9Mb2FkIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgIHhEYXRhLmF1dG9Mb2FkKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KICAgIC8qKgogICAgICog5L+d5a2Y5bm25YWz6ZetCiAgICAgKgogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsAogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupAKICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2CiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgU2F2ZUFuZEV4aXQoYXJnczogYW55W10sY29udGV4dEpPPzphbnksIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSxhY3Rpb25Db250ZXh0Pzphbnksc3JmUGFyZW50RGVOYW1lPzpzdHJpbmcpIHsKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBpZiAoeERhdGEgJiYgeERhdGEuc2F2ZUFuZEV4aXQgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICAgICAgICB4RGF0YS5zYXZlQW5kRXhpdCgpLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih3aW5kb3cucGFyZW50KXsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFt7IC4uLnJlc3BvbnNlLmRhdGEgfV0sJyonKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5zYXZlQW5kRXhpdCAmJiBfdGhpcy5zYXZlQW5kRXhpdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIF90aGlzLnNhdmVBbmRFeGl0KCkudGhlbigocmVzcG9uc2U6IGFueSkgPT4gewogICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5wYXJlbnQpewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UoW3sgLi4ucmVzcG9uc2UuZGF0YSB9XSwnKicpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIOWIoOmZpOW5tuWFs+mXrQogICAgICoKICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhwogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbAKICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tgogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhwogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIFJlbW92ZUFuZEV4aXQoYXJnczogYW55W10sY29udGV4dEpPPzphbnksIHBhcmFtcz86IGFueSwgJGV2ZW50PzogYW55LCB4RGF0YT86IGFueSxhY3Rpb25Db250ZXh0Pzphbnksc3JmUGFyZW50RGVOYW1lPzpzdHJpbmcpIHsKICAgICAgICBjb25zdCBfdGhpczogYW55ID0gdGhpczsKICAgICAgICBpZiAoeERhdGEgJiYgeERhdGEucmVtb3ZlQW5kRXhpdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIHhEYXRhLnJlbW92ZUFuZEV4aXQoKS50aGVuKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYod2luZG93LnBhcmVudCl7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShbeyAuLi5yZXNwb25zZS5kYXRhIH1dLCcqJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucmVtb3ZlQW5kRXhpdCAmJiBfdGhpcy5yZW1vdmVBbmRFeGl0IGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgX3RoaXMucmVtb3ZlQW5kRXhpdCgpLnRoZW4oKHJlc3BvbnNlOiBhbnkpID0+IHsKICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2Uuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih3aW5kb3cucGFyZW50KXsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFt7IC4uLnJlc3BvbnNlLmRhdGEgfV0sJyonKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQogICAgLyoqCiAgICAgKiDlvZPliY3mtYHnqIvmraXpqqQKICAgICAqCiAgICAgKiBAcGFyYW0ge2FueVtdfSBhcmdzIOW9k+WJjeaVsOaNrgogICAgICogQHBhcmFtIHthbnl9IGNvbnRleHRKTyDooYzkuLrpmYTliqDkuIrkuIvmlocKICAgICAqIEBwYXJhbSB7Kn0gW3BhcmFtc10g6ZmE5Yqg5Y+C5pWwCiAgICAgKiBAcGFyYW0geyp9IFskZXZlbnRdIOS6i+S7tua6kAogICAgICogQHBhcmFtIHsqfSBbeERhdGFdICDmiafooYzooYzkuLrmiYDpnIDlvZPliY3pg6jku7YKICAgICAqIEBwYXJhbSB7Kn0gW2FjdGlvbkNvbnRleHRdICDmiafooYzooYzkuLrkuIrkuIvmlocKICAgICAqIEBtZW1iZXJvZiBQSU1MQUJPVVJDQU1QQU5ZRWRpdFZpZXdCYXNlCiAgICAgKi8KICAgIHB1YmxpYyBWaWV3V0ZTdGVwKGFyZ3M6IGFueVtdLGNvbnRleHRKTz86YW55LCBwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnksYWN0aW9uQ29udGV4dD86YW55LHNyZlBhcmVudERlTmFtZT86c3RyaW5nKSB7CiAgICAgICAgbGV0IF90aGlzOmFueSA9IHRoaXM7CiAgICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLndmc3VibWl0IGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgeERhdGEud2ZzdWJtaXQoYXJncykudGhlbigocmVzcG9uc2U6IGFueSkgPT4gewogICAgICAgICAgICBpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBfZGF0YSB9ID0gcmVzcG9uc2U7CgogICAgICAgICAgICBpZiAoX3RoaXMudmlld2RhdGEpIHsKICAgICAgICAgICAgICAgIF90aGlzLiRlbWl0KCd2aWV3ZGF0YXNjaGFuZ2UnLCBbeyAuLi5fZGF0YSB9XSk7CiAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy4kdGFiUGFnZUV4cCkgewogICAgICAgICAgICAgICAgX3RoaXMuJHRhYlBhZ2VFeHAub25DbG9zZShfdGhpcy4kcm91dGUuZnVsbFBhdGgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CiAgICAvKioKICAgICAqIOaJk+WNsAogICAgICoKICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3Mg5b2T5YmN5pWw5o2uCiAgICAgKiBAcGFyYW0ge2FueX0gY29udGV4dEpPIOihjOS4uumZhOWKoOS4iuS4i+aWhwogICAgICogQHBhcmFtIHsqfSBbcGFyYW1zXSDpmYTliqDlj4LmlbAKICAgICAqIEBwYXJhbSB7Kn0gWyRldmVudF0g5LqL5Lu25rqQCiAgICAgKiBAcGFyYW0geyp9IFt4RGF0YV0gIOaJp+ihjOihjOS4uuaJgOmcgOW9k+WJjemDqOS7tgogICAgICogQHBhcmFtIHsqfSBbYWN0aW9uQ29udGV4dF0gIOaJp+ihjOihjOS4uuS4iuS4i+aWhwogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIFByaW50KGFyZ3M6IGFueVtdLGNvbnRleHRKTz86YW55LCBwYXJhbXM/OiBhbnksICRldmVudD86IGFueSwgeERhdGE/OiBhbnksYWN0aW9uQ29udGV4dD86YW55LHNyZlBhcmVudERlTmFtZT86c3RyaW5nKSB7CiAgICAgICAgbGV0IF90aGlzOmFueSA9IHRoaXM7CiAgICAgICAgaWYgKCF4RGF0YSB8fCAhKHhEYXRhLnByaW50IGluc3RhbmNlb2YgRnVuY3Rpb24pIHx8ICEkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIDsKICAgICAgICB9CiAgICAgICAgeERhdGEucHJpbnQoKTsKICAgIH0KICAgIC8qKgogICAgICog5biu5YqpCiAgICAgKgogICAgICogQHBhcmFtIHthbnlbXX0gYXJncyDlvZPliY3mlbDmja4KICAgICAqIEBwYXJhbSB7YW55fSBjb250ZXh0Sk8g6KGM5Li66ZmE5Yqg5LiK5LiL5paHCiAgICAgKiBAcGFyYW0geyp9IFtwYXJhbXNdIOmZhOWKoOWPguaVsAogICAgICogQHBhcmFtIHsqfSBbJGV2ZW50XSDkuovku7bmupAKICAgICAqIEBwYXJhbSB7Kn0gW3hEYXRhXSAg5omn6KGM6KGM5Li65omA6ZyA5b2T5YmN6YOo5Lu2CiAgICAgKiBAcGFyYW0geyp9IFthY3Rpb25Db250ZXh0XSAg5omn6KGM6KGM5Li65LiK5LiL5paHCiAgICAgKiBAbWVtYmVyb2YgUElNTEFCT1VSQ0FNUEFOWUVkaXRWaWV3QmFzZQogICAgICovCiAgICBwdWJsaWMgSGVscChhcmdzOiBhbnlbXSxjb250ZXh0Sk8/OmFueSwgcGFyYW1zPzogYW55LCAkZXZlbnQ/OiBhbnksIHhEYXRhPzogYW55LGFjdGlvbkNvbnRleHQ/OmFueSxzcmZQYXJlbnREZU5hbWU/OnN0cmluZykgewogICAgICAgIHRoaXMuJE5vdGljZS5lcnJvcih7IHRpdGxlOiAn6ZSZ6K+vJywgZGVzYzogJ+W4ruWKqeacquaUr+aMgScgfSk7CiAgICB9CgoKICAgIC8qKgogICAgICog6ZSA5q+B6KeG5Zu+5Zue6LCDCiAgICAgKgogICAgICogQG1lbWJlcm9mIFBJTUxBQk9VUkNBTVBBTllFZGl0Vmlld0Jhc2UKICAgICAqLwogICAgcHVibGljIGRlc3Ryb3llZCgpewogICAgICAgIGlmKHRoaXMudmlld0RlZmF1bHRVc2FnZSl7CiAgICAgICAgICAgIGxldCBsb2NhbFN0b3JlTGVuZ3RoID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTsKICAgICAgICAgICAgaWYobG9jYWxTdG9yZUxlbmd0aC5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmVMZW5ndGguZm9yRWFjaCgoaXRlbTpzdHJpbmcpID0+ewogICAgICAgICAgICAgICAgaWYoaXRlbS5zdGFydHNXaXRoKHRoaXMuY29udGV4dC5zcmZzZXNzaW9uaWQpKXsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKfQo="},null]}