{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a59456b4\"],{\"2a01\":function(e,t,i){},7248:function(e,t,i){\"use strict\";i.r(t);var a=i(\"d4ec\"),n=i(\"99de\"),o=i(\"7e84\"),r=i(\"262e\"),c=i(\"9ab4\"),s=i(\"60a3\"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"app-layout\",{attrs:{viewName:\"archivescentergridview\",viewTitle:\"档案室管理表格视图\",className:{\"view-container\":!0,\"default-mode-view\":!0,degridview:!0,\"archivescentergrid-view\":!0},layoutMode:\"VIEW\",isShowUserInfo:e.isDefaultView(),openMode:e.openMode},on:{\"close-view\":function(t){return e.closeView(t)}}},[i(\"template\",{slot:\"headerLeft\"},[i(\"div\",{staticClass:\"view-header-left\"},[e.isDefaultView()?i(\"div\",{staticClass:\"view-caption\"},[e._v(e._s(e.$t(e.model.srfCaption)))]):e._e(),e.isModalView()?i(\"modal-breadcrumb\"):e._e()],1)]),i(\"template\",{slot:\"headerRight\"},[i(\"div\",{staticClass:\"view-header-right\"},[i(\"app-header-menus\",{attrs:{toolbarModel:e.toolBarModels,mode:\"view\",openMode:e.openMode},on:{\"menu-click\":function(t){return e.toolbar_click(t)}}})],1)]),i(\"template\",{slot:\"content\"},[i(\"div\",{staticClass:\"view-content-wrapper\"},[i(\"view_searchform\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.isExpandSearchForm,expression:\"isExpandSearchForm\"}],ref:\"searchform\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,showBusyIndicator:!0,loaddraftAction:\"FilterGetDraft\",loadAction:\"FilterGet\",name:\"searchform\"},on:{save:function(t){return e.searchform_save(t)},search:function(t){return e.searchform_search(t)},load:function(t){return e.searchform_load(t)},closeview:function(t){return e.closeView(t)}}}),i(\"view_grid\",{ref:\"grid\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,isSingleSelect:e.isSingleSelect,showBusyIndicator:!0,isOpenEdit:!0,gridRowActiveMode:e.gridRowActiveMode,updateAction:\"Update\",removeAction:\"Remove\",loaddraftAction:\"GetDraft\",loadAction:\"Get\",createAction:\"Create\",fetchAction:\"FetchDefault\",newdata:e.newdata,opendata:e.opendata,name:\"grid\"},on:{save:e.onSave,selectionchange:function(t){return e.grid_selectionchange(t)},beforeload:function(t){return e.grid_beforeload(t)},rowdblclick:function(t){return e.grid_rowdblclick(t)},remove:function(t){return e.grid_remove(t)},load:function(t){return e.grid_load(t)},closeview:function(t){return e.closeView(t)}}})],1)])],2)},u=[],d=(i(\"a4d3\"),i(\"4de4\"),i(\"4160\"),i(\"0d03\"),i(\"1d1c\"),i(\"7a82\"),i(\"e439\"),i(\"dbb4\"),i(\"2b19\"),i(\"b64b\"),i(\"2ca0\"),i(\"159b\"),i(\"ade3\")),v=i(\"2909\"),h=i(\"bee2\"),f=i(\"45eb\"),g=i(\"2bd2\"),p=i(\"46aa\"),w=i(\"8d6d\"),m=i(\"434b\");function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function y(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){Object(d[\"a\"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var O=function(e){function t(){var e;return Object(a[\"a\"])(this,t),e=Object(n[\"a\"])(this,Object(o[\"a\"])(t).apply(this,arguments)),e.appEntityService=new w[\"default\"],e.counterServiceArray=[],e.viewtag=\"cf07226cf97f3e8429dd04917035b611\",e.srfparentdata={},e.customViewNavContexts={},e.customViewParams={},e.model={srfCaption:\"entities.pimarchivescenter.views.gridview.caption\",srfTitle:\"entities.pimarchivescenter.views.gridview.title\",srfSubTitle:\"entities.pimarchivescenter.views.gridview.subtitle\",dataInfo:\"\"},e.containerModel={view_toolbar:{name:\"toolbar\",type:\"TOOLBAR\"},view_grid:{name:\"grid\",type:\"GRID\"},view_searchform:{name:\"searchform\",type:\"SEARCHFORM\"}},e.viewState=new g[\"a\"],e.toolBarModels={deuiaction1:{name:\"deuiaction1\",caption:\"新建\",isShowCaption:!0,isShowIcon:!0,tooltip:\"新建\",iconcls:\"fa fa-plus\",icon:\"\",disabled:!1,type:\"DEUIACTION\",visabled:!0,dataaccaction:\"\",uiaction:{tag:\"NewRow\",target:\"\"},class:\"\"},deuiaction2:{name:\"deuiaction2\",caption:\"保存\",isShowCaption:!0,isShowIcon:!0,tooltip:\"保存\",iconcls:\"fa fa-save\",icon:\"\",disabled:!1,type:\"DEUIACTION\",visabled:!0,dataaccaction:\"\",uiaction:{tag:\"SaveRow\",target:\"\"},class:\"\"},deuiaction3:{name:\"deuiaction3\",caption:\"删除\",isShowCaption:!0,isShowIcon:!0,tooltip:\"删除\",iconcls:\"fa fa-remove\",icon:\"\",disabled:!1,type:\"DEUIACTION\",visabled:!0,dataaccaction:\"SRFUR__JGLYGXML\",uiaction:{tag:\"Remove\",target:\"MULTIKEY\"},class:\"\"},deuiaction4:{name:\"deuiaction4\",caption:\"导入\",isShowCaption:!0,isShowIcon:!0,tooltip:\"导入\",iconcls:\"fa fa-upload\",icon:\"\",disabled:!1,type:\"DEUIACTION\",visabled:!0,dataaccaction:\"SRFUR__JGLYYPZSZYJTJ\",uiaction:{tag:\"Import\",target:\"\"},class:\"\"},deuiaction5:{name:\"deuiaction5\",caption:\"导出\",isShowCaption:!0,isShowIcon:!0,tooltip:\"导出\",iconcls:\"fa fa-file-excel-o\",icon:\"\",disabled:!1,type:\"DEUIACTION\",visabled:!0,dataaccaction:\"\",uiaction:{tag:\"ExportExcel\",target:\"\"},MaxRowCount:5e3,class:\"\"}},e.engine=new m[\"a\"],e.isSingleSelect=!1,e.query=\"\",e.isExpandSearchForm=!1,e.gridRowActiveMode=2,e}return Object(r[\"a\"])(t,e),Object(h[\"a\"])(t,[{key:\"viewDatasChange\",value:function(e){return e}},{key:\"engineInit\",value:function(){var e=this;this.engine.init({view:this,opendata:function(t,i,a,n){e.opendata(t,i,a,n)},newdata:function(t,i,a,n){e.newdata(t,i,a,n)},grid:this.$refs.grid,searchform:this.$refs.searchform,keyPSDEField:\"pimarchivescenter\",majorPSDEField:\"position\",isLoadDefault:!0})}},{key:\"toolbar_click\",value:function(e,t){Object.is(e.tag,\"deuiaction1\")&&this.toolbar_deuiaction1_click(null,\"\",t),Object.is(e.tag,\"deuiaction2\")&&this.toolbar_deuiaction2_click(null,\"\",t),Object.is(e.tag,\"deuiaction3\")&&this.toolbar_deuiaction3_click(null,\"\",t),Object.is(e.tag,\"deuiaction4\")&&this.toolbar_deuiaction4_click(null,\"\",t),Object.is(e.tag,\"deuiaction5\")&&this.toolbar_deuiaction5_click(null,\"\",t)}},{key:\"grid_selectionchange\",value:function(e,t){this.engine.onCtrlEvent(\"grid\",\"selectionchange\",e)}},{key:\"grid_beforeload\",value:function(e,t){this.engine.onCtrlEvent(\"grid\",\"beforeload\",e)}},{key:\"grid_rowdblclick\",value:function(e,t){this.engine.onCtrlEvent(\"grid\",\"rowdblclick\",e)}},{key:\"grid_remove\",value:function(e,t){this.engine.onCtrlEvent(\"grid\",\"remove\",e)}},{key:\"grid_load\",value:function(e,t){this.engine.onCtrlEvent(\"grid\",\"load\",e)}},{key:\"searchform_save\",value:function(e,t){this.engine.onCtrlEvent(\"searchform\",\"save\",e)}},{key:\"searchform_search\",value:function(e,t){this.engine.onCtrlEvent(\"searchform\",\"search\",e)}},{key:\"searchform_load\",value:function(e,t){this.engine.onCtrlEvent(\"searchform\",\"load\",e)}},{key:\"toolbar_deuiaction1_click\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(v[\"a\"])(a.getDatas())),e&&(i=[e]),this.NewRow(i,o,n,t,a,this,\"PimArchivesCenter\")}},{key:\"toolbar_deuiaction2_click\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(v[\"a\"])(a.getDatas())),e&&(i=[e]),this.SaveRow(i,o,n,t,a,this,\"PimArchivesCenter\")}},{key:\"toolbar_deuiaction3_click\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(v[\"a\"])(a.getDatas())),e&&(i=[e]),this.Remove(i,o,n,t,a,this,\"PimArchivesCenter\")}},{key:\"toolbar_deuiaction4_click\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(v[\"a\"])(a.getDatas())),e&&(i=[e]),this.Import(i,o,n,t,a,this,\"PimArchivesCenter\")}},{key:\"toolbar_deuiaction5_click\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),i=[],a=null,n={},o={};a=this.$refs.grid,a.getDatas&&a.getDatas instanceof Function&&(i=Object(v[\"a\"])(a.getDatas())),e&&(i=[e]),this.ExportExcel(i,o,n,t,a,this,\"PimArchivesCenter\")}},{key:\"newdata\",value:function(e,t,i,a,n){var o=this,r={};e[0].srfsourcekey&&(r.srfsourcekey=e[0].srfsourcekey);var c=JSON.parse(JSON.stringify(this.context));delete c.pimarchivescenter,e.length>0&&Object.assign(c,e[0]);var s=[],l=[{pathName:\"pimarchivescenters\",parameterName:\"pimarchivescenter\"},{pathName:\"editview\",parameterName:\"editview\"}],u=function(t){var i={w:(new Date).getTime()};Object.assign(i,t);var a=o.$viewTool.buildUpRoutePath(o.$route,c,s,l,e,i);o.$router.push(a)};u(r)}},{key:\"opendata\",value:function(e,t,i,a,n){var o=this,r={},c=JSON.parse(JSON.stringify(this.context));e.length>0&&Object.assign(c,e[0]);var s=[],l=[{pathName:\"pimarchivescenters\",parameterName:\"pimarchivescenter\"},{pathName:\"editview\",parameterName:\"editview\"}],u=function(t){var i=o.$viewTool.buildUpRoutePath(o.$route,c,s,l,e,t);o.$router.push(i)};u(r)}},{key:\"NewRow\",value:function(e,t,i,a,n,o,r){var c=this,s={};c.newRow&&c.newRow instanceof Function?c.newRow([y({},s)],i,a,n):n.newRow&&n.newRow instanceof Function?n.newRow([y({},s)],i,a,n):c.$Notice.error({title:\"错误\",desc:\"newRow 视图处理逻辑不存在，请添加!\"})}},{key:\"SaveRow\",value:function(e,t,i,a,n,o,r){var c=this;n&&n.save instanceof Function?n.save():c.save&&c.save instanceof Function&&c.save()}},{key:\"Remove\",value:function(e,t,i,a,n,o,r){n&&n.remove instanceof Function&&n.remove(e)}},{key:\"Import\",value:function(e,t,i,a,n,o,r){n&&n.importExcel instanceof Function&&a&&n.importExcel(i)}},{key:\"ExportExcel\",value:function(e,t,i,a,n,o,r){n&&n.exportExcel instanceof Function&&a&&n.exportExcel(a.exportparms)}},{key:\"destroyed\",value:function(){var e=this;if(this.viewDefaultUsage){var t=Object.keys(localStorage);t.length>0&&t.forEach((function(t){t.startsWith(e.context.srfsessionid)&&localStorage.removeItem(t)}))}}},{key:\"created\",value:function(){var e=this;Object(f[\"a\"])(Object(o[\"a\"])(t.prototype),\"created\",this).call(this),this.formDruipart&&this.formDruipart.subscribe((function(t){if(Object.is(t.action,\"save\")&&e.viewState.next({tag:\"grid\",action:\"save\",data:e.viewparams}),Object.is(t.action,\"load\")){var i=e;i.engine.load(t.data,!0)}}))}},{key:\"onSearch\",value:function(e){var t=this.$refs.grid;t&&t.load(this.context)}},{key:\"onSave\",value:function(e){this.$emit(\"drdatasaved\",e)}},{key:\"onRefreshData\",value:function(e,t){if(null!==e&&void 0!==e&&0!==e){var i=this.$refs.grid;i&&i.load({})}}},{key:\"refreshdata\",get:function(){return this.$store.getters[\"viewaction/getRefreshData\"](this.viewtag)}}]),t}(p[\"j\"]);c[\"a\"]([Object(s[\"b\"])()],O.prototype,\"viewDatasChange\",null),c[\"a\"]([Object(s[\"e\"])()],O.prototype,\"formDruipart\",void 0),c[\"a\"]([Object(s[\"h\"])(\"refreshdata\")],O.prototype,\"onRefreshData\",null),O=c[\"a\"]([Object(s[\"a\"])({}),p[\"q\"]],O);var k=O,_=k,S=(i(\"b820\"),i(\"2877\")),j=Object(S[\"a\"])(_,l,u,!1,null,null,null),D=j.exports,E=i(\"5812\"),C=i(\"a2d4\"),R=function(e){function t(){return Object(a[\"a\"])(this,t),Object(n[\"a\"])(this,Object(o[\"a\"])(t).apply(this,arguments))}return Object(r[\"a\"])(t,e),t}(D);R=c[\"a\"]([Object(s[\"a\"])({components:{view_grid:E[\"a\"],view_searchform:C[\"a\"]},beforeRouteEnter:function(e,t,i){i((function(t){t.$store.commit(\"addCurPageViewtag\",{fullPath:e.fullPath,viewtag:t.viewtag})}))}})],R);var x,I,N=R,A=N,F=Object(S[\"a\"])(A,x,I,!1,null,null,null);t[\"default\"]=F.exports},b820:function(e,t,i){\"use strict\";var a=i(\"2a01\"),n=i.n(a);n.a}}]);","extractedComments":[]}