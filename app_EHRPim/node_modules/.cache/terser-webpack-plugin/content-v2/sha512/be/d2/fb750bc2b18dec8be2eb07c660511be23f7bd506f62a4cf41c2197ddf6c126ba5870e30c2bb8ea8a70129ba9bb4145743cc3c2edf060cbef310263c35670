{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1cd62bd4\"],{2691:function(e,t,a){\"use strict\";a.r(t);var i=a(\"d4ec\"),o=a(\"99de\"),s=a(\"7e84\"),n=a(\"262e\"),r=a(\"9ab4\"),l=a(\"60a3\"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"app-layout\",{attrs:{viewName:\"pimportalview\",viewTitle:\"Pim门户首页\",isShowCaptionBar:!1,isShowToolbar:!1,className:{\"view-container\":!0,\"default-mode-view\":!0,appportalview:!0,\"pim-portal-view\":!0},layoutMode:\"VIEW\",isShowUserInfo:e.isDefaultView(),openMode:e.openMode},on:{\"close-view\":function(t){return e.closeView(t)}}},[a(\"template\",{slot:\"headerLeft\"},[a(\"div\",{staticClass:\"view-header-left\"},[e.isDefaultView()?a(\"div\",{staticClass:\"view-caption\"},[e._v(e._s(e.$t(e.model.srfCaption)))]):e._e(),e.isModalView()?a(\"modal-breadcrumb\"):e._e()],1)]),a(\"template\",{slot:\"content\"},[a(\"div\",{staticClass:\"view-content-wrapper\"},[a(\"view_dashboard\",{ref:\"dashboard\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:JSON.parse(JSON.stringify(e.context)),isEnableCustomized:!0,name:\"dashboard\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],2)},d=[],u=a(\"bee2\"),v=a(\"2bd2\"),p=a(\"46aa\"),f=function(e){function t(){var e;return Object(i[\"a\"])(this,t),e=Object(o[\"a\"])(this,Object(s[\"a\"])(t).apply(this,arguments)),e.counterServiceArray=[],e.viewtag=\"8be166f8e5b8aec59faf7bdd19555a32\",e.srfparentdata={},e.customViewNavContexts={},e.customViewParams={},e.model={srfCaption:\"app.views.pimportalview.caption\",srfTitle:\"app.views.pimportalview.title\",srfSubTitle:\"app.views.pimportalview.subtitle\",dataInfo:\"\"},e.containerModel={view_dashboard:{name:\"dashboard\",type:\"DASHBOARD\"}},e.viewState=new v[\"a\"],e.isDefaultPage=!1,e}return Object(n[\"a\"])(t,e),Object(u[\"a\"])(t,[{key:\"viewDatasChange\",value:function(e){return e}},{key:\"engineInit\",value:function(){}}]),t}(p[\"o\"]);r[\"a\"]([Object(l[\"b\"])()],f.prototype,\"viewDatasChange\",null),f=r[\"a\"]([Object(l[\"a\"])({}),p[\"q\"]],f);var b=f,w=b,h=(a(\"768a\"),a(\"2877\")),m=Object(h[\"a\"])(w,c,d,!1,null,null,null),y=m.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"dashboard\"},[e.isEnableCustomized?a(\"row\",[a(\"app-build\",{on:{handleClick:e.handleClick}})],1):e._e(),e.isHasCustomized?e._e():a(\"row\",[a(\"i-col\",{attrs:{xs:{span:8,offset:0},sm:{span:8,offset:0},md:{span:8,offset:0},lg:{span:8,offset:0}}},[a(\"card\",{staticClass:\"portlet-card\",attrs:{bordered:!1,\"dis-hover\":\"\",padding:0}},[a(\"span\",[a(\"view_db_sysportlet1\",{ref:\"db_sysportlet1\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,height:932,width:0,name:\"db_sysportlet1\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],1),a(\"i-col\",{attrs:{xs:{span:16,offset:0},sm:{span:16,offset:0},md:{span:16,offset:0},lg:{span:16,offset:0}}},[a(\"card\",{staticClass:\"portlet-card\",attrs:{bordered:!1,\"dis-hover\":\"\",padding:0}},[a(\"span\",[a(\"view_db_sysportlet2\",{ref:\"db_sysportlet2\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,height:250,width:0,name:\"db_sysportlet2\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],1),a(\"i-col\",{attrs:{xs:{span:8,offset:0},sm:{span:8,offset:0},md:{span:8,offset:0},lg:{span:8,offset:0}}},[a(\"card\",{staticClass:\"portlet-card\",attrs:{bordered:!1,\"dis-hover\":\"\",padding:0}},[a(\"span\",[a(\"view_db_sysportlet4\",{ref:\"db_sysportlet4\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,height:666,width:0,name:\"db_sysportlet4\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],1),a(\"i-col\",{attrs:{xs:{span:8,offset:0},sm:{span:8,offset:0},md:{span:8,offset:0},lg:{span:8,offset:0}}},[a(\"card\",{staticClass:\"portlet-card\",attrs:{bordered:!1,\"dis-hover\":\"\",padding:0}},[a(\"span\",[a(\"view_db_sysportlet3\",{ref:\"db_sysportlet3\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,height:325,width:0,name:\"db_sysportlet3\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],1),a(\"i-col\",{attrs:{xs:{span:8,offset:0},sm:{span:8,offset:0},md:{span:8,offset:0},lg:{span:8,offset:0}}},[a(\"card\",{staticClass:\"portlet-card\",attrs:{bordered:!1,\"dis-hover\":\"\",padding:0}},[a(\"span\",[a(\"view_db_sysportlet5\",{ref:\"db_sysportlet5\",attrs:{viewState:e.viewState,viewparams:e.viewparams,context:e.context,height:325,width:0,name:\"db_sysportlet5\"},on:{closeview:function(t){return e.closeView(t)}}})],1)])],1)],1),e.isHasCustomized?a(\"row\",{staticStyle:{width:\"100%\",\"min-height\":\"calc(100% - 40px)\"}},[a(\"div\",{staticClass:\"portlet-container\",staticStyle:{position:\"relative\",width:\"100%\"}},[e._l(e.modelDta,(function(t,i){return[a(\"div\",{key:i,style:{zIndex:10,position:\"absolute\",height:t.h*e.layoutRowH+\"px\",width:\"calc(100% / \"+e.layoutColNum+\" * \"+t.w+\")\",top:t.y*e.layoutRowH+\"px\",left:\"calc(100% / \"+e.layoutColNum+\" * \"+t.x+\")\"}},[a(t.componentName,{key:e.$util.createUUID(),tag:\"component\",attrs:{name:t.portletCodeName,context:JSON.parse(JSON.stringify(e.context)),viewDefaultUsage:!1,isAdaptiveSize:!0,viewState:e.viewState}})],1)]}))],2)]):e._e()],1)},g=[],O=(a(\"4160\"),a(\"b0c0\"),a(\"2b19\"),a(\"b64b\"),a(\"159b\"),a(\"a8bf\")),_=function(e){function t(){return Object(i[\"a\"])(this,t),Object(o[\"a\"])(this,Object(s[\"a\"])(t).apply(this,arguments))}return Object(n[\"a\"])(t,e),t}(O[\"a\"]),j=a(\"bacf\"),C=function(e){function t(){var e;return Object(i[\"a\"])(this,t),e=Object(o[\"a\"])(this,Object(s[\"a\"])(t).apply(this,arguments)),e.counterServiceArray=[],e.service=new _({$store:e.$store}),e.isHasCustomized=!1,e.modelId=\"dashboard_app_pimportalview_db\",e.utilService=new j[\"a\"],e.utilServiceName=\"dynadashboard\",e.layoutColNum=12,e.layoutRowH=80,e}return Object(n[\"a\"])(t,e),Object(u[\"a\"])(t,[{key:\"getControlType\",value:function(){return\"DASHBOARD\"}},{key:\"closeView\",value:function(e){var t=this;t.$emit(\"closeview\",[e])}},{key:\"counterRefresh\",value:function(){var e=this;e.counterServiceArray&&e.counterServiceArray.length>0&&e.counterServiceArray.forEach((function(e){e.refreshData&&e.refreshData instanceof Function&&e.refreshData()}))}},{key:\"getDatas\",value:function(){return[]}},{key:\"getData\",value:function(){return{}}},{key:\"created\",value:function(){this.afterCreated()}},{key:\"afterCreated\",value:function(){var e=this;this.viewState&&(this.viewStateEvent=this.viewState.subscribe((function(t){var a=t.tag,i=t.action;t.data;Object.is(a,e.name)&&Object.is(\"load\",i)&&e.loadModel()})))}},{key:\"notifyState\",value:function(){var e=this;this.$nextTick((function(){if(e.isHasCustomized)e.modelDta&&e.modelDta.length>0&&e.modelDta.forEach((function(t){e.viewState.next({tag:t.portletCodeName,action:\"load\",data:JSON.parse(JSON.stringify(e.viewparams))})}));else if(e.viewState){var t=e.$refs;Object.keys(t).forEach((function(t){e.viewState.next({tag:t,action:\"load\",data:JSON.parse(JSON.stringify(e.viewparams))})}))}}))}},{key:\"loadModel\",value:function(){var e=this;this.isEnableCustomized?this.utilService.getService(this.utilServiceName).then((function(t){t.loadModelData(JSON.parse(JSON.stringify(e.context)),{modelid:e.modelId,utilServiceName:e.utilServiceName}).then((function(t){if(t&&200==t.status){var a=t.data;a&&a.length>0?(e.isHasCustomized=!0,e.modelDta=a,e.$forceUpdate()):e.isHasCustomized=!1,e.notifyState()}else console.error(\"加载面板模型异常\"),e.isHasCustomized=!1,e.notifyState()}))[\"catch\"]((function(t){console.error(\"加载面板模型异常\"),console.error(t),e.isHasCustomized=!1,e.notifyState()}))})):this.notifyState()}},{key:\"handleClick\",value:function(){var e=this,t={viewname:\"app-portal-design\",title:\"面板设计\",width:1600,placement:\"DRAWER_RIGHT\"},a={modelid:this.modelId,utilServiceName:this.utilServiceName,appdeName:\"app\"},i=this.$appdrawer.openDrawer(t,JSON.parse(JSON.stringify(this.context)),a);i.subscribe((function(t){Object.is(t.ret,\"OK\")&&e.loadModel()}))}},{key:\"destroyed\",value:function(){this.afterDestroy()}},{key:\"afterDestroy\",value:function(){this.viewStateEvent&&this.viewStateEvent.unsubscribe()}}]),t}(l[\"g\"]);r[\"a\"]([Object(l[\"e\"])()],C.prototype,\"name\",void 0),r[\"a\"]([Object(l[\"e\"])()],C.prototype,\"viewState\",void 0),r[\"a\"]([Object(l[\"e\"])()],C.prototype,\"context\",void 0),r[\"a\"]([Object(l[\"e\"])()],C.prototype,\"viewparams\",void 0),r[\"a\"]([Object(l[\"e\"])()],C.prototype,\"isEnableCustomized\",void 0),C=r[\"a\"]([Object(l[\"a\"])({components:{}})],C);var x=C,k=x,N=(a(\"aa9f\"),Object(h[\"a\"])(k,S,g,!1,null,null,null)),D=N.exports,E=a(\"d21d\"),P=a(\"c760\"),$=a(\"f960\"),I=a(\"24eb\"),V=a(\"1789\"),z=function(e){function t(){return Object(i[\"a\"])(this,t),Object(o[\"a\"])(this,Object(s[\"a\"])(t).apply(this,arguments))}return Object(n[\"a\"])(t,e),t}(D);z=r[\"a\"]([Object(l[\"a\"])({components:{view_db_sysportlet5:E[\"a\"],view_db_sysportlet4:P[\"a\"],view_db_sysportlet3:$[\"a\"],view_db_sysportlet2:I[\"a\"],view_db_sysportlet1:V[\"a\"]}})],z);var H,J,A=z,M=A,R=Object(h[\"a\"])(M,H,J,!1,null,null,null),F=R.exports,T=function(e){function t(){return Object(i[\"a\"])(this,t),Object(o[\"a\"])(this,Object(s[\"a\"])(t).apply(this,arguments))}return Object(n[\"a\"])(t,e),t}(y);T=r[\"a\"]([Object(l[\"a\"])({components:{view_dashboard:F},beforeRouteEnter:function(e,t,a){a((function(t){t.$store.commit(\"addCurPageViewtag\",{fullPath:e.fullPath,viewtag:t.viewtag})}))}})],T);var U,B,K=T,W=K,q=Object(h[\"a\"])(W,U,B,!1,null,null,null);t[\"default\"]=q.exports},\"5cc1\":function(e,t,a){},\"768a\":function(e,t,a){\"use strict\";var i=a(\"8499\"),o=a.n(i);o.a},8499:function(e,t,a){},aa9f:function(e,t,a){\"use strict\";var i=a(\"5cc1\"),o=a.n(i);o.a},bacf:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return s}));a(\"7a82\"),a(\"d3b7\");var i=a(\"d4ec\"),o=a(\"bee2\"),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i[\"a\"])(this,e),this.$store=null,this.modelIdField=\"\",this.modelField=\"\",this.appIdField=\"\",this.userIdField=\"\",this.stoageEntityName=\"\",this.stoageEntityKey=\"\",this.$store=t.$store,this.initBasicParam()}return Object(o[\"a\"])(e,[{key:\"getStore\",value:function(){return this.$store}},{key:\"initBasicParam\",value:function(){console.log(\"UtilService初始化参数未实现\")}},{key:\"getService\",value:function(e){return window[\"utilServiceRegister\"].getService(e)}},{key:\"handlePreParam\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},i={};return e.modelid&&(Object.defineProperty(a,this.modelIdField,{value:e.modelid,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(a,this.stoageEntityName,{value:e.modelid,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(i,this.modelIdField,{value:e.modelid,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(i,this.stoageEntityKey,{value:e.modelid,writable:!0,enumerable:!0,configurable:!0})),Object.defineProperty(i,this.modelField,{value:t,writable:!0,enumerable:!0,configurable:!0}),{context:a,data:i}}},{key:\"loadModelData\",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return Promise.resolve(null)}},{key:\"saveModelData\",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return Promise.resolve(null)}}]),e}()}}]);","extractedComments":[]}